import{j as e}from"./query-vendor-CM55eWOT.js";import{r as k,L as n}from"./react-vendor-CXp26_Hx.js";import{u as E,P as j}from"./useMemberData-BdepG6Fx.js";import{C as a,a as i,b}from"./Card-C-jJKiAv.js";import{B as g}from"./Button-JX_3oChN.js";import{S}from"./Spinner-CSB2ADVs.js";import"./index-Ck6qqv4n.js";import"./animation-vendor-Bcu85ETC.js";function $(){var o,h;const{profile:s,payments:u,meetings:c,activity:x,isLoading:p,totalPayments:N,upcomingMeetings:y,daysUntilExpiry:d,isExpired:l,isExpiringSoon:r,fetchAll:m}=E();if(k.useEffect(()=>{m()},[m]),p&&!s)return e.jsx(j,{title:"Member Portal",subtitle:"Loading your dashboard...",children:e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsx(S,{size:"lg"})})});const w=l?"border-red-200 bg-red-50":r?"border-yellow-200 bg-yellow-50":"border-green-200 bg-green-50",f=l?"Expired":r?"Expiring Soon":(s==null?void 0:s.status)||"Active",v=l?"text-red-700":r?"text-yellow-700":"text-green-700";return e.jsxs(j,{title:"Welcome Back!",subtitle:"Here's what's happening with your membership",children:[e.jsxs("div",{className:"mb-8 grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:[e.jsx(a,{children:e.jsxs(i,{children:[e.jsxs("div",{className:"mb-4 flex items-center gap-4",children:[e.jsxs("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-wiria-blue-dark text-2xl font-bold text-white",children:[(o=s==null?void 0:s.firstName)==null?void 0:o[0],(h=s==null?void 0:s.lastName)==null?void 0:h[0]]}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold text-wiria-blue-dark",children:[s==null?void 0:s.firstName," ",s==null?void 0:s.lastName]}),e.jsx("p",{className:"text-sm text-gray-500",children:s==null?void 0:s.email})]})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Member ID:"}),e.jsx("span",{className:"font-semibold text-gray-800",children:(s==null?void 0:s.memberNumber)||"--"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Status:"}),e.jsx("span",{className:`rounded px-2 py-0.5 text-xs font-bold uppercase ${v} ${w}`,children:f})]})]}),e.jsx(n,{to:"/member-profile",children:e.jsx(g,{className:"mt-4 w-full",variant:"primary",children:"View Profile"})})]})}),e.jsx(a,{className:`bg-gradient-to-br from-wiria-blue-dark to-blue-900 text-white ${l?"ring-2 ring-red-500":""}`,children:e.jsxs(i,{children:[e.jsx("h3",{className:"mb-2 text-lg font-bold",children:"Membership"}),e.jsx("p",{className:"mb-4 text-sm text-blue-100",children:l?"Your membership has expired":d!==null?`Expires in ${d} days`:"Checking status..."}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"mb-1 flex justify-between text-xs",children:[e.jsx("span",{children:"Joined"}),e.jsx("span",{children:s!=null&&s.joinedAt?new Date(s.joinedAt).toLocaleDateString():"--"})]})}),e.jsx(n,{to:"/member-renewal",children:e.jsx(g,{className:"w-full bg-wiria-yellow font-bold text-white shadow-lg transition-all hover:scale-105",children:"Renew Membership"})})]})}),e.jsx(a,{children:e.jsxs(i,{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-sm text-gray-500",children:"Total Payments"}),e.jsxs("p",{className:"text-2xl font-bold text-wiria-blue-dark",children:["KES ",N.toLocaleString()]}),e.jsxs("p",{className:"text-xs text-gray-500",children:[u.length," transactions"]})]}),e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-green-100 text-2xl text-green-600",children:"ðŸ’³"})]})}),e.jsx(a,{children:e.jsxs(i,{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-sm text-gray-500",children:"Upcoming Meetings"}),e.jsx("p",{className:"text-2xl font-bold text-wiria-blue-dark",children:y}),e.jsx("p",{className:"text-xs text-gray-500",children:"This month"})]}),e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-blue-100 text-2xl text-blue-600",children:"ðŸ“…"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[e.jsxs(a,{children:[e.jsx(b,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-bold text-wiria-blue-dark",children:"Upcoming Meetings"}),e.jsx(n,{to:"/member-meetings",className:"text-sm text-wiria-blue-dark hover:text-wiria-yellow",children:"View All â†’"})]})}),e.jsx(i,{children:e.jsx("div",{className:"space-y-3",children:c.length===0?e.jsx("p",{className:"text-sm italic text-gray-500",children:"No upcoming meetings"}):c.slice(0,3).map(t=>e.jsx("div",{className:"rounded-lg bg-gray-50 p-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-800",children:t.title}),e.jsxs("p",{className:"text-xs text-gray-500",children:[new Date(t.date).toLocaleDateString()," at ",t.time]})]}),e.jsx("span",{className:"rounded bg-blue-100 px-2 py-1 text-xs text-blue-800",children:t.type})]})},t.id))})})]}),e.jsxs(a,{children:[e.jsx(b,{children:e.jsx("h3",{className:"text-xl font-bold text-wiria-blue-dark",children:"Recent Activity"})}),e.jsx(i,{children:e.jsx("div",{className:"space-y-3",children:x.length===0?e.jsx("p",{className:"text-sm italic text-gray-500",children:"No recent activity"}):x.slice(0,5).map(t=>e.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[e.jsx("div",{className:"mt-2 h-2 w-2 rounded-full bg-wiria-blue-dark"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-800",children:t.description}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(t.createdAt).toLocaleDateString()})]})]},t.id))})})]})]})]})}export{$ as default};
//# sourceMappingURL=MemberPortalPage-9imVJ6Gu.js.map
