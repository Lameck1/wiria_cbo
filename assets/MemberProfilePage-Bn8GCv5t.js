import{j as a}from"./query-vendor-DD8i-cqI.js";import{r as d}from"./react-vendor-CPrm261X.js";import{u as w,P as j}from"./useMemberData-D3p8WF6O.js";import{B as u}from"./Button-CWHg-emY.js";import{I as t}from"./Input-D7EN5OSm.js";import{S as C}from"./Spinner-URkXKFGM.js";import{n as v}from"./index-ClilWTYF.js";import"./animation-vendor-DKvKsx_2.js";function M(){const{profile:e,isLoading:g,fetchProfile:x,updateProfile:f}=w(),[b,m]=d.useState(!1),[y,h]=d.useState(!1),[s,c]=d.useState({});d.useEffect(()=>{x()},[x]),d.useEffect(()=>{e&&c({firstName:e.firstName,lastName:e.lastName,phone:e.phone,occupation:e.occupation,address:e.address,county:e.county,subcounty:e.subcounty,ward:e.ward,interests:e.interests,skills:e.skills})},[e]);const r=n=>{const{name:i,value:o}=n.target;c(p=>({...p,[i]:o}))},N=async n=>{n.preventDefault(),h(!0);try{await f(s),v.success("Profile updated successfully"),m(!1)}catch{v.error("Failed to update profile")}finally{h(!1)}};if(g&&!e)return a.jsx(j,{title:"Member Profile",children:a.jsx("div",{className:"flex items-center justify-center py-20",children:a.jsx(C,{size:"lg"})})});const l=({label:n,value:i})=>a.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[a.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold mb-1",children:n}),a.jsx("p",{className:"text-lg font-semibold text-gray-800",children:Array.isArray(i)?i.join(", "):i||"--"})]});return a.jsx(j,{title:"Member Profile",subtitle:"View and manage your profile information",children:a.jsx("div",{className:"max-w-4xl",children:a.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-wiria-blue-dark via-wiria-yellow to-wiria-green-light"}),!b&&a.jsxs("div",{id:"profile-view",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-wiria-blue-dark",children:"Profile Information"}),a.jsx(u,{onClick:()=>m(!0),children:"Edit Profile"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx(l,{label:"Full Name",value:`${e==null?void 0:e.firstName} ${e==null?void 0:e.lastName}`}),a.jsx(l,{label:"Email Address",value:e==null?void 0:e.email}),a.jsx(l,{label:"Phone Number",value:e==null?void 0:e.phone}),a.jsx(l,{label:"National ID",value:e==null?void 0:e.nationalId}),a.jsx(l,{label:"Occupation",value:e==null?void 0:e.occupation}),a.jsx(l,{label:"Address",value:e==null?void 0:e.address}),a.jsx(l,{label:"County",value:e==null?void 0:e.county}),a.jsx(l,{label:"Sub-County",value:e==null?void 0:e.subcounty}),a.jsx(l,{label:"Ward",value:e==null?void 0:e.ward}),a.jsx("div",{className:"md:col-span-2",children:a.jsx(l,{label:"Interests",value:e==null?void 0:e.interests})}),a.jsx("div",{className:"md:col-span-2",children:a.jsx(l,{label:"Skills",value:e==null?void 0:e.skills})})]})]}),b&&a.jsxs("form",{onSubmit:N,className:"mt-4",children:[a.jsx("h2",{className:"text-2xl font-bold text-wiria-blue-dark mb-6 text-center",children:"Edit Member Profile"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(t,{label:"First Name",name:"firstName",value:s.firstName||"",onChange:r,required:!0}),a.jsx(t,{label:"Last Name",name:"lastName",value:s.lastName||"",onChange:r,required:!0}),a.jsx(t,{label:"Phone",name:"phone",value:s.phone||"",onChange:r}),a.jsx(t,{label:"Occupation",name:"occupation",value:s.occupation||"",onChange:r}),a.jsx("div",{className:"md:col-span-2",children:a.jsx(t,{label:"Address",name:"address",value:s.address||"",onChange:r})}),a.jsx(t,{label:"County",name:"county",value:s.county||"",onChange:r}),a.jsx(t,{label:"Sub-County",name:"subcounty",value:s.subcounty||"",onChange:r}),a.jsx(t,{label:"Ward",name:"ward",value:s.ward||"",onChange:r}),a.jsx("div",{className:"md:col-span-2",children:a.jsx(t,{label:"Interests (comma separated)",name:"interests",value:Array.isArray(s.interests)?s.interests.join(", "):"",onChange:n=>c(i=>({...i,interests:n.target.value.split(",").map(o=>o.trim())}))})}),a.jsx("div",{className:"md:col-span-2",children:a.jsx(t,{label:"Skills (comma separated)",name:"skills",value:Array.isArray(s.skills)?s.skills.join(", "):"",onChange:n=>c(i=>({...i,skills:n.target.value.split(",").map(o=>o.trim())}))})})]}),a.jsxs("div",{className:"flex gap-4 mt-8",children:[a.jsx(u,{type:"submit",className:"flex-1",variant:"primary",isLoading:y,children:"Save Changes"}),a.jsx(u,{type:"button",className:"flex-1",variant:"outline",onClick:()=>m(!1),children:"Cancel"})]})]})]})})})}export{M as default};
//# sourceMappingURL=MemberProfilePage-Bn8GCv5t.js.map
