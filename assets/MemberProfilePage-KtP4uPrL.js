import{j as e}from"./query-vendor-CM55eWOT.js";import{r as i}from"./react-vendor-CXp26_Hx.js";import{u as w,P as h}from"./useMemberData-BdepG6Fx.js";import{B as d}from"./Button-JX_3oChN.js";import{g as k,h as C,i as P,F as r,C as g,n as p}from"./index-Ck6qqv4n.js";import{S}from"./Spinner-CSB2ADVs.js";import{C as A,a as E}from"./Card-C-jJKiAv.js";import{p as F}from"./validation-B2dPSVKP.js";import"./animation-vendor-Bcu85ETC.js";function z(){const{profile:s,isLoading:v,fetchProfile:c,updateProfile:y}=w(),[m,n]=i.useState(!1),[u,x]=i.useState(!1),b=k({resolver:C(F)}),{reset:j,handleSubmit:N}=b;i.useEffect(()=>{c()},[c]),i.useEffect(()=>{s&&j({firstName:s.firstName,lastName:s.lastName,phone:s.phone,occupation:s.occupation,address:s.address,county:s.county,subcounty:s.subcounty,ward:s.ward,interests:s.interests,skills:s.skills})},[s,j]);const f=async a=>{x(!0);try{await y(a),p.success("Profile updated successfully"),n(!1)}catch{p.error("Failed to update profile")}finally{x(!1)}};if(v&&!s)return e.jsx(h,{title:"Member Profile",children:e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsx(S,{size:"lg"})})});const l=({label:a,value:t})=>e.jsxs("div",{className:"rounded-xl bg-gray-50/50 p-4 border border-gray-100/50",children:[e.jsx("p",{className:"mb-1 text-xs font-bold uppercase tracking-wider text-gray-500",children:a}),e.jsx("p",{className:"text-lg font-semibold text-gray-800",children:Array.isArray(t)?t.join(", "):t||"--"})]});return e.jsx(h,{title:"Member Profile",subtitle:"View and manage your profile information",children:e.jsx("div",{className:"max-w-4xl",children:e.jsxs(A,{className:"border-none shadow-xl overflow-hidden",children:[e.jsx("div",{className:"h-2 w-full bg-gradient-to-r from-wiria-blue-dark via-wiria-yellow to-wiria-green-light"}),e.jsx(E,{className:"p-8",children:e.jsxs(P,{...b,children:[!m&&e.jsxs("div",{id:"profile-view",children:[e.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-wiria-blue-dark",children:"Profile Information"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Your personal and contact details"})]}),e.jsx(d,{onClick:()=>n(!0),variant:"outline",children:"Edit Profile"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsx(l,{label:"Full Name",value:`${s==null?void 0:s.firstName} ${s==null?void 0:s.lastName}`}),e.jsx(l,{label:"Email Address",value:s==null?void 0:s.email}),e.jsx(l,{label:"Phone Number",value:s==null?void 0:s.phone}),e.jsx(l,{label:"National ID",value:s==null?void 0:s.nationalId}),e.jsx(l,{label:"Occupation",value:s==null?void 0:s.occupation}),e.jsx(l,{label:"Address",value:s==null?void 0:s.address}),e.jsx(l,{label:"County",value:s==null?void 0:s.county}),e.jsx(l,{label:"Sub-County",value:s==null?void 0:s.subcounty}),e.jsx(l,{label:"Ward",value:s==null?void 0:s.ward}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(l,{label:"Interests",value:s==null?void 0:s.interests})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(l,{label:"Skills",value:s==null?void 0:s.skills})})]})]}),m&&e.jsxs("form",{onSubmit:N(f),className:"space-y-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-wiria-blue-dark",children:"Edit Member Profile"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Keep your information up to date"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsx(r,{label:"First Name",name:"firstName",required:!0}),e.jsx(r,{label:"Last Name",name:"lastName",required:!0}),e.jsx(r,{label:"Phone",name:"phone",type:"tel",placeholder:"e.g. 0712345678"}),e.jsx(r,{label:"Occupation",name:"occupation"}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(r,{label:"Address",name:"address"})}),e.jsx(r,{label:"County",name:"county"}),e.jsx(r,{label:"Sub-County",name:"subcounty"}),e.jsx(r,{label:"Ward",name:"ward"}),e.jsx("div",{className:"md:col-span-2",children:e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-sm font-semibold text-wiria-blue-dark",children:"Interests"}),e.jsx(g,{name:"interests",render:({field:a})=>e.jsx("input",{...a,value:Array.isArray(a.value)?a.value.join(", "):"",onChange:t=>a.onChange(t.target.value.split(",").map(o=>o.trim())),className:"block w-full rounded-lg border border-gray-300 bg-white p-3 text-wiria-blue-dark focus:border-wiria-blue-dark focus:ring-1 focus:ring-wiria-blue-dark outline-none transition-all"})}),e.jsx("p",{className:"text-xs text-gray-400",children:"Comma separated list of interests"})]})}),e.jsx("div",{className:"md:col-span-2",children:e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-sm font-semibold text-wiria-blue-dark",children:"Skills"}),e.jsx(g,{name:"skills",render:({field:a})=>e.jsx("input",{...a,value:Array.isArray(a.value)?a.value.join(", "):"",onChange:t=>a.onChange(t.target.value.split(",").map(o=>o.trim())),className:"block w-full rounded-lg border border-gray-300 bg-white p-3 text-wiria-blue-dark focus:border-wiria-blue-dark focus:ring-1 focus:ring-wiria-blue-dark outline-none transition-all"})}),e.jsx("p",{className:"text-xs text-gray-400",children:"Comma separated list of skills"})]})})]}),e.jsxs("div",{className:"flex gap-4 pt-4 border-t",children:[e.jsx(d,{type:"submit",className:"flex-1 h-12",isLoading:u,children:"Save Changes"}),e.jsx(d,{type:"button",className:"flex-1 h-12",variant:"outline",onClick:()=>n(!1),disabled:u,children:"Cancel"})]})]})]})})]})})})}export{z as default};
//# sourceMappingURL=MemberProfilePage-KtP4uPrL.js.map
