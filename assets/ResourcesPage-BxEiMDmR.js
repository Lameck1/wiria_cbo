import{u as C,j as e}from"./query-vendor-DHwl1fd7.js";import{r as u,c as R}from"./react-vendor-Bq_hyp-_.js";import{u as L,L as B,P as O}from"./index-CAAuZHUR.js";import{m,A as f}from"./animation-vendor-DqiKO7jm.js";import{M as P,a as A,b as T,c as D}from"./ModalFooter-DOzObLCY.js";const F=[{id:"static-tender-1",refNo:"WIRIA/TENDER/2025/001",title:"Supply of Medical Equipment and Supplies",category:"Procurement",estimatedValue:"KES 2,500,000",deadline:"2025-12-31",publishDate:"2025-11-15",description:"WIRIA CBO seeks qualified suppliers to provide medical equipment and supplies for our health programs.",eligibility:["Registered business with valid KRA PIN certificate","Experience in medical supplies provision (minimum 2 years)","Valid licenses from Pharmacy and Poisons Board"],requiredDocuments:["Company registration certificate","KRA PIN and Tax Compliance Certificate","Pharmacy and Poisons Board license","Detailed price quotation"],submissionMethod:"Physical submission and email",submissionAddress:"WIRIA CBO Offices, Mwangaza Center, Homa Bay Town",submissionEmail:"mwiriacbo@gmail.com",contactPerson:"Procurement Officer",contactPhone:"+254 712 345 678",downloadUrl:"",status:"OPEN",createdAt:"2025-11-15T00:00:00Z",updatedAt:"2025-11-15T00:00:00Z"},{id:"static-tender-2",refNo:"WIRIA/TENDER/2025/002",title:"Consultancy Services - M&E System Development",category:"Consultancy",estimatedValue:"KES 800,000",deadline:"2025-12-25",publishDate:"2025-11-20",description:"WIRIA seeks an experienced consultant to develop a comprehensive Monitoring and Evaluation system.",eligibility:["Master's degree in M&E, Statistics, or related field","Minimum 5 years experience in M&E systems design","Previous work with NGOs/CBOs in Kenya"],requiredDocuments:["Technical proposal (methodology and workplan)","Financial proposal","CV with academic certificates","Portfolio of previous M&E projects"],submissionMethod:"Email submission only",submissionAddress:"Not applicable",submissionEmail:"mwiriacbo@gmail.com",contactPerson:"Programs Manager",contactPhone:"+254 723 456 789",downloadUrl:"",status:"OPEN",createdAt:"2025-11-20T00:00:00Z",updatedAt:"2025-11-20T00:00:00Z"},{id:"static-tender-3",refNo:"WIRIA/TENDER/2025/003",title:"Construction of Community Resource Center",category:"Construction",estimatedValue:"KES 5,000,000",deadline:"2026-01-15",publishDate:"2025-11-25",description:"WIRIA invites qualified contractors to bid for the construction of a multi-purpose community resource center.",eligibility:["Valid NCA registration (minimum Category 4)","Experience in similar projects (minimum 3 completed)","Financial capacity (annual turnover min. KES 10M)"],requiredDocuments:["NCA registration certificate","Company registration documents","KRA PIN and Tax Compliance","Detailed bill of quantities and pricing"],submissionMethod:"Physical submission in sealed envelope",submissionAddress:"WIRIA CBO Offices, Mwangaza Center, Homa Bay Town - Tender Box",submissionEmail:"mwiriacbo@gmail.com",contactPerson:"Projects Coordinator",contactPhone:"+254 734 567 890",downloadUrl:"",status:"OPEN",createdAt:"2025-11-25T00:00:00Z",updatedAt:"2025-11-25T00:00:00Z"}],V=[{id:"static-resource-1",title:"WIRIA Constitution",description:"The foundational legal document outlining our governance and operational framework.",category:"GOVERNANCE",fileType:"PDF",fileSize:"2.4 MB",downloadUrl:null,summary:"This constitution establishes WIRIA as a Community-Based Organization.",keyPoints:["Organizational structure","Membership eligibility","Financial management"],isPublic:!0,downloads:0,uploadedAt:"2024-01-01T00:00:00Z",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"static-resource-2",title:"Strategic Plan 2024-2029",description:"Our roadmap for the next five years.",category:"STRATEGIC",fileType:"PDF",fileSize:"5.2 MB",downloadUrl:null,summary:"Five-year strategic plan outlining WIRIA vision for expanding programs.",keyPoints:["Expand HIV/TB/Malaria prevention","Strengthen SGBV response","Economic empowerment"],isPublic:!0,downloads:0,uploadedAt:"2024-01-01T00:00:00Z",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"static-resource-3",title:"Annual Audited Accounts 2024",description:"Our most recent financial statements, independently audited.",category:"FINANCIAL",fileType:"PDF",fileSize:"3.1 MB",downloadUrl:null,summary:"Independently audited financial statements for fiscal year 2024.",keyPoints:["Total revenue: KES 12.5 million","Program expenditure: 78%","Clean audit opinion"],isPublic:!0,downloads:0,uploadedAt:"2024-01-01T00:00:00Z",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"static-resource-4",title:"Safeguarding Policy (PSEAH)",description:"Our commitment to protecting vulnerable persons from exploitation.",category:"POLICIES",fileType:"PDF",fileSize:"1.8 MB",downloadUrl:"/documents/safeguarding-policy.pdf",summary:"Comprehensive policy on Protection from Sexual Exploitation, Abuse, and Harassment.",keyPoints:["Zero-tolerance approach","Clear reporting mechanisms","Survivor-centered response"],isPublic:!0,downloads:0,uploadedAt:"2024-01-01T00:00:00Z",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"static-resource-5",title:"Gender Equality Policy",description:"Our framework for promoting gender equality.",category:"POLICIES",fileType:"PDF",fileSize:"2.2 MB",downloadUrl:"/documents/gender-equality-policy.pdf",summary:"WIRIA commitment to mainstreaming gender across all programs.",keyPoints:["Gender-responsive design","Equal opportunities","Gender-disaggregated data"],isPublic:!0,downloads:0,uploadedAt:"2024-01-01T00:00:00Z",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"static-resource-6",title:"M&E Framework 2024",description:"Our monitoring and evaluation framework.",category:"STRATEGIC",fileType:"PDF",fileSize:"3.5 MB",downloadUrl:"/documents/me-framework-2024.pdf",summary:"Framework outlining indicators, data collection methods, and reporting procedures.",keyPoints:["Program-specific indicators","Data collection protocols","Reporting schedules"],isPublic:!0,downloads:0,uploadedAt:"2024-01-01T00:00:00Z",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"}];async function W(){var a;const s=await fetch("/api/resources");if(!s.ok)throw new Error("Failed to fetch resources");return((a=(await s.json()).data)==null?void 0:a.data)||[]}function E(){const{isBackendConnected:s,isChecking:i}=L();return C({queryKey:["resources",s],queryFn:()=>s?W():Promise.resolve(V),staleTime:300*1e3,enabled:!i})}async function z(){var a;const s=await fetch("/api/tenders");if(!s.ok)throw new Error("Failed to fetch tenders");return((a=(await s.json()).data)==null?void 0:a.data)||[]}function M(){const{isBackendConnected:s,isChecking:i}=L();return C({queryKey:["tenders",s],queryFn:()=>s?z():Promise.resolve(F),staleTime:300*1e3,enabled:!i})}function U(){return"http://localhost:5001/api".replace("/api","")}function b(s){return s?s.startsWith("http://")||s.startsWith("https://")?s:`${U()}${s}`:""}function w(s){return!!(s&&s.trim().length>0)}const H={GOVERNANCE:"ðŸ“œ",STRATEGIC:"ðŸŽ¯",FINANCIAL:"ðŸ’°",POLICIES:"ðŸ“‹",REPORTS:"ðŸ“Š",OTHER:"ðŸ“„"},$={GOVERNANCE:"bg-purple-100 text-purple-700",STRATEGIC:"bg-blue-100 text-blue-700",FINANCIAL:"bg-green-100 text-green-700",POLICIES:"bg-amber-100 text-amber-700",REPORTS:"bg-rose-100 text-rose-700",OTHER:"bg-gray-100 text-gray-700"};function Z({document:s,onClick:i,index:a=0}){const r=H[s.category]||"ðŸ“„",c=$[s.category]||"bg-gray-100 text-gray-700",d=new Date(s.uploadedAt||s.createdAt).toLocaleDateString("en-GB",{month:"short",year:"numeric"}),o=w(s.downloadUrl),t=x=>{if(x.stopPropagation(),!o)return;const p=b(s.downloadUrl);window.open(p,"_blank")};return e.jsxs(m.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:a*.08,duration:.4},whileHover:{y:-4,transition:{duration:.2}},onClick:i,className:"document-card bg-white border border-gray-200 rounded-xl p-6 hover:shadow-xl hover:border-wiria-blue-dark/20 transition-shadow cursor-pointer group relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-wiria-blue-dark/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"flex items-start gap-4 mb-4 relative z-10",children:[e.jsx(m.div,{className:"text-4xl",whileHover:{scale:1.1,rotate:5},transition:{duration:.2},children:r}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:`inline-block text-xs font-semibold px-2 py-1 rounded-full ${c}`,children:s.category}),e.jsxs("span",{className:"text-xs text-gray-400",children:["Updated ",d]})]}),e.jsx("h3",{className:"text-lg font-bold text-wiria-blue-dark group-hover:text-wiria-yellow transition-colors line-clamp-2",children:s.title})]})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2 relative z-10",children:s.summary}),s.keyPoints&&s.keyPoints.length>0&&e.jsx("ul",{className:"text-xs text-gray-500 space-y-1 mb-4 relative z-10",children:s.keyPoints.slice(0,2).map((x,p)=>e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-wiria-yellow rounded-full flex-shrink-0"}),e.jsx("span",{className:"line-clamp-1",children:x})]},p))}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100 relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500",children:[e.jsx("span",{className:"bg-gray-100 px-2 py-1 rounded font-medium",children:s.fileType}),e.jsx("span",{children:s.fileSize})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(m.button,{onClick:t,whileHover:o?{scale:1.1}:{},whileTap:o?{scale:.95}:{},disabled:!o,className:`w-8 h-8 rounded-full flex items-center justify-center transition-colors ${o?"bg-wiria-blue-dark/10 hover:bg-wiria-blue-dark text-wiria-blue-dark hover:text-white cursor-pointer":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,title:o?"Quick Download":"Document not uploaded yet",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})}),e.jsxs("span",{className:"text-wiria-blue-dark text-sm font-semibold group-hover:text-wiria-yellow transition-colors flex items-center gap-1",children:["Details",e.jsx("svg",{className:"w-4 h-4 transform group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})]})}function G({document:s,isOpen:i,onClose:a}){var g;const[r,c]=u.useState(!1),[l,d]=u.useState(!0);if(!i||!s)return null;const o=((g=s.fileType)==null?void 0:g.toUpperCase())==="PDF",t=w(s.downloadUrl),x=b(s.downloadUrl),p=()=>{t&&window.open(x,"_blank")},h=new Date(s.uploadedAt||s.createdAt).toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"});return e.jsxs(P,{isOpen:i,onClose:a,maxWidth:"3xl",children:[e.jsxs(A,{onClose:a,className:"bg-gradient-to-r from-wiria-blue-dark to-blue-700 text-white",children:[e.jsx("span",{className:"inline-block px-3 py-1 bg-white/20 rounded-full text-sm font-medium mb-3 backdrop-blur-sm",children:s.category}),e.jsx("h2",{className:"text-2xl font-bold pr-12",children:s.title}),e.jsxs("div",{className:"flex items-center gap-3 mt-2 text-white/80 text-sm",children:[e.jsx("span",{children:s.fileType}),e.jsx("span",{children:"â€¢"}),e.jsx("span",{children:s.fileSize}),e.jsx("span",{children:"â€¢"}),e.jsxs("span",{children:["Updated ",h]})]})]}),e.jsxs(T,{children:[o&&t&&e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between bg-gray-50 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z",clipRule:"evenodd"})}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"PDF Document"})]}),e.jsx("button",{onClick:()=>c(!r),className:"flex items-center gap-2 text-sm font-semibold text-wiria-blue-dark hover:text-wiria-yellow transition-colors",children:r?e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}),"Hide Preview"]}):e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"Preview PDF"]})})]}),e.jsx(f,{children:r&&e.jsxs(m.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:400},exit:{opacity:0,height:0},transition:{duration:.3},className:"mt-4 relative rounded-lg overflow-hidden border border-gray-200",children:[l&&e.jsx("div",{className:"absolute inset-0 bg-gray-100 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-10 h-10 border-4 border-wiria-blue-dark/20 border-t-wiria-blue-dark rounded-full animate-spin mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Loading preview..."})]})}),e.jsx("iframe",{src:`${x}#view=FitH`,className:"w-full h-full",title:`Preview of ${s.title}`,onLoad:()=>d(!1)})]})})]}),!t&&e.jsxs("div",{className:"mb-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4 flex items-center gap-3",children:[e.jsx("svg",{className:"w-6 h-6 text-yellow-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-yellow-800",children:"Document Pending Upload"}),e.jsx("p",{className:"text-sm text-yellow-600",children:"The file for this document has not been uploaded yet."})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Description"}),e.jsx("p",{className:"text-gray-600",children:s.description})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Summary"}),e.jsx("p",{className:"text-gray-600",children:s.summary})]}),s.keyPoints&&s.keyPoints.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Key Points"}),e.jsx("ul",{className:"space-y-2",children:s.keyPoints.map((j,v)=>e.jsxs(m.li,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:v*.1},className:"flex items-start gap-3 text-gray-600",children:[e.jsx("svg",{className:"w-5 h-5 text-wiria-yellow flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),j]},v))})]})]})]}),e.jsxs(D,{className:"flex flex-col sm:flex-row gap-3",children:[t?e.jsxs(m.button,{onClick:p,whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1 bg-wiria-blue-dark text-white font-bold py-3 px-6 rounded-full hover:bg-wiria-yellow transition-colors flex items-center justify-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Download Document"]}):e.jsxs("div",{className:"flex-1 bg-gray-100 text-gray-500 font-semibold py-3 px-6 rounded-full flex items-center justify-center gap-2 cursor-not-allowed",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"No File Available"]}),e.jsx("button",{onClick:a,className:"flex-1 bg-gray-200 text-gray-700 font-bold py-3 px-6 rounded-full hover:bg-gray-300 transition-colors",children:"Close"})]})]})}function y(){return e.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 animate-pulse",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-xl"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"w-20 h-5 bg-gray-200 rounded-full mb-2"}),e.jsx("div",{className:"w-3/4 h-6 bg-gray-200 rounded"})]})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsx("div",{className:"w-full h-4 bg-gray-200 rounded"}),e.jsx("div",{className:"w-2/3 h-4 bg-gray-200 rounded"})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-gray-200 rounded-full"}),e.jsx("div",{className:"w-1/2 h-3 bg-gray-200 rounded"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-gray-200 rounded-full"}),e.jsx("div",{className:"w-2/3 h-3 bg-gray-200 rounded"})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"w-12 h-6 bg-gray-200 rounded"}),e.jsx("div",{className:"w-16 h-6 bg-gray-200 rounded"})]}),e.jsx("div",{className:"w-24 h-5 bg-gray-200 rounded"})]})]})}const q=[{key:"ALL",label:"All"},{key:"GOVERNANCE",label:"Governance"},{key:"STRATEGIC",label:"Strategic"},{key:"FINANCIAL",label:"Financial"},{key:"POLICIES",label:"Policies"}];function K(){const{data:s=[],isLoading:i,isError:a}=E(),[r,c]=u.useState(null),[l,d]=u.useState("ALL"),o=u.useMemo(()=>l==="ALL"?s:s.filter(n=>n.category===l),[s,l]),t=u.useMemo(()=>{const n={ALL:s.length};return s.forEach(h=>{n[h.category]=(n[h.category]||0)+1}),n},[s]),x=u.useCallback(n=>{c(n)},[]),p=u.useCallback(()=>{c(null)},[]);return e.jsxs(e.Fragment,{children:[e.jsx("section",{id:"documents",className:"py-16 scroll-mt-20",children:e.jsxs("div",{className:"container mx-auto px-4 lg:px-6 max-w-5xl",children:[e.jsxs(m.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-wiria-blue-dark mb-4",children:"Document Repository"}),e.jsx("div",{className:"w-24 h-1 bg-gradient-to-r from-wiria-yellow to-wiria-green-light mx-auto rounded-full"})]}),e.jsx("p",{className:"text-gray-600 mb-8 text-center max-w-3xl mx-auto",children:"In our commitment to transparency and accountability, we make our key organizational documents available to the public."}),e.jsx(m.div,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"flex flex-wrap justify-center gap-2 mb-8",children:q.map(n=>e.jsxs("button",{onClick:()=>d(n.key),className:`px-4 py-2 rounded-full text-sm font-semibold transition-all ${l===n.key?"bg-wiria-blue-dark text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[n.label,(t[n.key]??0)>0&&e.jsx("span",{className:`ml-1.5 px-1.5 py-0.5 text-xs rounded-full ${l===n.key?"bg-white/20":"bg-gray-300"}`,children:t[n.key]??0})]},n.key))}),e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:i?e.jsxs(e.Fragment,{children:[e.jsx(y,{}),e.jsx(y,{}),e.jsx(y,{}),e.jsx(y,{})]}):a?e.jsxs(m.div,{initial:{opacity:0},animate:{opacity:1},className:"col-span-2 bg-red-50 border border-red-200 rounded-xl p-8 text-center",children:[e.jsx("div",{className:"text-5xl mb-4",children:"ðŸ˜”"}),e.jsx("p",{className:"text-red-600 font-semibold mb-2",children:"Failed to load documents"}),e.jsx("p",{className:"text-red-500 text-sm",children:"Please refresh the page or try again later."})]}):o.length===0?e.jsxs(m.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"col-span-2 bg-gray-50 border-2 border-dashed border-gray-200 rounded-xl p-12 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsx("p",{className:"text-gray-600 font-semibold mb-2",children:"No documents in this category"}),e.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"Try selecting a different category or check back later."}),e.jsx("button",{onClick:()=>d("ALL"),className:"text-wiria-blue-dark font-semibold hover:text-wiria-yellow transition-colors",children:"View all documents â†’"})]}):e.jsx(f,{mode:"popLayout",children:o.map((n,h)=>e.jsx(Z,{document:n,index:h,onClick:()=>x(n)},n.id))})})]})}),e.jsx(G,{document:r,isOpen:!!r,onClose:p})]})}function S(s){const i=new Date,r=new Date(s).getTime()-i.getTime();if(r<=0)return{days:0,hours:0,isExpired:!0,isUrgent:!1};const c=Math.floor(r/(1e3*60*60*24)),l=Math.floor(r%(1e3*60*60*24)/(1e3*60*60)),d=c<=7;return{days:c,hours:l,isExpired:!1,isUrgent:d}}function I(s,i,a){return a||s==="CLOSED"?{text:"Closed",bgClass:"bg-gray-100 text-gray-600",dotClass:"bg-gray-400"}:i?{text:"Closing Soon",bgClass:"bg-red-100 text-red-600",dotClass:"bg-red-500 animate-pulse"}:s==="OPEN"?{text:"Open",bgClass:"bg-green-100 text-green-600",dotClass:"bg-green-500"}:{text:s,bgClass:"bg-gray-100 text-gray-600",dotClass:"bg-gray-400"}}function _({tender:s,onClick:i,index:a=0}){const{days:r,hours:c,isExpired:l,isUrgent:d}=S(s.deadline),o=I(s.status,d,l),t=new Date(s.deadline);return e.jsxs(m.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:a*.1,duration:.4},whileHover:{y:-4,transition:{duration:.2}},className:"bg-white rounded-xl shadow-md p-5 border border-gray-100 hover:shadow-xl transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{className:"text-xs font-mono text-wiria-blue-dark bg-wiria-blue-dark/10 px-2 py-1 rounded",children:s.refNo}),e.jsxs("span",{className:`flex items-center gap-1.5 text-xs font-semibold px-2 py-1 rounded ${o.bgClass}`,children:[e.jsx("span",{className:`w-2 h-2 rounded-full ${o.dotClass}`}),o.text]})]}),e.jsx("h3",{className:"text-lg font-bold text-wiria-blue-dark mb-2 line-clamp-2",children:s.title}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-3 text-sm text-gray-500",children:[e.jsx("span",{className:"bg-gray-100 px-2 py-1 rounded",children:s.category}),e.jsx("span",{className:"font-semibold text-wiria-blue-dark",children:s.estimatedValue})]}),!l&&e.jsxs("div",{className:`flex items-center gap-2 mb-3 p-2 rounded-lg ${d?"bg-red-50":"bg-blue-50"}`,children:[e.jsx("svg",{className:`w-5 h-5 ${d?"text-red-500":"text-blue-500"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{className:`text-sm font-semibold ${d?"text-red-600":"text-blue-600"}`,children:r>0?`${r}d ${c}h remaining`:`${c} hours remaining`})]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:[e.jsx("span",{className:"font-semibold",children:"Deadline:"})," ",t.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})]}),e.jsx("div",{className:"mb-4",children:s.downloadUrl?e.jsxs("span",{className:"inline-flex items-center gap-1.5 text-xs font-semibold px-2 py-1 rounded bg-green-100 text-green-700",children:[e.jsx("svg",{className:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Document Ready"]}):e.jsxs("span",{className:"inline-flex items-center gap-1.5 text-xs font-semibold px-2 py-1 rounded bg-yellow-100 text-yellow-700",children:[e.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"No Document Yet"]})}),e.jsxs(m.button,{onClick:i,whileHover:{scale:1.02},whileTap:{scale:.98},disabled:l,className:`w-full font-semibold py-2.5 px-4 rounded-lg flex items-center justify-center gap-2 transition-colors ${l?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-wiria-blue-dark text-white hover:bg-wiria-yellow"}`,children:[l?"Tender Closed":"View Details",!l&&e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})}function Y({tender:s,isOpen:i,onClose:a}){const[r,c]=u.useState(!1),[l,d]=u.useState(!0);if(!i||!s)return null;const o=w(s.downloadUrl),t=b(s.downloadUrl),x=()=>{o&&window.open(b(s.downloadUrl),"_blank")},p=new Date(s.deadline);return e.jsxs(P,{isOpen:i,onClose:a,maxWidth:"3xl",children:[e.jsxs(A,{onClose:a,className:"bg-gradient-to-r from-wiria-blue-dark to-blue-700 text-white",children:[e.jsx("span",{className:"inline-block px-3 py-1 bg-white/20 rounded-full text-xs font-mono mb-3 backdrop-blur-sm",children:s.refNo}),e.jsx("h2",{className:"text-2xl font-bold pr-12",children:s.title}),e.jsxs("div",{className:"flex items-center gap-3 mt-2 text-white/80 text-sm",children:[e.jsx("span",{children:s.category}),e.jsx("span",{children:"â€¢"}),e.jsx("span",{className:s.status==="OPEN"?"text-green-300":"text-gray-300",children:s.status})]})]}),e.jsxs(T,{children:[o&&e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between bg-gray-50 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z",clipRule:"evenodd"})}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Tender Document (PDF)"})]}),e.jsx("button",{onClick:()=>c(!r),className:"flex items-center gap-2 text-sm font-semibold text-wiria-blue-dark hover:text-wiria-yellow transition-colors",children:r?e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}),"Hide Preview"]}):e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"Preview PDF"]})})]}),e.jsx(f,{children:r&&e.jsxs(m.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:400},exit:{opacity:0,height:0},transition:{duration:.3},className:"mt-4 relative rounded-lg overflow-hidden border border-gray-200",children:[l&&e.jsx("div",{className:"absolute inset-0 bg-gray-100 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-10 h-10 border-4 border-wiria-blue-dark/20 border-t-wiria-blue-dark rounded-full animate-spin mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Loading preview..."})]})}),e.jsx("iframe",{src:`${t}#view=FitH`,className:"w-full h-full",title:`Preview of ${s.title}`,onLoad:()=>d(!1)})]})})]}),!o&&e.jsxs("div",{className:"mb-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4 flex items-center gap-3",children:[e.jsx("svg",{className:"w-6 h-6 text-yellow-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-yellow-800",children:"Document Pending Upload"}),e.jsx("p",{className:"text-sm text-yellow-600",children:"The file for this tender has not been uploaded yet."})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Category"}),e.jsx("p",{className:"font-semibold text-gray-700",children:s.category})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Estimated Value"}),e.jsx("p",{className:"font-semibold text-gray-700",children:s.estimatedValue})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Deadline"}),e.jsx("p",{className:"font-semibold text-red-600",children:p.toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Status"}),e.jsx("span",{className:`inline-block px-2 py-1 text-xs font-semibold rounded ${s.status==="OPEN"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:s.status})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Description"}),e.jsx("p",{className:"text-gray-600",children:s.description})]}),s.eligibility&&s.eligibility.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Eligibility Requirements"}),e.jsx("ul",{className:"space-y-2",children:s.eligibility.map((n,h)=>e.jsxs("li",{className:"flex items-start gap-3 text-gray-600 text-sm",children:[e.jsx("svg",{className:"w-5 h-5 text-wiria-yellow flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),n]},h))})]}),s.requiredDocuments&&s.requiredDocuments.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Required Documents"}),e.jsx("ul",{className:"space-y-2",children:s.requiredDocuments.map((n,h)=>e.jsxs("li",{className:"flex items-start gap-3 text-gray-600 text-sm",children:[e.jsx("svg",{className:"w-5 h-5 text-wiria-blue-dark flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),n]},h))})]}),e.jsxs("div",{className:"bg-wiria-blue-dark/5 rounded-lg p-4 space-y-3",children:[e.jsx("h4",{className:"font-semibold text-wiria-blue-dark",children:"Submission Information"}),e.jsxs("div",{className:"text-sm text-gray-600 space-y-2",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Method:"})," ",s.submissionMethod]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Address:"})," ",s.submissionAddress]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Email:"})," ",e.jsx("a",{href:`mailto:${s.submissionEmail}`,className:"text-wiria-blue-dark hover:underline",children:s.submissionEmail})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Contact:"})," ",s.contactPerson," (",s.contactPhone,")"]})]})]})]})]}),e.jsxs(D,{className:"flex flex-col sm:flex-row gap-3",children:[o?e.jsxs("button",{onClick:x,className:"flex-1 bg-wiria-blue-dark text-white font-bold py-3 px-6 rounded-full hover:bg-wiria-yellow transition-colors flex items-center justify-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Download Tender Documents"]}):e.jsxs("div",{className:"flex-1 bg-gray-100 text-gray-500 font-semibold py-3 px-6 rounded-full flex items-center justify-center gap-2 cursor-not-allowed",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"No Document Uploaded Yet"]}),e.jsx("button",{onClick:a,className:"flex-1 bg-gray-200 text-gray-700 font-bold py-3 px-6 rounded-full hover:bg-gray-300 transition-colors",children:"Close"})]})]})}function N(){return e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-5 border border-gray-100 animate-pulse",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"w-24 h-5 bg-gray-200 rounded"}),e.jsx("div",{className:"w-16 h-5 bg-gray-200 rounded"})]}),e.jsx("div",{className:"w-3/4 h-6 bg-gray-200 rounded mb-2"}),e.jsxs("div",{className:"flex gap-2 mb-3",children:[e.jsx("div",{className:"w-20 h-6 bg-gray-200 rounded"}),e.jsx("div",{className:"w-24 h-6 bg-gray-200 rounded"})]}),e.jsx("div",{className:"w-40 h-4 bg-gray-200 rounded mb-4"}),e.jsx("div",{className:"w-full h-10 bg-gray-200 rounded-lg"})]})}function k(){return e.jsxs("tr",{className:"animate-pulse",children:[e.jsx("td",{className:"py-4 px-4",children:e.jsx("div",{className:"w-28 h-5 bg-gray-200 rounded"})}),e.jsxs("td",{className:"py-4 px-4",children:[e.jsx("div",{className:"w-48 h-5 bg-gray-200 rounded mb-1"}),e.jsx("div",{className:"w-32 h-4 bg-gray-200 rounded"})]}),e.jsxs("td",{className:"py-4 px-4",children:[e.jsx("div",{className:"w-24 h-5 bg-gray-200 rounded mb-1"}),e.jsx("div",{className:"w-20 h-4 bg-gray-200 rounded"})]}),e.jsx("td",{className:"py-4 px-4 text-center",children:e.jsx("div",{className:"w-24 h-8 bg-gray-200 rounded-lg mx-auto"})})]})}function Q(){const{data:s=[],isLoading:i,isError:a}=M(),[r,c]=u.useState(null),l=s.filter(t=>t.status==="OPEN"),d=u.useCallback(t=>{c(t)},[]),o=u.useCallback(()=>{c(null)},[]);return e.jsxs(e.Fragment,{children:[e.jsx("section",{id:"tenders",className:"py-16 bg-gray-50 scroll-mt-20",children:e.jsxs("div",{className:"container mx-auto px-4 lg:px-6 max-w-5xl",children:[e.jsxs(m.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-10",children:[e.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-wiria-blue-dark mb-4",children:"Active Tenders"}),e.jsx("div",{className:"w-24 h-1 bg-gradient-to-r from-wiria-yellow to-wiria-green-light mx-auto rounded-full"})]}),i?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"lg:hidden space-y-4",children:[e.jsx(N,{}),e.jsx(N,{})]}),e.jsx("div",{className:"hidden lg:block overflow-x-auto shadow-md rounded-lg",children:e.jsxs("table",{className:"min-w-full bg-white",children:[e.jsx("thead",{className:"bg-wiria-blue-dark text-white",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-3 px-4 uppercase font-semibold text-sm",children:"Ref No."}),e.jsx("th",{className:"text-left py-3 px-4 uppercase font-semibold text-sm",children:"Description"}),e.jsx("th",{className:"text-left py-3 px-4 uppercase font-semibold text-sm",children:"Deadline"}),e.jsx("th",{className:"text-center py-3 px-4 uppercase font-semibold text-sm",children:"Actions"})]})}),e.jsxs("tbody",{children:[e.jsx(k,{}),e.jsx(k,{})]})]})})]}):a?e.jsxs(m.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-red-50 border border-red-200 rounded-xl p-8 text-center",children:[e.jsx("div",{className:"text-5xl mb-4",children:"ðŸ˜”"}),e.jsx("p",{className:"text-red-600 font-semibold mb-2",children:"Failed to load tenders"}),e.jsx("p",{className:"text-red-500 text-sm",children:"Please refresh the page or try again later."})]}):l.length===0?e.jsxs(m.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white border-2 border-dashed border-gray-200 rounded-xl p-12 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),e.jsx("p",{className:"text-gray-600 font-semibold mb-2",children:"No Active Tenders"}),e.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"There are currently no open tenders. New opportunities are posted regularly."}),e.jsxs("a",{href:"mailto:mwiriacbo@gmail.com?subject=Tender%20Inquiry",className:"inline-flex items-center gap-2 text-wiria-blue-dark font-semibold hover:text-wiria-yellow transition-colors",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"Get notified about new tenders"]})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"lg:hidden space-y-4",children:e.jsx(f,{mode:"popLayout",children:l.map((t,x)=>e.jsx(_,{tender:t,index:x,onClick:()=>d(t)},t.id))})}),e.jsx(m.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"hidden lg:block overflow-x-auto shadow-md rounded-lg",children:e.jsxs("table",{className:"min-w-full bg-white",children:[e.jsx("thead",{className:"bg-wiria-blue-dark text-white",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-3 px-4 uppercase font-semibold text-sm",children:"Ref No."}),e.jsx("th",{className:"text-left py-3 px-4 uppercase font-semibold text-sm",children:"Description"}),e.jsx("th",{className:"text-left py-3 px-4 uppercase font-semibold text-sm",children:"Deadline"}),e.jsx("th",{className:"text-center py-3 px-4 uppercase font-semibold text-sm",children:"Actions"})]})}),e.jsx("tbody",{className:"text-gray-700 divide-y divide-gray-100",children:l.map(t=>{const{days:x,hours:p,isUrgent:n,isExpired:h}=S(t.deadline),g=I(t.status,n,h),j=new Date(t.deadline);return e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsxs("td",{className:"py-4 px-4",children:[e.jsx("span",{className:"font-mono text-sm text-wiria-blue-dark",children:t.refNo}),e.jsx("div",{className:"mt-1",children:e.jsxs("span",{className:`inline-flex items-center gap-1 text-xs font-semibold px-2 py-0.5 rounded ${g.bgClass}`,children:[e.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${g.dotClass}`}),g.text]})})]}),e.jsxs("td",{className:"py-4 px-4",children:[e.jsx("p",{className:"font-semibold text-wiria-blue-dark",children:t.title}),e.jsx("p",{className:"text-sm text-gray-500 line-clamp-1",children:t.description})]}),e.jsxs("td",{className:"py-4 px-4",children:[e.jsx("p",{className:"font-semibold text-gray-700",children:j.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})}),!h&&e.jsxs("div",{className:`flex items-center gap-1 mt-1 text-xs font-semibold ${n?"text-red-600":"text-blue-600"}`,children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),x>0?`${x}d ${p}h`:`${p}h`]})]}),e.jsx("td",{className:"py-4 px-4 text-center",children:e.jsx("button",{onClick:()=>d(t),className:"bg-wiria-blue-dark text-white text-sm font-semibold py-2 px-4 rounded-lg hover:bg-wiria-yellow transition-colors",children:"View Details"})})]},t.id)})})]})})]})]})}),e.jsx(Y,{tender:r,isOpen:!!r,onClose:o})]})}function J(){const{data:s=[]}=E(),{data:i=[]}=M(),a=s.length,r=i.filter(l=>l.status==="OPEN").length,c=l=>{var d;(d=document.getElementById(l))==null||d.scrollIntoView({behavior:"smooth"})};return e.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"flex flex-wrap justify-center gap-4 mt-8",children:[e.jsxs("button",{onClick:()=>c("documents"),className:"flex items-center gap-3 bg-white/10 hover:bg-white/20 backdrop-blur-sm px-5 py-3 rounded-full border border-white/20 transition-all group",children:[e.jsx("div",{className:"w-10 h-10 bg-wiria-yellow/20 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-wiria-yellow",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:a}),e.jsx("div",{className:"text-xs text-white/70",children:"Documents"})]}),e.jsx("svg",{className:"w-4 h-4 text-white/50 group-hover:text-white group-hover:translate-y-1 transition-all",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),e.jsx("div",{className:"hidden sm:flex items-center text-white/30 text-2xl",children:"â€¢"}),e.jsxs("button",{onClick:()=>c("tenders"),className:"flex items-center gap-3 bg-white/10 hover:bg-white/20 backdrop-blur-sm px-5 py-3 rounded-full border border-white/20 transition-all group",children:[e.jsx("div",{className:"w-10 h-10 bg-green-500/20 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:r}),e.jsx("div",{className:"text-xs text-white/70",children:"Active Tenders"})]}),e.jsx("svg",{className:"w-4 h-4 text-white/50 group-hover:text-white group-hover:translate-y-1 transition-all",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]})}function ie(){const s=R();return u.useEffect(()=>{if(s.hash){const i=setTimeout(()=>{const a=s.hash.substring(1),r=document.getElementById(a);r&&r.scrollIntoView({behavior:"smooth",block:"start"})},100);return()=>clearTimeout(i)}},[s.hash]),e.jsx(B,{children:e.jsxs("main",{children:[e.jsx(O,{badge:"Documents & Reports",title:"Resources & Transparency",subtitle:"Access our key documents and procurement notices",backgroundImage:"/images/resources-hero.png",children:e.jsx(J,{})}),e.jsx(K,{}),e.jsx(Q,{})]})})}export{ie as default};
//# sourceMappingURL=ResourcesPage-BxEiMDmR.js.map
