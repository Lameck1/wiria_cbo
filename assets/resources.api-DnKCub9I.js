import{a as o}from"./index-Bc_7fvHp.js";const g=async()=>o.get("/resources"),f=async r=>o.post("/resources",r),y=async(r,a)=>o.patch(`/resources/${r}`,a),E=async r=>o.delete(`/resources/${r}`),z=async(r,a="resources")=>{var n,i,c,l,u,d,h;if(r.size>10485760)throw new Error(`File size exceeds 10MB limit. Your file is ${(r.size/(1024*1024)).toFixed(2)}MB. Please choose a smaller file.`);const t=new FormData;t.append("file",r),t.append("folder",a);const m=localStorage.getItem("wiria_auth_token");try{const s=await fetch("http://localhost:5001/api/uploads",{method:"POST",headers:{Authorization:`Bearer ${m}`},body:t});if(!s.ok){const e=await s.json().catch(()=>null);throw s.status===413||(i=(n=e==null?void 0:e.error)==null?void 0:n.message)!=null&&i.includes("too large")?new Error("File is too large. Maximum size is 10MB. Please compress your file or choose a smaller one."):s.status===401?new Error("Authentication failed. Please log in again."):s.status===403?new Error("You do not have permission to upload files."):new Error(((c=e==null?void 0:e.error)==null?void 0:c.message)||`Upload failed (${s.status}). Please try again.`)}return s.json()}catch(s){const e=s;throw(l=e.message)!=null&&l.includes("10MB")||(u=e.message)!=null&&u.includes("Authentication")||(d=e.message)!=null&&d.includes("permission")?s:e.name==="TypeError"&&((h=e.message)!=null&&h.includes("fetch"))?new Error("Network error. Please check your connection and try again."):new Error(e.message||"File upload failed. Please try again.")}};export{y as a,f as c,E as d,g,z as u};
//# sourceMappingURL=resources.api-DnKCub9I.js.map
