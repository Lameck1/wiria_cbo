{"version":3,"file":"DonationManagementPage-DbC8DnNj.js","sources":["../../src/features/admin/api/donations.api.ts","../../src/features/admin/components/donations/DonationDetailsModal.tsx","../../src/features/admin/components/donations/DonationStatsGrid.tsx","../../src/features/admin/components/donations/DonationTableColumns.tsx","../../src/pages/admin/DonationManagementPage.tsx"],"sourcesContent":["/**\n * Donations API Service\n * Handles donation management for admin\n */\n\nimport { apiClient } from '@/shared/services/api/client';\nimport { logger } from '@/shared/services/logger';\nimport { extractArray, extractData } from '@/shared/utils/apiUtils';\n\nexport interface Donation {\n  id: string;\n  donorName: string;\n  donorEmail: string;\n  donorPhone: string;\n  amount: number;\n  currency: string;\n  paymentMethod: string;\n  status: 'PENDING' | 'PROCESSING' | 'COMPLETED' | 'FAILED' | 'CANCELLED' | 'REFUNDED';\n  transactionId?: string;\n  mpesaReceiptNumber?: string;\n  message?: string;\n  isAnonymous: boolean;\n  createdAt: string;\n  updatedAt: string;\n}\n\nexport interface DonationStatistics {\n  total: number;\n  totalAmount: number;\n  completed: number;\n  pending: number;\n  failed: number;\n  thisMonth: number;\n  thisMonthAmount: number;\n}\n\nexport const getDonations = async (params?: { status?: string }): Promise<Donation[]> => {\n  try {\n    const queryString = params?.status ? `?status=${params.status}` : '';\n    const response = await apiClient.get(`/donations${queryString}`);\n    return extractArray<Donation>(response);\n  } catch (error) {\n    logger.error('Failed to fetch donations:', error);\n    throw new Error('Failed to load donations. Please try again.');\n  }\n};\n\nexport const getDonationById = async (id: string): Promise<Donation | null> => {\n  try {\n    const response = await apiClient.get(`/donations/${id}`);\n    return extractData<Donation>(response);\n  } catch (error) {\n    logger.error('Failed to fetch donation:', error);\n    return null;\n  }\n};\n\nexport const getDonationStatistics = async (): Promise<DonationStatistics> => {\n  try {\n    const response = await apiClient.get('/donations/statistics');\n    const data = extractData<DonationStatistics>(response);\n    if (!data) {\n      throw new Error('Invalid donation statistics data received');\n    }\n    return data;\n  } catch (error) {\n    logger.error('Failed to fetch donation statistics:', error);\n    throw new Error('Failed to load donation statistics. Please try again.');\n  }\n};\n","import type { Donation } from '@/features/admin/api/donations.api';\nimport { StatusBadge } from '@/shared/components/ui/StatusBadge';\nimport { formatDateTime } from '@/shared/utils/dateUtils';\nimport { formatCurrency } from '@/shared/utils/helpers';\n\ninterface DonationDetailsModalProps {\n  donation: Donation | null;\n  onClose: () => void;\n}\n\nexport function DonationDetailsModal({ donation, onClose }: DonationDetailsModalProps) {\n  if (!donation) return null;\n\n  return (\n    <div className=\"fixed inset-0 z-[60] flex items-center justify-center bg-black/50 p-4 backdrop-blur-sm\">\n      <div className=\"w-full max-w-lg rounded-2xl bg-white shadow-2xl\">\n        <div className=\"flex items-center justify-between border-b p-6\">\n          <h3 className=\"text-xl font-bold text-wiria-blue-dark\">Donation Details</h3>\n          <button\n            onClick={onClose}\n            className=\"rounded-lg p-2 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-600\"\n          >\n            ✕\n          </button>\n        </div>\n        <div className=\"space-y-6 p-6\">\n          <div className=\"grid grid-cols-2 gap-6\">\n            <div>\n              <p className=\"text-xs font-bold uppercase text-gray-500\">Donor Name</p>\n              <p className=\"font-semibold\">\n                {donation.isAnonymous ? 'Anonymous' : donation.donorName}\n              </p>\n            </div>\n            <div>\n              <p className=\"text-xs font-bold uppercase text-gray-500\">Amount</p>\n              <p className=\"text-xl font-bold text-green-600\">{formatCurrency(donation.amount)}</p>\n            </div>\n            {!donation.isAnonymous && (\n              <>\n                <div className=\"col-span-2\">\n                  <p className=\"text-xs font-bold uppercase text-gray-500\">Email & Phone</p>\n                  <p className=\"text-sm\">\n                    {donation.donorEmail} • {donation.donorPhone}\n                  </p>\n                </div>\n              </>\n            )}\n            <div>\n              <p className=\"text-xs font-bold uppercase text-gray-500\">Payment Method</p>\n              <p className=\"text-sm capitalize\">\n                {donation.paymentMethod.replace('_', ' ').toLowerCase()}\n              </p>\n            </div>\n            <div>\n              <p className=\"text-xs font-bold uppercase text-gray-500\">Status</p>\n              <StatusBadge status={donation.status} />\n            </div>\n            <div>\n              <p className=\"text-xs font-bold uppercase text-gray-500\">Date</p>\n              <p className=\"text-sm\">{formatDateTime(donation.createdAt)}</p>\n            </div>\n            {donation.mpesaReceiptNumber && (\n              <div>\n                <p className=\"text-xs font-bold uppercase text-gray-500\">M-Pesa Receipt</p>\n                <p className=\"font-mono text-xs\">{donation.mpesaReceiptNumber}</p>\n              </div>\n            )}\n          </div>\n          {donation.message && (\n            <div className=\"rounded-xl bg-gray-50 p-4\">\n              <p className=\"mb-2 text-xs font-bold uppercase text-gray-500\">Message</p>\n              <p className=\"text-sm italic text-gray-600\">\"{donation.message}\"</p>\n            </div>\n          )}\n        </div>\n        <div className=\"border-t p-6\">\n          <button\n            onClick={onClose}\n            className=\"w-full rounded-xl bg-gray-900 py-3 font-bold text-white shadow-lg transition-all hover:bg-black\"\n          >\n            Close\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import type { DonationStatistics } from '@/features/admin/api/donations.api';\nimport { Card, CardBody } from '@/shared/components/ui/Card';\nimport { Spinner } from '@/shared/components/ui/Spinner';\nimport { formatCurrency } from '@/shared/utils/helpers';\n\ninterface DonationStatsGridProps {\n  statistics: DonationStatistics | null;\n  isLoading: boolean;\n}\n\nexport function DonationStatsGrid({ statistics, isLoading }: DonationStatsGridProps) {\n  if (isLoading) {\n    return (\n      <div className=\"flex justify-center p-8\">\n        <Spinner />\n      </div>\n    );\n  }\n\n  if (!statistics) {\n    return null;\n  }\n\n  return (\n    <div className=\"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4\">\n      <Card className=\"border-l-4 border-l-green-500 shadow-sm\">\n        <CardBody className=\"p-6\">\n          <p className=\"text-xs font-bold uppercase text-gray-500\">Total Raised</p>\n          <p className=\"text-2xl font-bold text-gray-900\">\n            {formatCurrency(statistics.totalAmount)}\n          </p>\n          <p className=\"text-xs text-gray-400\">{statistics.total} donations</p>\n        </CardBody>\n      </Card>\n      <Card className=\"border-l-4 border-l-blue-500 shadow-sm\">\n        <CardBody className=\"p-6\">\n          <p className=\"text-xs font-bold uppercase text-gray-500\">This Month</p>\n          <p className=\"text-2xl font-bold text-gray-900\">\n            {formatCurrency(statistics.thisMonthAmount || 0)}\n          </p>\n          <p className=\"text-xs text-gray-400\">{statistics.thisMonth || 0} donations</p>\n        </CardBody>\n      </Card>\n      <Card className=\"border-l-4 border-l-yellow-500 shadow-sm\">\n        <CardBody className=\"p-6\">\n          <p className=\"text-xs font-bold uppercase text-gray-500\">Pending</p>\n          <p className=\"text-2xl font-bold text-gray-900\">{statistics.pending}</p>\n        </CardBody>\n      </Card>\n      <Card className=\"border-l-4 border-l-red-500 shadow-sm\">\n        <CardBody className=\"p-6\">\n          <p className=\"text-xs font-bold uppercase text-gray-500\">Failed</p>\n          <p className=\"text-2xl font-bold text-gray-900\">{statistics.failed || 0}</p>\n        </CardBody>\n      </Card>\n    </div>\n  );\n}\n","import type { Donation } from '@/features/admin/api/donations.api';\nimport type { Column } from '@/shared/components/ui/DataTable';\nimport { StatusBadge } from '@/shared/components/ui/StatusBadge';\nimport { formatDateTime } from '@/shared/utils/dateUtils';\nimport { formatCurrency } from '@/shared/utils/helpers';\n\nexport const getDonationColumns = (\n  onViewDetails: (donation: Donation) => void\n): Column<Donation>[] => [\n  {\n    header: 'Donor',\n    key: 'donorName',\n    render: (d) => (\n      <div>\n        <div className=\"font-semibold\">{d.isAnonymous ? 'Anonymous' : d.donorName}</div>\n        {!d.isAnonymous && <div className=\"text-xs text-gray-500\">{d.donorEmail}</div>}\n      </div>\n    ),\n  },\n  {\n    header: 'Amount',\n    key: 'amount',\n    render: (d) => <span className=\"font-bold text-green-600\">{formatCurrency(d.amount)}</span>,\n  },\n  {\n    header: 'Method',\n    key: 'paymentMethod',\n    render: (d) => (\n      <span className=\"text-sm capitalize\">{d.paymentMethod.replace('_', ' ').toLowerCase()}</span>\n    ),\n  },\n  {\n    header: 'Date',\n    key: 'createdAt',\n    render: (d) => <span className=\"text-sm\">{formatDateTime(d.createdAt)}</span>,\n  },\n  {\n    header: 'Status',\n    key: 'status',\n    render: (d) => <StatusBadge status={d.status} />,\n  },\n  {\n    header: 'Actions',\n    key: 'actions',\n    align: 'right',\n    render: (d) => (\n      <button\n        onClick={() => onViewDetails(d)}\n        className=\"text-sm font-bold text-wiria-blue-dark hover:underline\"\n      >\n        View Details\n      </button>\n    ),\n  },\n];\n","import { useEffect, useState, useMemo, useCallback } from 'react';\n\nimport { useSearchParams } from 'react-router-dom';\n\nimport type { Donation, DonationStatistics } from '@/features/admin/api/donations.api';\nimport { getDonations, getDonationStatistics } from '@/features/admin/api/donations.api';\nimport { DonationDetailsModal } from '@/features/admin/components/donations/DonationDetailsModal';\nimport { DonationStatsGrid } from '@/features/admin/components/donations/DonationStatsGrid';\nimport { getDonationColumns } from '@/features/admin/components/donations/DonationTableColumns';\nimport { AdminPageHeader } from '@/features/admin/components/layout/AdminPageHeader';\nimport { Card, CardBody } from '@/shared/components/ui/Card';\nimport { DataTable } from '@/shared/components/ui/DataTable';\nimport { useAdminData } from '@/shared/hooks/useAdminData';\n\nexport default function DonationManagementPage() {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [statusFilter, setStatusFilter] = useState<string>('');\n  const [selectedDonationId, setSelectedDonationId] = useState<string | null>(null);\n  const highlightId = searchParams.get('highlight');\n\n  const { items: donations, isLoading: isLoadingDonations } = useAdminData<Donation>(\n    ['donations', statusFilter],\n    () => getDonations(statusFilter ? { status: statusFilter } : undefined)\n  );\n\n  const { items: statsList, isLoading: isLoadingStats } = useAdminData<DonationStatistics>(\n    ['donation-stats'],\n    async () => {\n      const stats = await getDonationStatistics();\n      return [stats]; // useAdminData expects an array\n    }\n  );\n\n  const statistics = statsList[0] ?? null;\n\n  const selectedDonation: Donation | null = useMemo(\n    () => donations.find((donation) => donation.id === selectedDonationId) ?? null,\n    [donations, selectedDonationId]\n  );\n\n  const handleViewDetails = useCallback((donation: Donation) => {\n    setSelectedDonationId(donation.id);\n  }, []);\n\n  const handleCloseModal = useCallback(() => {\n    setSelectedDonationId(null);\n  }, []);\n\n  useEffect(() => {\n    if (!highlightId || donations.length === 0) return;\n\n    const exists = donations.some((d: Donation) => d.id === highlightId);\n    if (!exists) return;\n\n    setSelectedDonationId(highlightId);\n\n    const next = new URLSearchParams(searchParams);\n    next.delete('highlight');\n    setSearchParams(next, { replace: true });\n  }, [donations, highlightId, searchParams, setSearchParams]);\n\n  const columns = useMemo(() => getDonationColumns(handleViewDetails), [handleViewDetails]);\n\n  return (\n    <div className=\"space-y-8\">\n      <AdminPageHeader\n        title=\"Donation Management\"\n        description=\"View and manage all donations received by WIRIA CBO.\"\n      />\n\n      <DonationStatsGrid statistics={statistics} isLoading={isLoadingStats} />\n\n      <Card className=\"overflow-hidden border-none shadow-sm\">\n        <CardBody className=\"p-0\">\n          <div className=\"border-b p-4\">\n            <select\n              title=\"Filter by status\"\n              aria-label=\"Filter donations by status\"\n              value={statusFilter}\n              onChange={(event) => setStatusFilter(event.target.value)}\n              className=\"rounded-lg border px-4 py-2 text-sm outline-none focus:ring-2 focus:ring-wiria-blue-dark/20\"\n            >\n              <option value=\"\">All Statuses</option>\n              <option value=\"COMPLETED\">Completed</option>\n              <option value=\"PENDING\">Pending</option>\n              <option value=\"PROCESSING\">Processing</option>\n              <option value=\"FAILED\">Failed</option>\n              <option value=\"CANCELLED\">Cancelled</option>\n              <option value=\"REFUNDED\">Refunded</option>\n            </select>\n          </div>\n\n          <DataTable\n            columns={columns}\n            data={donations}\n            isLoading={isLoadingDonations}\n            emptyMessage=\"No donations found.\"\n            rowKey=\"id\"\n          />\n        </CardBody>\n      </Card>\n\n      <DonationDetailsModal donation={selectedDonation} onClose={handleCloseModal} />\n    </div>\n  );\n}\n"],"names":["getDonations","params","queryString","response","apiClient","extractArray","error","logger","getDonationStatistics","data","extractData","DonationDetailsModal","donation","onClose","jsxs","jsx","formatCurrency","StatusBadge","formatDateTime","DonationStatsGrid","statistics","isLoading","Spinner","Card","CardBody","getDonationColumns","onViewDetails","d","DonationManagementPage","searchParams","setSearchParams","useSearchParams","statusFilter","setStatusFilter","useState","selectedDonationId","setSelectedDonationId","highlightId","donations","isLoadingDonations","useAdminData","statsList","isLoadingStats","selectedDonation","useMemo","handleViewDetails","useCallback","handleCloseModal","useEffect","next","columns","AdminPageHeader","event","DataTable"],"mappings":"ymBAoCO,MAAMA,EAAe,MAAOC,GAAsD,CACvF,GAAI,CACF,MAAMC,EAAcD,GAAA,MAAAA,EAAQ,OAAS,WAAWA,EAAO,MAAM,GAAK,GAC5DE,EAAW,MAAMC,EAAU,IAAI,aAAaF,CAAW,EAAE,EAC/D,OAAOG,EAAuBF,CAAQ,CACxC,OAASG,EAAO,CACd,MAAAC,EAAO,MAAM,6BAA8BD,CAAK,EAC1C,IAAI,MAAM,6CAA6C,CAC/D,CACF,EAYaE,EAAwB,SAAyC,CAC5E,GAAI,CACF,MAAML,EAAW,MAAMC,EAAU,IAAI,uBAAuB,EACtDK,EAAOC,EAAgCP,CAAQ,EACrD,GAAI,CAACM,EACH,MAAM,IAAI,MAAM,2CAA2C,EAE7D,OAAOA,CACT,OAASH,EAAO,CACd,MAAAC,EAAO,MAAM,uCAAwCD,CAAK,EACpD,IAAI,MAAM,uDAAuD,CACzE,CACF,EC3DO,SAASK,EAAqB,CAAE,SAAAC,EAAU,QAAAC,GAAsC,CACrF,OAAKD,QAGF,MAAA,CAAI,UAAU,yFACb,SAAAE,EAAAA,KAAC,MAAA,CAAI,UAAU,kDACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,iDACb,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,yCAAyC,SAAA,mBAAgB,EACvEA,EAAAA,IAAC,SAAA,CACC,QAASF,EACT,UAAU,uFACX,SAAA,GAAA,CAAA,CAED,EACF,EACAC,EAAAA,KAAC,MAAA,CAAI,UAAU,gBACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,yBACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAAC,IAAA,CAAE,UAAU,4CAA4C,SAAA,aAAU,EACnEA,EAAAA,IAAC,KAAE,UAAU,gBACV,WAAS,YAAc,YAAcH,EAAS,SAAA,CACjD,CAAA,EACF,SACC,MAAA,CACC,SAAA,CAAAG,EAAAA,IAAC,IAAA,CAAE,UAAU,4CAA4C,SAAA,SAAM,QAC9D,IAAA,CAAE,UAAU,mCAAoC,SAAAC,EAAeJ,EAAS,MAAM,CAAA,CAAE,CAAA,EACnF,EACC,CAACA,EAAS,+BAEP,SAAAE,EAAAA,KAAC,MAAA,CAAI,UAAU,aACb,SAAA,CAAAC,EAAAA,IAAC,IAAA,CAAE,UAAU,4CAA4C,SAAA,gBAAa,EACtED,EAAAA,KAAC,IAAA,CAAE,UAAU,UACV,SAAA,CAAAF,EAAS,WAAW,MAAIA,EAAS,UAAA,CAAA,CACpC,CAAA,CAAA,CACF,CAAA,CACF,SAED,MAAA,CACC,SAAA,CAAAG,EAAAA,IAAC,IAAA,CAAE,UAAU,4CAA4C,SAAA,iBAAc,EACvEA,EAAAA,IAAC,IAAA,CAAE,UAAU,qBACV,SAAAH,EAAS,cAAc,QAAQ,IAAK,GAAG,EAAE,YAAA,CAAY,CACxD,CAAA,EACF,SACC,MAAA,CACC,SAAA,CAAAG,EAAAA,IAAC,IAAA,CAAE,UAAU,4CAA4C,SAAA,SAAM,EAC/DA,EAAAA,IAACE,EAAA,CAAY,OAAQL,EAAS,MAAA,CAAQ,CAAA,EACxC,SACC,MAAA,CACC,SAAA,CAAAG,EAAAA,IAAC,IAAA,CAAE,UAAU,4CAA4C,SAAA,OAAI,QAC5D,IAAA,CAAE,UAAU,UAAW,SAAAG,EAAeN,EAAS,SAAS,CAAA,CAAE,CAAA,EAC7D,EACCA,EAAS,oBACRE,EAAAA,KAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAAC,IAAA,CAAE,UAAU,4CAA4C,SAAA,iBAAc,EACvEA,EAAAA,IAAC,IAAA,CAAE,UAAU,oBAAqB,WAAS,kBAAA,CAAmB,CAAA,CAAA,CAChE,CAAA,EAEJ,EACCH,EAAS,SACRE,OAAC,MAAA,CAAI,UAAU,4BACb,SAAA,CAAAC,EAAAA,IAAC,IAAA,CAAE,UAAU,iDAAiD,SAAA,UAAO,EACrED,EAAAA,KAAC,IAAA,CAAE,UAAU,+BAA+B,SAAA,CAAA,IAAEF,EAAS,QAAQ,GAAA,CAAA,CAAC,CAAA,CAAA,CAClE,CAAA,EAEJ,EACAG,EAAAA,IAAC,MAAA,CAAI,UAAU,eACb,SAAAA,EAAAA,IAAC,SAAA,CACC,QAASF,EACT,UAAU,kGACX,SAAA,OAAA,CAAA,CAED,CACF,CAAA,CAAA,CACF,CAAA,CACF,EAzEoB,IA2ExB,CC5EO,SAASM,EAAkB,CAAE,WAAAC,EAAY,UAAAC,GAAqC,CACnF,OAAIA,QAEC,MAAA,CAAI,UAAU,0BACb,SAAAN,MAACO,IAAQ,EACX,EAICF,EAKHN,EAAAA,KAAC,MAAA,CAAI,UAAU,uDACb,SAAA,CAAAC,EAAAA,IAACQ,GAAK,UAAU,0CACd,SAAAT,EAAAA,KAACU,EAAA,CAAS,UAAU,MAClB,SAAA,CAAAT,EAAAA,IAAC,IAAA,CAAE,UAAU,4CAA4C,SAAA,eAAY,QACpE,IAAA,CAAE,UAAU,mCACV,SAAAC,EAAeI,EAAW,WAAW,EACxC,EACAN,EAAAA,KAAC,IAAA,CAAE,UAAU,wBAAyB,SAAA,CAAAM,EAAW,MAAM,YAAA,CAAA,CAAU,CAAA,CAAA,CACnE,CAAA,CACF,QACCG,EAAA,CAAK,UAAU,yCACd,SAAAT,EAAAA,KAACU,EAAA,CAAS,UAAU,MAClB,SAAA,CAAAT,EAAAA,IAAC,IAAA,CAAE,UAAU,4CAA4C,SAAA,aAAU,EACnEA,EAAAA,IAAC,KAAE,UAAU,mCACV,WAAeK,EAAW,iBAAmB,CAAC,EACjD,EACAN,EAAAA,KAAC,IAAA,CAAE,UAAU,wBAAyB,SAAA,CAAAM,EAAW,WAAa,EAAE,YAAA,CAAA,CAAU,CAAA,CAAA,CAC5E,CAAA,CACF,QACCG,EAAA,CAAK,UAAU,2CACd,SAAAT,EAAAA,KAACU,EAAA,CAAS,UAAU,MAClB,SAAA,CAAAT,EAAAA,IAAC,IAAA,CAAE,UAAU,4CAA4C,SAAA,UAAO,EAChEA,EAAAA,IAAC,IAAA,CAAE,UAAU,mCAAoC,WAAW,OAAA,CAAQ,CAAA,CAAA,CACtE,CAAA,CACF,QACCQ,EAAA,CAAK,UAAU,wCACd,SAAAT,EAAAA,KAACU,EAAA,CAAS,UAAU,MAClB,SAAA,CAAAT,EAAAA,IAAC,IAAA,CAAE,UAAU,4CAA4C,SAAA,SAAM,QAC9D,IAAA,CAAE,UAAU,mCAAoC,SAAAK,EAAW,QAAU,CAAA,CAAE,CAAA,CAAA,CAC1E,CAAA,CACF,CAAA,EACF,EAnCO,IAqCX,CCnDO,MAAMK,EACXC,GACuB,CACvB,CACE,OAAQ,QACR,IAAK,YACL,OAASC,GACPb,EAAAA,KAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAAC,OAAI,UAAU,gBAAiB,WAAE,YAAc,YAAcY,EAAE,SAAA,CAAU,EACzE,CAACA,EAAE,aAAeZ,EAAAA,IAAC,OAAI,UAAU,wBAAyB,WAAE,UAAA,CAAW,CAAA,CAAA,CAC1E,CAAA,EAGJ,CACE,OAAQ,SACR,IAAK,SACL,OAASY,GAAMZ,EAAAA,IAAC,OAAA,CAAK,UAAU,2BAA4B,SAAAC,EAAeW,EAAE,MAAM,CAAA,CAAE,CAAA,EAEtF,CACE,OAAQ,SACR,IAAK,gBACL,OAASA,GACPZ,EAAAA,IAAC,QAAK,UAAU,qBAAsB,SAAAY,EAAE,cAAc,QAAQ,IAAK,GAAG,EAAE,aAAY,CAAE,CAAA,EAG1F,CACE,OAAQ,OACR,IAAK,YACL,OAASA,GAAMZ,EAAAA,IAAC,OAAA,CAAK,UAAU,UAAW,SAAAG,EAAeS,EAAE,SAAS,CAAA,CAAE,CAAA,EAExE,CACE,OAAQ,SACR,IAAK,SACL,OAASA,SAAOV,EAAA,CAAY,OAAQU,EAAE,MAAA,CAAQ,CAAA,EAEhD,CACE,OAAQ,UACR,IAAK,UACL,MAAO,QACP,OAASA,GACPZ,EAAAA,IAAC,SAAA,CACC,QAAS,IAAMW,EAAcC,CAAC,EAC9B,UAAU,yDACX,SAAA,cAAA,CAAA,CAED,CAGN,ECxCA,SAAwBC,IAAyB,CAC/C,KAAM,CAACC,EAAcC,CAAe,EAAIC,EAAA,EAClC,CAACC,EAAcC,CAAe,EAAIC,EAAAA,SAAiB,EAAE,EACrD,CAACC,EAAoBC,CAAqB,EAAIF,EAAAA,SAAwB,IAAI,EAC1EG,EAAcR,EAAa,IAAI,WAAW,EAE1C,CAAE,MAAOS,EAAW,UAAWC,GAAuBC,EAC1D,CAAC,YAAaR,CAAY,EAC1B,IAAMhC,EAAagC,EAAe,CAAE,OAAQA,CAAA,EAAiB,MAAS,CAAA,EAGlE,CAAE,MAAOS,EAAW,UAAWC,GAAmBF,EACtD,CAAC,gBAAgB,EACjB,SAES,CADO,MAAMhC,EAAA,CACP,CACf,EAGIY,EAAaqB,EAAU,CAAC,GAAK,KAE7BE,EAAoCC,EAAAA,QACxC,IAAMN,EAAU,KAAM1B,GAAaA,EAAS,KAAOuB,CAAkB,GAAK,KAC1E,CAACG,EAAWH,CAAkB,CAAA,EAG1BU,EAAoBC,cAAalC,GAAuB,CAC5DwB,EAAsBxB,EAAS,EAAE,CACnC,EAAG,CAAA,CAAE,EAECmC,EAAmBD,EAAAA,YAAY,IAAM,CACzCV,EAAsB,IAAI,CAC5B,EAAG,CAAA,CAAE,EAELY,EAAAA,UAAU,IAAM,CAId,GAHI,CAACX,GAAeC,EAAU,SAAW,GAGrC,CADWA,EAAU,KAAMX,GAAgBA,EAAE,KAAOU,CAAW,EACtD,OAEbD,EAAsBC,CAAW,EAEjC,MAAMY,EAAO,IAAI,gBAAgBpB,CAAY,EAC7CoB,EAAK,OAAO,WAAW,EACvBnB,EAAgBmB,EAAM,CAAE,QAAS,EAAA,CAAM,CACzC,EAAG,CAACX,EAAWD,EAAaR,EAAcC,CAAe,CAAC,EAE1D,MAAMoB,EAAUN,EAAAA,QAAQ,IAAMnB,EAAmBoB,CAAiB,EAAG,CAACA,CAAiB,CAAC,EAExF,OACE/B,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAC,EAAAA,IAACoC,EAAA,CACC,MAAM,sBACN,YAAY,sDAAA,CAAA,EAGdpC,EAAAA,IAACI,EAAA,CAAkB,WAAAC,EAAwB,UAAWsB,CAAA,CAAgB,QAErEnB,EAAA,CAAK,UAAU,wCACd,SAAAT,EAAAA,KAACU,EAAA,CAAS,UAAU,MAClB,SAAA,CAAAT,EAAAA,IAAC,MAAA,CAAI,UAAU,eACb,SAAAD,EAAAA,KAAC,SAAA,CACC,MAAM,mBACN,aAAW,6BACX,MAAOkB,EACP,SAAWoB,GAAUnB,EAAgBmB,EAAM,OAAO,KAAK,EACvD,UAAU,8FAEV,SAAA,CAAArC,EAAAA,IAAC,SAAA,CAAO,MAAM,GAAG,SAAA,eAAY,EAC7BA,EAAAA,IAAC,SAAA,CAAO,MAAM,YAAY,SAAA,YAAS,EACnCA,EAAAA,IAAC,SAAA,CAAO,MAAM,UAAU,SAAA,UAAO,EAC/BA,EAAAA,IAAC,SAAA,CAAO,MAAM,aAAa,SAAA,aAAU,EACrCA,EAAAA,IAAC,SAAA,CAAO,MAAM,SAAS,SAAA,SAAM,EAC7BA,EAAAA,IAAC,SAAA,CAAO,MAAM,YAAY,SAAA,YAAS,EACnCA,EAAAA,IAAC,SAAA,CAAO,MAAM,WAAW,SAAA,UAAA,CAAQ,CAAA,CAAA,CAAA,EAErC,EAEAA,EAAAA,IAACsC,EAAA,CACC,QAAAH,EACA,KAAMZ,EACN,UAAWC,EACX,aAAa,sBACb,OAAO,IAAA,CAAA,CACT,CAAA,CACF,CAAA,CACF,EAEAxB,EAAAA,IAACJ,EAAA,CAAqB,SAAUgC,EAAkB,QAASI,CAAA,CAAkB,CAAA,EAC/E,CAEJ"}