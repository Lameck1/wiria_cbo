import{j as a,u as b,b as f,c as y}from"./query-vendor-CM55eWOT.js";import{c as o,n as u}from"./index-Ck6qqv4n.js";import{a as j}from"./apiUtils-0UX-zM9U.js";function w({columns:d,data:c,isLoading:r,onRowClick:n,emptyMessage:i="No data found.",className:t,rowKey:l,rowClassName:x}){const g=e=>typeof l=="function"?l(e):String(e[l]),m=e=>typeof x=="function"?x(e):"";return r?a.jsxs("div",{className:"rounded-xl border border-gray-100 bg-white p-8 text-center shadow-sm",children:[a.jsx("div",{className:"border-wiria-blue mx-auto mb-4 h-10 w-10 animate-spin rounded-full border-4 border-t-transparent"}),a.jsx("p",{className:"font-medium text-gray-500",children:"Loading data..."})]}):c.length===0?a.jsxs("div",{className:"rounded-xl border border-gray-100 bg-white p-12 text-center shadow-sm",children:[a.jsx("span",{className:"mb-4 block text-4xl",children:"ðŸ“‚"}),a.jsx("p",{className:"text-lg font-medium text-gray-500",children:i})]}):a.jsx("div",{className:o("overflow-x-auto rounded-xl border border-gray-100 bg-white shadow-sm",t),children:a.jsxs("table",{className:"w-full border-collapse text-left",children:[a.jsx("thead",{className:"border-b border-gray-100 bg-gray-50/50",children:a.jsx("tr",{children:d.map((e,s)=>a.jsx("th",{className:o("px-6 py-4 text-sm font-bold uppercase tracking-wider text-gray-700",e.align==="center"&&"text-center",e.align==="right"&&"text-right",e.className),children:e.header},e.key||s))})}),a.jsx("tbody",{className:"divide-y divide-gray-50",children:c.map(e=>a.jsx("tr",{onClick:()=>n==null?void 0:n(e),className:o("group transition-colors",n?"hover:bg-wiria-blue/5 cursor-pointer":"hover:bg-gray-50/50",m(e)),children:d.map((s,h)=>a.jsx("td",{className:o("px-6 py-4 text-sm text-gray-600",s.align==="center"&&"text-center",s.align==="right"&&"text-right",s.className),children:s.render?s.render(e):e[s.key]},s.key||h))},g(e)))})]})})}function E(d,c,r={}){const{data:n,...i}=b({queryKey:d,queryFn:async()=>{try{const t=await c();return j(t,r.arrayKey)}catch(t){throw r.onError?r.onError(t):(console.error(`Error fetching ${d.join("/")}:`,t),u.error("Failed to load data. Please try again.")),t}},staleTime:r.staleTime??3e5,enabled:r.enabled});return{items:n??[],...i}}function A(d,c,r={}){const n=f();return y({mutationFn:d,onSuccess:i=>{var t;c.forEach(l=>{n.invalidateQueries({queryKey:l})}),r.successMessage&&u.success(r.successMessage),(t=r.onSuccess)==null||t.call(r,i)},onError:i=>{console.error("Action failed:",i),u.error(r.errorMessage??"Operation failed")}})}export{w as D,A as a,E as u};
//# sourceMappingURL=useAdminData-91Z-y-lf.js.map
