import{a as n,j as e}from"./query-vendor-DeB3i2OK.js";import{F as k}from"./Form-DBW_jRlA.js";import{F as u}from"./FormField-BmXHN9h6.js";import{c as f}from"./helpers-CdcGZezW.js";import{F as C}from"./FormTextareaField-CMzE0N7r.js";import{b as L,l as i,e as M,a as A,n as b,T as w}from"./index-8OXY4Dao.js";import{A as E}from"./endpoints-Cofiu-EW.js";import{p as F,e as I}from"./validators-Bwxpb-Ua.js";import{o as T,s as p}from"./types-BhtRVJps.js";import{m as l,A as W}from"./animation-vendor-JsFu8W7l.js";import{L as B}from"./react-vendor-D3fc32Hw.js";import{P}from"./PageHero-bNpYePpB.js";import{S as V}from"./Seo-DaEvJ-Yn.js";import"./Input-CAwurA8V.js";import"./Textarea-95PvVm9Z.js";class O{async submitViaApi(s){try{return await L.post(E.CONTACT_SUBMIT,s),i.debug("[ContactSubmissionService] API submission successful"),{success:!0,method:"api"}}catch(t){return i.warn("[ContactSubmissionService] API submission failed",t),{success:!1,method:"api",error:t}}}async submitViaEmailJs(s){try{const t=await M.sendContactForm(s);return t.status==="SUCCESS"?(i.debug("[ContactSubmissionService] EmailJS submission successful"),{success:!0,method:"emailjs"}):(i.error("[ContactSubmissionService] EmailJS submission failed",t),{success:!1,method:"emailjs",error:t})}catch(t){return i.error("[ContactSubmissionService] EmailJS submission error",t),{success:!1,method:"emailjs",error:t}}}async submit(s,t){if(t){const o=await this.submitViaApi(s);return o.success?o:(i.debug("[ContactSubmissionService] Falling back to EmailJS"),await this.submitViaEmailJs(s))}return i.debug("[ContactSubmissionService] Backend not connected, using EmailJS"),await this.submitViaEmailJs(s)}}const H=new O;function R(){const[r,s]=n.useState(!1),{isBackendConnected:t}=A();return{submitContactForm:async h=>{s(!0);try{const d=await H.submit(h,t);if(d.success){const a=d.method==="api"?"Thank you for your message! We will get back to you soon.":"Your message has been sent via our alternative channel.";return b.success(a),!0}return b.error("Failed to send message. Please try again or contact us directly."),!1}catch{return b.error("An unexpected error occurred. Please try again or contact us directly."),!1}finally{s(!1)}},isSubmitting:r}}const _=T({name:p().min(2,"Name must be at least 2 characters"),email:I,phone:F.optional(),subject:p().min(5,"Subject must be at least 5 characters"),message:p().min(20,"Message must be at least 20 characters").max(2e3,"Message reached maximum limit")}),j=20,v=2e3;function z(){const{submitContactForm:r,isSubmitting:s}=R(),[t,o]=n.useState(!1),[h,d]=n.useState(0),a=n.useRef(null),[y,S]=n.useState(0),N=async m=>{const x=Date.now();if(x-y<w.SUBMIT_COOLDOWN)return;S(x),await r({...m,phone:m.phone??void 0})&&(o(!0),d(g=>g+1),a.current&&clearTimeout(a.current),a.current=setTimeout(()=>o(!1),w.SUCCESS_MESSAGE_DURATION))};return n.useEffect(()=>()=>{a.current&&clearTimeout(a.current)},[]),e.jsx(l.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2},children:e.jsx(k,{schema:_,onSubmit:N,id:"contact-form",className:"space-y-6",resetOnSuccess:!0,children:({watch:m})=>{const c=(m("message")??"").length,g=Math.min(c/v*100,100);return e.jsxs(e.Fragment,{children:[e.jsx(u,{name:"name",label:"Full Name",placeholder:"Your full name",required:!0,disabled:s}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsx(u,{name:"email",type:"email",label:"Email Address",placeholder:"your.email@example.com",required:!0,disabled:s}),e.jsx(u,{name:"phone",label:"Phone Number",placeholder:"+254 7XX XXX XXX",description:"(Optional)",disabled:s})]}),e.jsx(u,{name:"subject",label:"Subject",placeholder:"What is this regarding?",required:!0,disabled:s}),e.jsxs("div",{className:"relative",children:[e.jsx(C,{name:"message",label:"Message",placeholder:"Tell us how we can help you...",required:!0,disabled:s,rows:5}),e.jsxs("div",{className:"absolute bottom-[-24px] right-0 flex items-center gap-2",children:[e.jsx("div",{className:"h-1 w-16 overflow-hidden rounded-full bg-gray-100",children:e.jsx(l.div,{className:f("h-full",c>=j?"bg-green-500":"bg-wiria-yellow"),initial:{width:0},animate:{width:`${g}%`}})}),e.jsxs("span",{className:f("text-[10px] font-bold",c>=j?"text-green-600":"text-gray-400"),children:[c,"/",v]})]})]}),e.jsx(G,{isSubmitting:s,showSuccess:t})]})}},h)})}function G({isSubmitting:r,showSuccess:s}){return e.jsx("div",{className:"sticky bottom-4 z-10 pt-4 lg:static",children:e.jsx(W,{mode:"wait",children:s?e.jsxs(l.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"flex w-full items-center justify-center gap-2 rounded-xl bg-green-500 py-4 font-bold text-white shadow-lg",children:[e.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Message Sent Successfully!"]},"success"):e.jsx(l.button,{type:"submit",disabled:r,whileHover:{scale:1.01,y:-2},whileTap:{scale:.99},className:"flex w-full items-center justify-center gap-2 rounded-xl bg-gradient-to-r from-wiria-blue-dark to-blue-800 py-4 font-bold text-white shadow-lg transition-all hover:shadow-xl disabled:opacity-50",children:r?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"h-5 w-5 animate-spin rounded-full border-2 border-white/30 border-t-white"}),"Sending..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})}),"Send Message"]})},"submit")})})}function J(){return e.jsx(l.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"mt-10 rounded-2xl border border-red-100 bg-gradient-to-r from-red-50 to-orange-50 p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-xl bg-red-100",children:e.jsx("svg",{className:"h-6 w-6 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"mb-1 text-lg font-bold text-red-800",children:"Need to Report a Concern?"}),e.jsx("p",{className:"mb-4 text-sm text-red-700/80",children:"If you have a safeguarding concern related to PSEAH or Child Protection, we have a dedicated confidential reporting system."}),e.jsxs(B,{to:"/safeguarding",className:"inline-flex items-center gap-2 rounded-lg bg-gradient-to-r from-red-500 to-red-600 px-5 py-2.5 text-sm font-semibold text-white shadow transition-all hover:shadow-lg",children:[e.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),"Report a Safeguarding Concern"]})]})]})})}function X(){return e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"mb-2 text-2xl font-bold text-wiria-blue-dark md:text-3xl",children:"Find Us"}),e.jsx("div",{className:"h-1 w-20 rounded-full bg-gradient-to-r from-wiria-yellow to-wiria-green-light"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-lg bg-wiria-blue-dark/10",children:e.jsxs("svg",{className:"h-5 w-5 text-wiria-blue-dark",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),e.jsxs("div",{children:[e.jsx("h4",{className:"mb-1 font-semibold text-gray-800",children:"Our Address"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Wanyaga Village, Kobita Sub-Location,",e.jsx("br",{}),"Ndhiwa Sub-County, Homa Bay County, Kenya",e.jsx("br",{}),e.jsx("span",{className:"text-xs text-gray-500",children:"Postal: 40302-12, Ndhiwa"})]})]})]}),e.jsx(l.div,{initial:{opacity:0,scale:.98},whileInView:{opacity:1,scale:1},viewport:{once:!0},className:"h-[220px] w-full overflow-hidden rounded-xl border border-gray-200 shadow-md",children:e.jsx("iframe",{width:"100%",height:"100%",frameBorder:"0",scrolling:"no",marginHeight:0,marginWidth:0,src:"https://www.openstreetmap.org/export/embed.html?bbox=34.32015419006348%2C-0.7629577399424168%2C34.52055931091309%2C-0.6959523424916695&layer=mapnik&marker=-0.7294551980830725%2C34.42035675048828",title:"WIRIA CBO Location Map",className:"h-full w-full"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[e.jsx("svg",{className:"h-5 w-5 text-wiria-yellow",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),e.jsx("h4",{className:"text-sm font-semibold text-gray-800",children:"Contact"})]}),e.jsxs("div",{className:"space-y-1.5 text-sm",children:[e.jsx("a",{href:"mailto:wiriacbo@gmail.com",className:"flex items-center gap-2 text-gray-600 transition-colors hover:text-wiria-yellow",children:"wiriacbo@gmail.com"}),e.jsx("a",{href:"tel:+254705929293",className:"flex items-center gap-2 text-gray-600 transition-colors hover:text-wiria-yellow",children:"+254 705 929 293"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[e.jsx("svg",{className:"h-5 w-5 text-wiria-green-light",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("h4",{className:"text-sm font-semibold text-gray-800",children:"Hours"})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Mon - Fri: 8AM - 5PM",e.jsx("br",{}),"Sat & Sun: ",e.jsx("span",{className:"font-semibold text-red-500",children:"Closed"})]})]})]}),e.jsxs("a",{href:"https://www.google.com/maps/dir/?api=1&destination=-0.7294551980830725,34.42035675048828",target:"_blank",rel:"noopener noreferrer",className:"flex w-full items-center justify-center gap-2 rounded-xl bg-gradient-to-r from-wiria-blue-dark to-blue-800 px-4 py-3 font-semibold text-white shadow-lg transition-all hover:scale-[1.02] hover:shadow-xl",children:[e.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})}),"Get Directions"]})]})}function ne(){return e.jsxs("main",{children:[e.jsx(V,{title:"Contact Us",description:"Get in touch with WIRIA CBO. We'd love to hear from you.",keywords:"Contact WIRIA, Address, Email, Phone, Location",breadcrumbs:[{name:"Home",item:"/"},{name:"Contact",item:"/contact"}]}),e.jsx(P,{badge:"Get In Touch",title:"Contact Us",subtitle:"We'd love to hear from you. Reach out with questions, comments, or concerns",backgroundImage:"/images/contact-hero.png"}),e.jsx("section",{className:"bg-gradient-to-b from-gray-50 to-white py-16 lg:py-20",children:e.jsx("div",{className:"container mx-auto px-4 lg:px-6",children:e.jsxs("div",{className:"grid items-start gap-8 lg:grid-cols-2 lg:gap-12",children:[e.jsxs("div",{className:"relative order-2 overflow-hidden rounded-2xl border border-gray-100/50 bg-white/80 p-6 shadow-xl backdrop-blur-sm md:p-8 lg:sticky lg:top-24 lg:order-1 lg:p-10",children:[e.jsx("div",{className:"pointer-events-none absolute -left-20 -top-20 h-40 w-40 rounded-full bg-gradient-to-br from-wiria-blue-dark/10 to-wiria-green-light/20 blur-3xl"}),e.jsx(X,{})]}),e.jsxs("div",{className:"relative order-1 overflow-hidden rounded-2xl border border-gray-100/50 bg-white/80 p-6 shadow-xl backdrop-blur-sm md:p-8 lg:order-2 lg:p-10",children:[e.jsx("div",{className:"pointer-events-none absolute -right-20 -top-20 h-40 w-40 rounded-full bg-gradient-to-br from-wiria-yellow/20 to-wiria-green-light/20 blur-3xl"}),e.jsx("h2",{className:"relative mb-2 text-2xl font-bold text-wiria-blue-dark md:text-3xl",children:"Send us a Message"}),e.jsx("div",{className:"mb-6 h-1 w-20 rounded-full bg-gradient-to-r from-wiria-yellow to-wiria-green-light"}),e.jsx("p",{className:"mb-6 text-gray-600",children:"Fill out the form below and we'll get back to you as soon as possible."}),e.jsx(z,{}),e.jsx(J,{})]})]})})})]})}export{ne as default};
//# sourceMappingURL=ContactPage-BTLzPz5l.js.map
