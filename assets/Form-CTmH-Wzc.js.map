{"version":3,"file":"Form-CTmH-Wzc.js","sources":["../../src/shared/components/ui/form/Form.tsx"],"sourcesContent":["import type { ReactNode } from 'react';\n\nimport { zodResolver } from '@hookform/resolvers/zod';\nimport { FormProvider, useForm } from 'react-hook-form';\n\nimport type { DefaultValues, UseFormReturn } from 'react-hook-form';\nimport type { z } from 'zod';\n\ninterface FormProps<TSchema extends z.ZodTypeAny> {\n  schema: TSchema;\n  defaultValues?: DefaultValues<z.infer<TSchema>>;\n  children: (methods: UseFormReturn<z.infer<TSchema>>) => ReactNode;\n  onSubmit: (data: z.infer<TSchema>) => void | Promise<void>;\n  className?: string;\n  id?: string;\n  resetOnSuccess?: boolean;\n}\n\nexport function Form<TSchema extends z.ZodTypeAny>({\n  schema,\n  defaultValues,\n  children,\n  onSubmit,\n  className = '',\n  id,\n  resetOnSuccess = false,\n}: FormProps<TSchema>) {\n  const methods = useForm<z.infer<TSchema>>({\n    resolver: zodResolver(schema),\n    defaultValues,\n    mode: 'onBlur', // Validate on blur for better UX\n  });\n\n  return (\n    <FormProvider {...methods}>\n      <form\n        id={id}\n        onSubmit={(event) =>\n          void methods.handleSubmit(async (data) => {\n            await onSubmit(data);\n            if (resetOnSuccess) {\n              methods.reset();\n            }\n          })(event)\n        }\n        className={`space-y-6 ${className}`}\n        noValidate\n      >\n        {children(methods)}\n      </form>\n    </FormProvider>\n  );\n}\n"],"names":["Form","schema","defaultValues","children","onSubmit","className","id","resetOnSuccess","methods","useForm","zodResolver","jsx","FormProvider","event","data"],"mappings":"qGAkBO,SAASA,EAAmC,CACjD,OAAAC,EACA,cAAAC,EACA,SAAAC,EACA,SAAAC,EACA,UAAAC,EAAY,GACZ,GAAAC,EACA,eAAAC,EAAiB,EACnB,EAAuB,CACrB,MAAMC,EAAUC,EAA0B,CACxC,SAAUC,EAAYT,CAAM,EAC5B,cAAAC,EACA,KAAM,QAAA,CACP,EAED,OACES,EAAAA,IAACC,EAAA,CAAc,GAAGJ,EAChB,SAAAG,EAAAA,IAAC,OAAA,CACC,GAAAL,EACA,SAAWO,GACT,KAAKL,EAAQ,aAAa,MAAOM,GAAS,CACxC,MAAMV,EAASU,CAAI,EACfP,GACFC,EAAQ,MAAA,CAEZ,CAAC,EAAEK,CAAK,EAEV,UAAW,aAAaR,CAAS,GACjC,WAAU,GAET,WAASG,CAAO,CAAA,CAAA,EAErB,CAEJ"}