import{j as e}from"./query-vendor-frBnvHSF.js";import{r as o}from"./react-vendor-BdaLayic.js";import{u as x,P as i}from"./useMemberData-P6dvgI-k.js";import{C as a,a as r,b as m}from"./Card-DmlQfAyP.js";import{S as p}from"./Spinner-DvzCBoUM.js";import{S as h}from"./StatusBadge-DPX4J2hm.js";import"./index-ICA0O2oL.js";import"./animation-vendor-CrU7SSpu.js";import"./endpoints-Cofiu-EW.js";import"./helpers-Brneqz2V.js";function S(){const{payments:t,isLoading:n,totalPayments:d,pendingPayments:c,fetchPayments:l}=x();return o.useEffect(()=>{l()},[l]),n&&t.length===0?e.jsx(i,{title:"Payment History",children:e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsx(p,{size:"lg"})})}):e.jsx(i,{title:"Payment History",subtitle:"View all your payment transactions",children:e.jsxs("div",{className:"max-w-5xl",children:[e.jsxs("div",{className:"mb-8 grid grid-cols-1 gap-4 md:grid-cols-3",children:[e.jsx(a,{className:"border-none shadow-sm",children:e.jsxs(r,{className:"p-6",children:[e.jsx("p",{className:"mb-1 text-xs font-bold uppercase tracking-wider text-gray-500",children:"Total Paid"}),e.jsxs("p",{className:"text-3xl font-bold text-wiria-blue-dark",children:["KES ",d.toLocaleString()]})]})}),e.jsx(a,{className:"border-none shadow-sm",children:e.jsxs(r,{className:"p-6",children:[e.jsx("p",{className:"mb-1 text-xs font-bold uppercase tracking-wider text-gray-500",children:"Total Transactions"}),e.jsx("p",{className:"text-3xl font-bold text-wiria-blue-dark",children:t.length})]})}),e.jsx(a,{className:"border-none shadow-sm",children:e.jsxs(r,{className:"p-6",children:[e.jsx("p",{className:"mb-1 text-xs font-bold uppercase tracking-wider text-gray-500",children:"Pending Payments"}),e.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:c})]})})]}),e.jsxs(a,{className:"border-none shadow-sm",children:[e.jsx(m,{className:"border-b bg-gray-50/50 p-6",children:e.jsx("h2",{className:"text-xl font-bold text-wiria-blue-dark",children:"Transaction History"})}),e.jsx(r,{className:"p-0",children:t.length===0?e.jsxs("div",{className:"py-20 text-center",children:[e.jsx("div",{className:"mb-6 text-6xl opacity-20",children:"üí≥"}),e.jsx("p",{className:"text-gray-500",children:"No payment records found"})]}):e.jsx("div",{className:"divide-y",children:t.map(s=>e.jsx("div",{className:"p-6 transition-colors hover:bg-gray-50/80",children:e.jsxs("div",{className:"flex flex-col gap-6 md:flex-row md:items-center md:justify-between",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex h-14 w-14 shrink-0 items-center justify-center rounded-2xl bg-wiria-blue-dark/5 text-2xl shadow-inner",children:s.type==="REGISTRATION"?"üìù":s.type==="RENEWAL"?"üîÑ":"‚ù§Ô∏è"}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{className:"text-lg font-bold capitalize leading-tight text-gray-900",children:[s.type.toLowerCase().replace("_"," ")," Payment"]}),e.jsxs("p",{className:"text-sm text-gray-500",children:[new Date(s.createdAt).toLocaleDateString("en-KE",{day:"numeric",month:"long",year:"numeric"})," ","‚Ä¢ ",s.method==="STK_PUSH"?"M-Pesa STK Push":"Manual Deposit"]}),s.mpesaReceiptNumber&&e.jsxs("p",{className:"inline-flex rounded-lg bg-gray-100 px-2 py-0.5 font-mono text-xs text-gray-600",children:["Receipt: ",s.mpesaReceiptNumber]})]})]}),e.jsxs("div",{className:"flex flex-row items-center justify-between gap-6 md:flex-col md:items-end md:justify-center md:gap-2",children:[e.jsx(h,{status:s.status}),e.jsxs("p",{className:"text-2xl font-bold text-wiria-blue-dark",children:["KES ",s.amount.toLocaleString()]})]})]})},s.id))})})]})]})})}export{S as default};
//# sourceMappingURL=MemberPaymentsPage-BVWnMlru.js.map
