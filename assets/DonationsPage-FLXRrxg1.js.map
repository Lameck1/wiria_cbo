{"version":3,"file":"DonationsPage-FLXRrxg1.js","sources":["../../src/features/donations/components/AmountSelector.tsx","../../src/features/donations/components/DonationImpactSection.tsx","../../src/features/donations/components/AlternatePaymentMethods.tsx","../../src/features/donations/hooks/useDonation.ts","../../src/pages/DonationsPage.tsx"],"sourcesContent":["/**\n * Donation Amount Selector Component\n */\n\nimport { motion } from 'framer-motion';\n\ninterface AmountSelectorProps {\n    selectedAmount: number;\n    onAmountChange: (amount: number) => void;\n    disabled?: boolean;\n}\n\nconst suggestedAmounts = [\n    { value: 500, label: '500', impact: '5 Youth Kits' },\n    { value: 1000, label: '1,000', impact: '10 Handbooks' },\n    { value: 2000, label: '2,000', impact: '20 HIV Tests' },\n    { value: 5000, label: '5,000', impact: '10 Women Trained' },\n    { value: 10000, label: '10,000', impact: 'Community Outreach' },\n];\n\nexport function AmountSelector({ selectedAmount, onAmountChange, disabled }: AmountSelectorProps) {\n    return (\n        <div>\n            <label className=\"block text-sm font-semibold text-wiria-blue-dark mb-4\">\n                Select Amount (KES) <span className=\"text-red-500\">*</span>\n            </label>\n\n            {/* Suggested amounts */}\n            <div className=\"grid grid-cols-2 sm:grid-cols-5 gap-4 mb-6\">\n                {suggestedAmounts.map((amount) => (\n                    <motion.button\n                        key={amount.value}\n                        type=\"button\"\n                        aria-label={amount.label}\n                        whileHover={{ scale: 1.02 }}\n                        whileTap={{ scale: 0.98 }}\n                        onClick={() => onAmountChange(amount.value)}\n                        disabled={disabled}\n                        className={`\n                            relative flex flex-col items-center justify-center min-h-[100px] p-2 px-3 rounded-2xl border-2 transition-all duration-300\n                            ${selectedAmount === amount.value\n                                ? 'border-wiria-yellow bg-wiria-yellow/10 shadow-lg shadow-wiria-yellow/5'\n                                : 'border-gray-100 bg-white hover:border-gray-300 hover:bg-gray-50'\n                            }\n                            disabled:opacity-50 disabled:cursor-not-allowed\n                        `}\n                    >\n                        <span className={`text-xl font-extrabold tracking-tight ${selectedAmount === amount.value ? 'text-wiria-blue-dark' : 'text-gray-800'}`}>\n                            {amount.label}\n                        </span>\n                        <span className={`text-[10px] uppercase tracking-widest font-bold mt-2 text-center leading-tight ${selectedAmount === amount.value ? 'text-wiria-blue-dark/70' : 'text-gray-400'}`}>\n                            {amount.impact}\n                        </span>\n                        {selectedAmount === amount.value && (\n                            <motion.div\n                                layoutId=\"activeAmountBorder\"\n                                className=\"absolute -inset-[2px] border-2 border-wiria-yellow rounded-2xl pointer-events-none ring-4 ring-wiria-yellow/10\"\n                                transition={{ type: 'spring', bounce: 0.2, duration: 0.5 }}\n                            />\n                        )}\n                    </motion.button>\n                ))}\n            </div>\n\n            {/* Custom amount */}\n            <div className=\"bg-gray-100/50 p-4 rounded-xl border border-dashed border-gray-300\">\n                <label htmlFor=\"customAmount\" className=\"block text-xs font-bold text-gray-500 uppercase tracking-widest mb-3\">\n                    Or enter a custom amount:\n                </label>\n                <div className=\"relative\">\n                    <div className=\"absolute left-4 top-1/2 -translate-y-1/2 flex items-center pointer-events-none\">\n                        <span className=\"text-gray-400 font-bold mr-1\">KES</span>\n                    </div>\n                    <input\n                        id=\"customAmount\"\n                        type=\"number\"\n                        min=\"100\"\n                        value={selectedAmount}\n                        onChange={(e) => onAmountChange(Number(e.target.value))}\n                        disabled={disabled}\n                        className=\"block w-full pl-16 pr-4 py-3 bg-white border border-gray-200 rounded-lg text-lg font-semibold text-wiria-blue-dark focus:ring-2 focus:ring-wiria-yellow/30 focus:border-wiria-yellow outline-none transition-all disabled:bg-gray-50 disabled:cursor-not-allowed\"\n                        placeholder=\"0.00\"\n                    />\n                </div>\n                <p className=\"mt-2 text-xs text-gray-400 italic\">Minimum donation: KES 100</p>\n            </div>\n        </div>\n    );\n}\n","/**\n * Donation Impact Section Component\n * Shows what different donation amounts provide to the community\n */\n\nimport { motion } from 'framer-motion';\n\ninterface ImpactCard {\n    amount: string;\n    amountDisplay: string;\n    title: string;\n    description: string;\n    icon: string;\n    color: string;\n}\n\nconst IMPACT_ITEMS: ImpactCard[] = [\n    {\n        amount: '500',\n        amountDisplay: '500',\n        title: 'Education Kits',\n        description: 'Provide mentorship kits for 5 youth in our empowerment programs.',\n        icon: 'üìö',\n        color: 'from-blue-400 to-blue-600',\n    },\n    {\n        amount: '2000',\n        amountDisplay: '2K',\n        title: 'Health Services',\n        description: 'Supports HIV testing and counseling for 20 community members.',\n        icon: 'üè•',\n        color: 'from-green-400 to-green-600',\n    },\n    {\n        amount: '5000',\n        amountDisplay: '5K',\n        title: 'Economic Empowerment',\n        description: 'Enables business skills training for 10 women in our livelihood program.',\n        icon: '‚öñÔ∏è',\n        color: 'from-wiria-yellow to-orange-500',\n    },\n];\n\nconst containerVariants = {\n    hidden: { opacity: 0 },\n    visible: {\n        opacity: 1,\n        transition: {\n            staggerChildren: 0.2,\n        },\n    },\n};\n\nconst itemVariants = {\n    hidden: { y: 30, opacity: 0 },\n    visible: {\n        y: 0,\n        opacity: 1,\n        transition: {\n            type: 'spring',\n            stiffness: 100,\n        },\n    },\n};\n\nexport function DonationImpactSection() {\n    return (\n        <section className=\"py-24 bg-gradient-to-b from-white to-gray-50 overflow-hidden\">\n            <div className=\"container mx-auto px-4 lg:px-6\">\n                <div className=\"text-center mb-16 relative\">\n                    <motion.div\n                        initial={{ opacity: 0, scale: 0.9 }}\n                        whileInView={{ opacity: 1, scale: 1 }}\n                        viewport={{ once: true }}\n                        className=\"inline-block px-4 py-1.5 bg-wiria-blue-dark/5 text-wiria-blue-dark rounded-full text-sm font-bold mb-4\"\n                    >\n                        Your Impact Matters\n                    </motion.div>\n                    <h2 className=\"text-4xl md:text-5xl font-bold text-wiria-blue-dark mb-6\">\n                        See the Difference You Make\n                    </h2>\n                    <div className=\"w-24 h-1.5 bg-gradient-to-r from-wiria-yellow to-wiria-green-light mx-auto rounded-full mb-8\" />\n                    <p className=\"text-gray-600 max-w-2xl mx-auto text-lg\">\n                        Every shilling you donate goes directly towards fueling our high-impact programs in Homa Bay County.\n                    </p>\n                </div>\n\n                <motion.div\n                    variants={containerVariants}\n                    initial=\"hidden\"\n                    whileInView=\"visible\"\n                    viewport={{ once: true, margin: '-100px' }}\n                    className=\"grid md:grid-cols-3 gap-8 lg:gap-12 max-w-6xl mx-auto\"\n                >\n                    {IMPACT_ITEMS.map((item) => (\n                        <motion.div\n                            key={item.amount}\n                            variants={itemVariants}\n                            whileHover={{ y: -10 }}\n                            className=\"bg-white rounded-3xl p-8 shadow-xl shadow-gray-200/50 border border-gray-100 flex flex-col items-center text-center group\"\n                        >\n                            <div className={`w-20 h-20 rounded-2xl bg-gradient-to-br ${item.color} flex items-center justify-center text-4xl shadow-lg mb-8 group-hover:rotate-6 transition-transform duration-300 ring-4 ring-white`}>\n                                {item.icon}\n                            </div>\n\n                            <div className=\"mb-4\">\n                                <span className=\"text-3xl font-black text-wiria-blue-dark\">KES {item.amountDisplay}</span>\n                            </div>\n\n                            <h4 className=\"text-xl font-bold text-gray-800 mb-4\">{item.title}</h4>\n                            <p className=\"text-gray-600 leading-relaxed mb-8\">{item.description}</p>\n\n                            <div className=\"mt-auto pt-6 border-t border-gray-100 w-full text-sm font-bold text-wiria-blue-dark/40 group-hover:text-wiria-yellow transition-colors\">\n                                HIGH IMPACT PROGRAM\n                            </div>\n                        </motion.div>\n                    ))}\n                </motion.div>\n            </div>\n        </section>\n    );\n}\n","/**\n * Alternate Payment Methods Component\n * Displays bank account details for direct bank transfers\n */\n\ninterface BankDetail {\n    label: string;\n    value: string;\n}\n\nconst BANK_DETAILS: BankDetail[] = [\n    { label: 'Bank Name:', value: 'Kenya Commercial Bank' },\n    { label: 'Account Name:', value: 'WIRIA CBO' },\n    { label: 'Account Number:', value: '1234567890' },\n];\n\nexport function AlternatePaymentMethods() {\n    return (\n        <div className=\"mt-12 bg-white border border-gray-200 p-8 rounded-xl text-center shadow-sm\">\n            <h3 className=\"text-xl font-bold text-wiria-blue-dark mb-4\">\n                Other Ways to Give\n            </h3>\n            <p className=\"text-gray-600 mb-4\">\n                You can also donate directly to our bank account:\n            </p>\n            <div className=\"inline-block bg-gray-50 p-6 rounded-lg text-left\">\n                <div className=\"grid grid-cols-2 gap-x-8 gap-y-2 text-sm\">\n                    {BANK_DETAILS.map((detail) => (\n                        <div key={detail.label} className=\"contents\">\n                            <span className=\"text-gray-500\">{detail.label}</span>\n                            <span className=\"font-semibold\">{detail.value}</span>\n                        </div>\n                    ))}\n                </div>\n            </div>\n        </div>\n    );\n}\n","/**\n * useDonation Hook\n * Handles donation submission and payment processing\n */\n\nimport { useState } from 'react';\nimport { apiClient } from '@/shared/services/api/client';\nimport { notificationService } from '@/shared/services/notification/notificationService';\nimport { API_ENDPOINTS } from '@/shared/services/api/endpoints';\nimport { DonationFormData, DonationResponse, PaymentStatusResponse } from '../types';\n\nexport function useDonation() {\n    const [isSubmitting, setIsSubmitting] = useState(false);\n    const [checkoutRequestId, setCheckoutRequestId] = useState<string | null>(null);\n    const [donationId, setDonationId] = useState<string | null>(null);\n    const [paymentStatus, setPaymentStatus] = useState<\n        'PENDING' | 'COMPLETED' | 'FAILED' | 'CANCELLED' | null\n    >(null);\n    const [isVerifying, setIsVerifying] = useState(false);\n    const [isManualPaymentVerified, setIsManualPaymentVerified] = useState(false);\n\n    const initiateDonation = async (data: DonationFormData) => {\n        setIsSubmitting(true);\n        setPaymentStatus(null);\n\n        try {\n            const response = await apiClient.post<DonationResponse>(\n                API_ENDPOINTS.DONATIONS_INITIATE,\n                data\n            );\n\n            const { donation, checkoutRequestId: reqId, message } = response.data;\n\n            setDonationId(donation.id);\n\n            if (data.paymentMethod === 'STK_PUSH' && reqId) {\n                setCheckoutRequestId(reqId);\n                setPaymentStatus('PENDING');\n                notificationService.info('STK push sent to your phone. Please complete the payment.');\n            } else {\n                notificationService.success(message || 'Donation initiated successfully!');\n            }\n\n            return { success: true, donationId: donation.id, checkoutRequestId: reqId };\n        } catch (_error) {\n            notificationService.error('Failed to initiate donation. Please try again.');\n            return { success: false };\n        } finally {\n            setIsSubmitting(false);\n        }\n    };\n\n    const checkPaymentStatus = async (donationIdToCheck: string) => {\n        try {\n            const response = await apiClient.get<PaymentStatusResponse>(\n                `${API_ENDPOINTS.DONATIONS_STATUS}/${donationIdToCheck}`\n            );\n\n            const { status } = response.data;\n            setPaymentStatus(status);\n\n            if (status === 'COMPLETED') {\n                notificationService.success('Payment completed successfully! Thank you for your donation.');\n                return 'COMPLETED';\n            } else if (status === 'FAILED') {\n                notificationService.error('Payment failed. Please try again.');\n                return 'FAILED';\n            }\n\n            return status;\n        } catch (_error) {\n            return 'PENDING';\n        }\n    };\n\n    const verifyManualPayment = async (phone: string, amount: number) => {\n        setIsVerifying(true);\n        setIsManualPaymentVerified(false);\n\n        try {\n            const response = await apiClient.post<{ verified: boolean; status?: string }>(\n                '/api/donations/verify-manual',\n                {\n                    phone,\n                    amount,\n                    accountReference: 'DONATION',\n                }\n            );\n\n            if (response.verified || response.status === 'CONFIRMED') {\n                setIsManualPaymentVerified(true);\n                notificationService.success('Payment verified successfully!');\n                return { success: true };\n            } else {\n                notificationService.error('Payment not found yet. Please wait a moment and try again.');\n                return { success: false };\n            }\n        } catch (_error) {\n            notificationService.error('Verification failed. Please try again.');\n            return { success: false };\n        } finally {\n            setIsVerifying(false);\n        }\n    };\n\n    const resetDonation = () => {\n        setCheckoutRequestId(null);\n        setDonationId(null);\n        setPaymentStatus(null);\n        setIsSubmitting(false);\n        setIsVerifying(false);\n        setIsManualPaymentVerified(false);\n    };\n\n    return {\n        initiateDonation,\n        checkPaymentStatus,\n        verifyManualPayment,\n        resetDonation,\n        isSubmitting,\n        isVerifying,\n        isManualPaymentVerified,\n        checkoutRequestId,\n        donationId,\n        paymentStatus,\n    };\n}\n\n","/**\n * Donations Page - Matching Legacy Implementation\n * Updated to match legacy HTML version content, styling, and functionality\n */\n\nimport { Layout } from '@/shared/components/layout/Layout';\nimport { Card, CardBody } from '@/shared/components/ui/Card';\nimport { Button } from '@/shared/components/ui/Button';\nimport { Input } from '@/shared/components/ui/Input';\nimport { Spinner } from '@/shared/components/ui/Spinner';\nimport { AmountSelector } from '@/features/donations/components/AmountSelector';\nimport { PaymentMethodToggle } from '@/features/donations/components/PaymentMethodToggle';\nimport { PaymentInstructions } from '@/features/donations/components/PaymentInstructions';\nimport { DonationImpactSection } from '@/features/donations/components/DonationImpactSection';\nimport { AlternatePaymentMethods } from '@/features/donations/components/AlternatePaymentMethods';\nimport { useDonation } from '@/features/donations/hooks/useDonation';\nimport { usePaymentPoller } from '@/features/donations/hooks/usePaymentPoller';\nimport { useState, FormEvent } from 'react';\nimport { formatPhoneNumber } from '@/shared/utils/helpers';\nimport { motion, AnimatePresence } from 'framer-motion';\n\nfunction DonationsPage() {\n    const [formData, setFormData] = useState({\n        amount: 1000,\n        donorName: '',\n        donorEmail: '',\n        donorPhone: '',\n        paymentMethod: 'STK_PUSH' as 'STK_PUSH' | 'MANUAL',\n        manualVerificationPhone: '',\n    });\n\n    const {\n        initiateDonation,\n        checkPaymentStatus,\n        verifyManualPayment,\n        resetDonation,\n        isSubmitting,\n        isVerifying,\n        isManualPaymentVerified,\n        donationId,\n        paymentStatus,\n    } = useDonation();\n\n    // Poll payment status for STK Push\n    usePaymentPoller({\n        donationId,\n        isActive: paymentStatus === 'PENDING' && formData.paymentMethod === 'STK_PUSH',\n        onStatusCheck: checkPaymentStatus,\n    });\n\n    const handleSubmit = async (e: FormEvent) => {\n        e.preventDefault();\n\n        // For manual payments, require verification first\n        if (formData.paymentMethod === 'MANUAL' && !isManualPaymentVerified) {\n            alert('Please verify your payment first.');\n            return;\n        }\n\n        // Format phone number\n        const formattedData = {\n            amount: formData.amount,\n            donorName: formData.donorName,\n            donorEmail: formData.donorEmail,\n            donorPhone: formatPhoneNumber(formData.donorPhone),\n            purpose: '', // Legacy doesn't have purpose\n            isAnonymous: false, // Legacy doesn't have anonymous\n            paymentMethod: formData.paymentMethod,\n        };\n\n        const result = await initiateDonation(formattedData);\n\n        if (result.success && formData.paymentMethod === 'MANUAL') {\n            // For manual payments, show success and reset\n            setTimeout(() => {\n                if (confirm('Would you like to make another donation?')) {\n                    resetDonation();\n                    setFormData({\n                        amount: 1000,\n                        donorName: '',\n                        donorEmail: '',\n                        donorPhone: '',\n                        paymentMethod: 'STK_PUSH',\n                        manualVerificationPhone: '',\n                    });\n                }\n            }, 2000);\n        }\n    };\n\n    const handleChange = (\n        e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement>\n    ) => {\n        const { name, value } = e.target;\n        setFormData((prev) => ({ ...prev, [name]: value }));\n    };\n\n    const handleVerifyPayment = async () => {\n        if (!formData.manualVerificationPhone) {\n            alert('Please enter the phone number used for payment');\n            return;\n        }\n\n        await verifyManualPayment(\n            formatPhoneNumber(formData.manualVerificationPhone),\n            formData.amount\n        );\n    };\n\n    const handleStartOver = () => {\n        resetDonation();\n        setFormData({\n            amount: 1000,\n            donorName: '',\n            donorEmail: '',\n            donorPhone: '',\n            paymentMethod: 'STK_PUSH',\n            manualVerificationPhone: '',\n        });\n    };\n\n    return (\n        <Layout>\n            {/* Hero Section - Refined Blue Gradient with Pattern */}\n            <section className=\"relative bg-wiria-blue-dark py-28 overflow-hidden\">\n                <div className=\"absolute inset-0 opacity-20\">\n                    <div className=\"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')]\" />\n                </div>\n                {/* Decorative Blobs */}\n                <div className=\"absolute top-0 right-0 w-96 h-96 bg-wiria-yellow/10 rounded-full blur-3xl -mr-48 -mt-48\" />\n                <div className=\"absolute bottom-0 left-0 w-96 h-96 bg-blue-600/10 rounded-full blur-3xl -ml-48 -mb-48\" />\n\n                <div className=\"container mx-auto px-4 lg:px-6 relative z-10\">\n                    <div className=\"max-w-4xl mx-auto text-center\">\n                        <motion.div\n                            initial={{ opacity: 0, y: 20 }}\n                            animate={{ opacity: 1, y: 0 }}\n                            transition={{ duration: 0.6 }}\n                        >\n                            <span className=\"inline-block px-5 py-2 bg-wiria-yellow text-wiria-blue-dark rounded-full text-xs font-bold uppercase tracking-widest mb-8 shadow-lg shadow-wiria-yellow/20\">\n                                Make an Impact\n                            </span>\n                            <h1 className=\"text-5xl md:text-7xl font-black text-white mb-8 tracking-tight\">\n                                Your Support <span className=\"text-wiria-yellow\">Saves Lives</span>\n                            </h1>\n                            <p className=\"text-xl md:text-2xl text-blue-100 font-medium leading-relaxed max-w-2xl mx-auto\">\n                                Join us in our mission to empower communities, enhance health, and champion\n                                human rights in Homa Bay County.\n                            </p>\n                        </motion.div>\n                    </div>\n                </div>\n            </section>\n\n            {/* Donation Section */}\n            <section className=\"py-20 bg-gray-50 relative -mt-10 rounded-t-[3rem] shadow-2xl z-20\">\n                <div className=\"container mx-auto px-4 lg:px-6\">\n                    <div className=\"max-w-3xl mx-auto\">\n                        <AnimatePresence mode=\"wait\">\n                            {/* Payment Status - Success */}\n                            {paymentStatus === 'COMPLETED' && (\n                                <motion.div\n                                    key=\"success\"\n                                    initial={{ opacity: 0, scale: 0.9 }}\n                                    animate={{ opacity: 1, scale: 1 }}\n                                    exit={{ opacity: 0, scale: 0.9 }}\n                                >\n                                    <Card className=\"mb-12 bg-white border-none shadow-2xl rounded-3xl overflow-hidden\">\n                                        <div className=\"h-2 bg-green-500 w-full\" />\n                                        <CardBody className=\"p-12\">\n                                            <div className=\"text-center\">\n                                                <div className=\"w-24 h-24 bg-green-100 text-green-600 rounded-full flex items-center justify-center text-5xl mx-auto mb-8 animate-bounce\">\n                                                    ‚úì\n                                                </div>\n                                                <h2 className=\"text-4xl font-black text-wiria-blue-dark mb-6\">\n                                                    Donation Successful!\n                                                </h2>\n                                                <p className=\"text-xl text-gray-600 mb-10 leading-relaxed\">\n                                                    Your generous contribution of{' '}\n                                                    <span className=\"font-bold text-wiria-blue-dark px-2 bg-wiria-yellow/20 rounded\">\n                                                        KES {formData.amount.toLocaleString()}\n                                                    </span>{' '}\n                                                    has been received. We are deeply grateful for your support.\n                                                </p>\n                                                <Button\n                                                    onClick={handleStartOver}\n                                                    size=\"lg\"\n                                                    className=\"px-10 py-4 bg-wiria-blue-dark text-white rounded-2xl hover:bg-blue-900 transition-all font-bold text-lg\"\n                                                >\n                                                    Make Another Donation\n                                                </Button>\n                                            </div>\n                                        </CardBody>\n                                    </Card>\n                                </motion.div>\n                            )}\n\n                            {/* Payment Status - Pending STK Push */}\n                            {paymentStatus === 'PENDING' && formData.paymentMethod === 'STK_PUSH' && (\n                                <motion.div\n                                    key=\"pending\"\n                                    initial={{ opacity: 0, y: 20 }}\n                                    animate={{ opacity: 1, y: 0 }}\n                                    exit={{ opacity: 0, y: -20 }}\n                                >\n                                    <Card className=\"mb-12 bg-white border-none shadow-2xl rounded-3xl overflow-hidden\">\n                                        <div className=\"h-2 bg-wiria-yellow w-full\" />\n                                        <CardBody className=\"p-10\">\n                                            <div className=\"text-center max-w-md mx-auto\">\n                                                <div className=\"relative w-24 h-24 mx-auto mb-8\">\n                                                    <Spinner size=\"lg\" className=\"absolute inset-0 w-full h-full text-wiria-yellow\" />\n                                                    <div className=\"absolute inset-0 flex items-center justify-center text-2xl\">\n                                                        üì±\n                                                    </div>\n                                                </div>\n                                                <h3 className=\"text-2xl font-black text-wiria-blue-dark mb-4\">\n                                                    Complete on Your Phone\n                                                </h3>\n                                                <div className=\"space-y-4 mb-8 text-left bg-gray-50 p-6 rounded-2xl border border-gray-100\">\n                                                    <div className=\"flex items-center gap-4 text-sm font-bold text-wiria-blue-dark\">\n                                                        <div className=\"w-6 h-6 rounded-full bg-wiria-yellow flex items-center justify-center text-[10px] text-white\">1</div>\n                                                        <span>Check your phone for M-Pesa prompt</span>\n                                                    </div>\n                                                    <div className=\"flex items-center gap-4 text-sm font-bold text-wiria-blue-dark\">\n                                                        <div className=\"w-6 h-6 rounded-full bg-wiria-yellow flex items-center justify-center text-[10px] text-white\">2</div>\n                                                        <span>Enter your M-Pesa PIN</span>\n                                                    </div>\n                                                    <div className=\"flex items-center gap-4 text-sm text-gray-400\">\n                                                        <div className=\"w-6 h-6 rounded-full bg-gray-200 flex items-center justify-center text-[10px] text-white\">3</div>\n                                                        <span>Wait for confirmation here</span>\n                                                    </div>\n                                                </div>\n                                                <p className=\"text-sm text-gray-500 animate-pulse\">\n                                                    Checking payment status securelly...\n                                                </p>\n                                            </div>\n                                        </CardBody>\n                                    </Card>\n                                </motion.div>\n                            )}\n\n                            {/* Donation Form */}\n                            {paymentStatus !== 'COMPLETED' && paymentStatus !== 'PENDING' && (\n                                <motion.div\n                                    key=\"form\"\n                                    initial={{ opacity: 0, y: 30 }}\n                                    animate={{ opacity: 1, y: 0 }}\n                                >\n                                    <Card className=\"bg-white shadow-2xl rounded-[2.5rem] overflow-hidden border-none p-2 sm:p-4\">\n                                        <CardBody className=\"p-6 sm:p-12\">\n                                            <div className=\"flex flex-col items-center mb-12\">\n                                                <div className=\"w-20 h-20 bg-wiria-yellow/10 text-wiria-yellow rounded-2xl flex items-center justify-center text-3xl mb-6 rotate-3 shadow-inner\">\n                                                    ‚ù§Ô∏è\n                                                </div>\n                                                <h2 className=\"text-4xl font-black text-wiria-blue-dark mb-4 text-center\">\n                                                    Enter Donation Details\n                                                </h2>\n                                                <p className=\"text-gray-500 font-medium\">Your information is secure and private.</p>\n                                            </div>\n\n                                            <form onSubmit={handleSubmit} className=\"space-y-8\">\n                                                {/* Donor Information */}\n                                                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 p-1 bg-gray-50/50 rounded-3xl\">\n                                                    <Input\n                                                        label=\"Full Name\"\n                                                        name=\"donorName\"\n                                                        value={formData.donorName}\n                                                        onChange={handleChange}\n                                                        required\n                                                        placeholder=\"Jane Doe\"\n                                                        disabled={isSubmitting}\n                                                        className=\"bg-white border-gray-100 rounded-2xl h-14\"\n                                                    />\n\n                                                    <Input\n                                                        type=\"email\"\n                                                        label=\"Email Address\"\n                                                        name=\"donorEmail\"\n                                                        value={formData.donorEmail}\n                                                        onChange={handleChange}\n                                                        required\n                                                        placeholder=\"jane@example.com\"\n                                                        disabled={isSubmitting}\n                                                        className=\"bg-white border-gray-100 rounded-2xl h-14\"\n                                                    />\n                                                </div>\n\n                                                {/* Amount Selector */}\n                                                <div className=\"pt-4 border-t border-gray-100\">\n                                                    <AmountSelector\n                                                        selectedAmount={formData.amount}\n                                                        onAmountChange={(amount) =>\n                                                            setFormData((prev) => ({ ...prev, amount }))\n                                                        }\n                                                        disabled={isSubmitting}\n                                                    />\n                                                </div>\n\n                                                {/* Payment Method Selection */}\n                                                <div className=\"pt-4 border-t border-gray-100\">\n                                                    <PaymentMethodToggle\n                                                        selected={formData.paymentMethod}\n                                                        onChange={(method) =>\n                                                            setFormData((prev) => ({\n                                                                ...prev,\n                                                                paymentMethod: method,\n                                                            }))\n                                                        }\n                                                        disabled={isSubmitting}\n                                                    />\n                                                </div>\n\n                                                {/* STK Push Phone Input */}\n                                                <AnimatePresence>\n                                                    {formData.paymentMethod === 'STK_PUSH' && (\n                                                        <motion.div\n                                                            initial={{ opacity: 0, height: 0 }}\n                                                            animate={{ opacity: 1, height: 'auto' }}\n                                                            exit={{ opacity: 0, height: 0 }}\n                                                            className=\"overflow-hidden\"\n                                                        >\n                                                            <Input\n                                                                label=\"M-Pesa Phone Number\"\n                                                                name=\"donorPhone\"\n                                                                value={formData.donorPhone}\n                                                                onChange={handleChange}\n                                                                required\n                                                                placeholder=\"e.g., 254712345678\"\n                                                                helperText=\"Format: 2547XXXXXXXX or 2541XXXXXXXX\"\n                                                                disabled={isSubmitting}\n                                                                className=\"bg-white border-gray-100 rounded-2xl h-14\"\n                                                            />\n                                                        </motion.div>\n                                                    )}\n                                                </AnimatePresence>\n\n                                                {/* Manual Payment Instructions & Verification */}\n                                                <AnimatePresence>\n                                                    {formData.paymentMethod === 'MANUAL' && (\n                                                        <motion.div\n                                                            initial={{ opacity: 0, height: 0 }}\n                                                            animate={{ opacity: 1, height: 'auto' }}\n                                                            exit={{ opacity: 0, height: 0 }}\n                                                            className=\"overflow-hidden\"\n                                                        >\n                                                            <div className=\"bg-blue-50/50 p-8 rounded-3xl border-2 border-dashed border-blue-200\">\n                                                                <h4 className=\"font-bold text-wiria-blue-dark text-lg mb-6 flex items-center gap-2\">\n                                                                    <span className=\"bg-blue-100 p-2 rounded-lg\">üìã</span> Paybill Instructions\n                                                                </h4>\n                                                                <PaymentInstructions\n                                                                    paymentMethod=\"MANUAL\"\n                                                                    amount={formData.amount}\n                                                                />\n\n                                                                <div className=\"space-y-4 mt-10\">\n                                                                    <p className=\"text-sm font-bold text-wiria-blue-dark uppercase tracking-wider opacity-60\">\n                                                                        Verify Your Payment\n                                                                    </p>\n                                                                    <div className=\"flex flex-col sm:flex-row gap-4\">\n                                                                        <input\n                                                                            type=\"text\"\n                                                                            name=\"manualVerificationPhone\"\n                                                                            value={formData.manualVerificationPhone}\n                                                                            onChange={handleChange}\n                                                                            placeholder=\"Phone number used...\"\n                                                                            className=\"flex-1 px-6 py-4 border-2 border-gray-100 rounded-2xl text-base focus:ring-4 focus:ring-wiria-yellow/10 focus:border-wiria-yellow outline-none transition-all placeholder:text-gray-300\"\n                                                                        />\n                                                                        <button\n                                                                            type=\"button\"\n                                                                            onClick={handleVerifyPayment}\n                                                                            disabled={isVerifying}\n                                                                            className=\"bg-wiria-blue-dark text-white font-black py-4 px-8 rounded-2xl hover:bg-blue-900 transition-all shadow-xl shadow-blue-900/10 flex items-center justify-center gap-2 disabled:opacity-50\"\n                                                                        >\n                                                                            {isVerifying ? <Spinner size=\"sm\" /> : 'Verify'}\n                                                                        </button>\n                                                                    </div>\n                                                                    {isManualPaymentVerified && (\n                                                                        <motion.p\n                                                                            initial={{ opacity: 0, x: -10 }}\n                                                                            animate={{ opacity: 1, x: 0 }}\n                                                                            className=\"text-sm font-bold text-green-600 bg-green-50 p-3 rounded-xl border border-green-100 flex items-center gap-2\"\n                                                                        >\n                                                                            <span>‚úì</span> Payment Verified! You can now complete your donation.\n                                                                        </motion.p>\n                                                                    )}\n                                                                </div>\n                                                            </div>\n                                                        </motion.div>\n                                                    )}\n                                                </AnimatePresence>\n\n                                                {/* Submit Button */}\n                                                <Button\n                                                    type=\"submit\"\n                                                    fullWidth\n                                                    size=\"lg\"\n                                                    isLoading={isSubmitting}\n                                                    className=\"w-full bg-gradient-to-r from-wiria-blue-dark to-blue-900 text-white font-black py-5 px-8 rounded-2xl hover:translate-y-[-2px] hover:shadow-2xl transition-all shadow-xl shadow-blue-900/20 flex items-center justify-center gap-4 text-xl group\"\n                                                >\n                                                    {isSubmitting ? (\n                                                        'Processing...'\n                                                    ) : (\n                                                        <>\n                                                            <span>Complete Donation</span>\n                                                            <svg\n                                                                className=\"w-6 h-6 group-hover:translate-x-1 transition-transform\"\n                                                                fill=\"none\"\n                                                                stroke=\"currentColor\"\n                                                                viewBox=\"0 0 24 24\"\n                                                            >\n                                                                <path\n                                                                    strokeLinecap=\"round\"\n                                                                    strokeLinejoin=\"round\"\n                                                                    strokeWidth={3}\n                                                                    d=\"M13 7l5 5m0 0l-5 5m5-5H6\"\n                                                                />\n                                                            </svg>\n                                                        </>\n                                                    )}\n                                                </Button>\n\n                                                <div className=\"mt-8 flex items-center justify-center gap-3 text-xs text-gray-400 font-medium\">\n                                                    <span className=\"flex items-center gap-1\">üîí SSL Secure</span>\n                                                    <span>‚Ä¢</span>\n                                                    <span>Powered by M-Pesa Safaricom</span>\n                                                </div>\n                                            </form>\n                                        </CardBody>\n                                    </Card>\n                                </motion.div>\n                            )}\n                        </AnimatePresence>\n\n                        {/* Alternate Payment Methods */}\n                        {paymentStatus !== 'COMPLETED' && (\n                            <motion.div\n                                initial={{ opacity: 0 }}\n                                whileInView={{ opacity: 1 }}\n                                viewport={{ once: true }}\n                                className=\"mt-12\"\n                            >\n                                <AlternatePaymentMethods />\n                            </motion.div>\n                        )}\n                    </div>\n                </div>\n            </section>\n\n            {/* Impact Section */}\n            <DonationImpactSection />\n        </Layout>\n    );\n}\n\nexport default DonationsPage;\n"],"names":["suggestedAmounts","AmountSelector","selectedAmount","onAmountChange","disabled","jsxs","jsx","amount","motion","e","IMPACT_ITEMS","containerVariants","itemVariants","DonationImpactSection","item","BANK_DETAILS","AlternatePaymentMethods","detail","useDonation","isSubmitting","setIsSubmitting","useState","checkoutRequestId","setCheckoutRequestId","donationId","setDonationId","paymentStatus","setPaymentStatus","isVerifying","setIsVerifying","isManualPaymentVerified","setIsManualPaymentVerified","data","response","apiClient","API_ENDPOINTS","donation","reqId","message","notificationService","donationIdToCheck","status","phone","DonationsPage","formData","setFormData","initiateDonation","checkPaymentStatus","verifyManualPayment","resetDonation","usePaymentPoller","handleSubmit","formattedData","formatPhoneNumber","handleChange","name","value","prev","handleVerifyPayment","handleStartOver","Layout","AnimatePresence","Card","CardBody","Button","Spinner","Input","PaymentMethodToggle","method","PaymentInstructions","Fragment"],"mappings":"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"}