{"version":3,"file":"ResetPasswordPage-Cw-b_Dt4.js","sources":["../../src/pages/ResetPasswordPage.tsx"],"sourcesContent":["/**\n * Reset Password Page\n * Password reset request and confirmation\n */\n\nimport { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Layout } from '@/shared/components/layout/Layout';\nimport { Card, CardBody } from '@/shared/components/ui/Card';\nimport { Button } from '@/shared/components/ui/Button';\nimport { Input } from '@/shared/components/ui/Input';\nimport { apiClient } from '@/shared/services/api/client';\nimport { API_ENDPOINTS } from '@/shared/services/api/endpoints';\nimport { notificationService } from '@/shared/services/notification/notificationService';\n\ntype Step = 'request' | 'confirm' | 'success';\n\nfunction ResetPasswordPage() {\n    const [step, setStep] = useState<Step>('request');\n    const [email, setEmail] = useState('');\n    const [token, setToken] = useState('');\n    const [newPassword, setNewPassword] = useState('');\n    const [confirmPassword, setConfirmPassword] = useState('');\n    const [isLoading, setIsLoading] = useState(false);\n\n    const handleRequestReset = async (e: React.FormEvent) => {\n        e.preventDefault();\n        setIsLoading(true);\n\n        try {\n            await apiClient.post(API_ENDPOINTS.AUTH_RESET_PASSWORD_REQUEST, { email });\n            notificationService.success('Password reset link sent to your email!');\n            setStep('confirm');\n        } catch (err) {\n            notificationService.error('Failed to send reset link. Please check your email and try again.');\n            console.error('Reset request error:', err);\n        } finally {\n            setIsLoading(false);\n        }\n    };\n\n    const handleConfirmReset = async (e: React.FormEvent) => {\n        e.preventDefault();\n\n        if (newPassword !== confirmPassword) {\n            notificationService.error('Passwords do not match');\n            return;\n        }\n\n        if (newPassword.length < 8) {\n            notificationService.error('Password must be at least 8 characters');\n            return;\n        }\n\n        setIsLoading(true);\n\n        try {\n            await apiClient.post(API_ENDPOINTS.AUTH_RESET_PASSWORD_CONFIRM, {\n                token,\n                newPassword,\n            });\n            notificationService.success('Password reset successfully!');\n            setStep('success');\n        } catch (err) {\n            notificationService.error('Failed to reset password. Token may be invalid or expired.');\n            console.error('Reset confirm error:', err);\n        } finally {\n            setIsLoading(false);\n        }\n    };\n\n    return (\n        <Layout>\n            <div className=\"min-h-[70vh] flex items-center justify-center py-12 px-4 bg-gray-50\">\n                <div className=\"w-full max-w-md\">\n                    <Card>\n                        <CardBody className=\"p-8\">\n                            {/* Request Step */}\n                            {step === 'request' && (\n                                <>\n                                    <div className=\"text-center mb-8\">\n                                        <div className=\"w-16 h-16 bg-wiria-yellow/10 rounded-full flex items-center justify-center mx-auto mb-4\">\n                                            <svg className=\"w-8 h-8 text-wiria-yellow\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z\" />\n                                            </svg>\n                                        </div>\n                                        <h1 className=\"text-2xl font-bold text-wiria-blue-dark\">Reset Password</h1>\n                                        <p className=\"text-gray-500 mt-2\">\n                                            Enter your email to receive a password reset link\n                                        </p>\n                                    </div>\n\n                                    <form onSubmit={handleRequestReset} className=\"space-y-6\">\n                                        <Input\n                                            type=\"email\"\n                                            label=\"Email Address\"\n                                            value={email}\n                                            onChange={(e) => setEmail(e.target.value)}\n                                            placeholder=\"you@example.com\"\n                                            required\n                                        />\n\n                                        <Button\n                                            type=\"submit\"\n                                            fullWidth\n                                            size=\"lg\"\n                                            isLoading={isLoading}\n                                        >\n                                            Send Reset Link\n                                        </Button>\n                                    </form>\n\n                                    <div className=\"mt-6 text-center\">\n                                        <p className=\"text-sm text-gray-600\">\n                                            Already have a reset token?{' '}\n                                            <button\n                                                onClick={() => setStep('confirm')}\n                                                className=\"text-wiria-blue-dark hover:text-wiria-yellow font-semibold\"\n                                            >\n                                                Enter token\n                                            </button>\n                                        </p>\n                                    </div>\n                                </>\n                            )}\n\n                            {/* Confirm Step */}\n                            {step === 'confirm' && (\n                                <>\n                                    <div className=\"text-center mb-8\">\n                                        <div className=\"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n                                            <svg className=\"w-8 h-8 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                                            </svg>\n                                        </div>\n                                        <h1 className=\"text-2xl font-bold text-wiria-blue-dark\">Check Your Email</h1>\n                                        <p className=\"text-gray-500 mt-2\">\n                                            Enter the token from your email and set a new password\n                                        </p>\n                                    </div>\n\n                                    <form onSubmit={handleConfirmReset} className=\"space-y-6\">\n                                        <Input\n                                            label=\"Reset Token\"\n                                            value={token}\n                                            onChange={(e) => setToken(e.target.value)}\n                                            placeholder=\"Enter token from email\"\n                                            required\n                                        />\n\n                                        <Input\n                                            type=\"password\"\n                                            label=\"New Password\"\n                                            value={newPassword}\n                                            onChange={(e) => setNewPassword(e.target.value)}\n                                            placeholder=\"••••••••\"\n                                            helperText=\"Minimum 8 characters\"\n                                            required\n                                        />\n\n                                        <Input\n                                            type=\"password\"\n                                            label=\"Confirm Password\"\n                                            value={confirmPassword}\n                                            onChange={(e) => setConfirmPassword(e.target.value)}\n                                            placeholder=\"••••••••\"\n                                            required\n                                        />\n\n                                        <Button\n                                            type=\"submit\"\n                                            fullWidth\n                                            size=\"lg\"\n                                            isLoading={isLoading}\n                                        >\n                                            Reset Password\n                                        </Button>\n                                    </form>\n\n                                    <div className=\"mt-6 text-center\">\n                                        <button\n                                            onClick={() => setStep('request')}\n                                            className=\"text-sm text-gray-500 hover:text-wiria-blue-dark\"\n                                        >\n                                            ← Request new reset link\n                                        </button>\n                                    </div>\n                                </>\n                            )}\n\n                            {/* Success Step */}\n                            {step === 'success' && (\n                                <div className=\"text-center py-6\">\n                                    <div className=\"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6\">\n                                        <svg className=\"w-10 h-10 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n                                        </svg>\n                                    </div>\n                                    <h1 className=\"text-2xl font-bold text-green-800 mb-2\">Password Reset!</h1>\n                                    <p className=\"text-gray-600 mb-6\">\n                                        Your password has been successfully reset. You can now login with your new password.\n                                    </p>\n                                    <Link to=\"/member-login\">\n                                        <Button fullWidth size=\"lg\">\n                                            Login to Member Portal\n                                        </Button>\n                                    </Link>\n                                </div>\n                            )}\n\n                            {/* Back to Login */}\n                            {step !== 'success' && (\n                                <div className=\"mt-8 pt-6 border-t border-gray-100 text-center\">\n                                    <Link\n                                        to=\"/member-login\"\n                                        className=\"text-sm text-gray-500 hover:text-wiria-blue-dark inline-flex items-center gap-2\"\n                                    >\n                                        <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 19l-7-7m0 0l7-7m-7 7h18\" />\n                                        </svg>\n                                        Back to Login\n                                    </Link>\n                                </div>\n                            )}\n                        </CardBody>\n                    </Card>\n                </div>\n            </div>\n        </Layout>\n    );\n}\n\nexport default ResetPasswordPage;\n"],"names":["ResetPasswordPage","step","setStep","useState","email","setEmail","token","setToken","newPassword","setNewPassword","confirmPassword","setConfirmPassword","isLoading","setIsLoading","handleRequestReset","e","apiClient","API_ENDPOINTS","notificationService","err","handleConfirmReset","jsx","Layout","Card","jsxs","CardBody","Fragment","Input","Button","Link"],"mappings":"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"}