{"version":3,"file":"SafeguardingPage-ae_qwrGs.js","sources":["../../src/features/safeguarding/api/safeguardingApi.ts","../../src/features/safeguarding/hooks/useSafeguardingReport.ts","../../src/features/safeguarding/validation.ts","../../src/features/safeguarding/hooks/useSafeguardingForm.ts","../../src/features/safeguarding/components/form/ReporterStep.tsx","../../src/features/safeguarding/components/form/ConcernStep.tsx","../../src/features/safeguarding/components/form/SuccessView.tsx","../../src/features/safeguarding/components/SafeguardingReportForm.tsx","../../src/features/safeguarding/components/ReportStatusLookup.tsx","../../src/features/safeguarding/components/NoticesBanner.tsx","../../src/features/safeguarding/components/WhatHappensNext.tsx","../../src/features/safeguarding/components/DirectContactCard.tsx","../../src/pages/SafeguardingPage.tsx"],"sourcesContent":["import { apiClient } from '@/shared/services/api/client';\nimport { API_ENDPOINTS } from '@/shared/services/api/endpoints';\nimport { SafeguardingReportData, ReportLookupResult } from '../hooks/useSafeguardingReport';\n\nexport const safeguardingApi = {\n    submit: async (data: SafeguardingReportData, evidenceFile?: File) => {\n        const formData = new FormData();\n\n        Object.entries(data).forEach(([key, value]) => {\n            if (value !== undefined && value !== '') {\n                formData.append(key, String(value));\n            }\n        });\n\n        if (evidenceFile) {\n            formData.append('evidence', evidenceFile);\n        }\n\n        // apiClient doesn't support FormData directly in its post method currently\n        // because it forces 'application/json'. \n        // For now, we'll use a direct fetch or update apiClient.\n        const API_BASE_URL = import.meta.env.VITE_API_BASE_URL || 'http://localhost:5001/api';\n        const response = await fetch(`${API_BASE_URL}${API_ENDPOINTS.SAFEGUARDING_SUBMIT}`, {\n            method: 'POST',\n            body: formData,\n            // Note: No headers for FormData, browser sets it with boundary\n        });\n\n        if (!response.ok) {\n            throw new Error('Failed to submit report');\n        }\n\n        return response.json();\n    },\n\n    lookup: async (referenceNumber: string, email?: string) => {\n        return apiClient.post<{ data: ReportLookupResult }>(API_ENDPOINTS.SAFEGUARDING_LOOKUP, {\n            referenceNumber,\n            email,\n        });\n    }\n};\n","import { useState } from 'react';\nimport { notificationService } from '@/shared/services/notification/notificationService';\nimport { useBackendStatus } from '@/shared/services/backendStatus';\nimport { emailJsService } from '@/shared/services/emailJsService';\nimport { safeguardingApi } from '../api/safeguardingApi';\n\nexport interface SafeguardingReportData {\n  isAnonymous: boolean;\n  reporterName?: string;\n  reporterEmail?: string;\n  reporterPhone?: string;\n  reporterRelation?: string;\n  category: string;\n  incidentDate?: string;\n  location?: string;\n  personsInvolved?: string;\n  description: string;\n}\n\nexport interface ReportLookupResult {\n  referenceNumber: string;\n  status: string;\n  category: string;\n  createdAt: string;\n  updatedAt: string;\n}\n\nexport function useSafeguardingReport() {\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [isLookingUp, setIsLookingUp] = useState(false);\n  const [submittedReference, setSubmittedReference] = useState<string | null>(null);\n  const [lookupResult, setLookupResult] = useState<ReportLookupResult | null>(null);\n  const [lookupError, setLookupError] = useState<string | null>(null);\n  const { isBackendConnected } = useBackendStatus();\n\n  const submitReport = async (\n    data: SafeguardingReportData,\n    evidenceFile?: File\n  ): Promise<boolean> => {\n    setIsSubmitting(true);\n    setSubmittedReference(null);\n\n    try {\n      if (isBackendConnected) {\n        try {\n          const result = await safeguardingApi.submit(data, evidenceFile);\n          setSubmittedReference(result.data.referenceNumber);\n          notificationService.success(\n            'Report submitted successfully. Please save your reference number.'\n          );\n          return true;\n        } catch (apiError) {\n          console.warn(\n            '[useSafeguardingReport] Primary API failed, attempting EmailJS fallback...',\n            apiError\n          );\n          await emailJsService.sendSafeguardingReport(data);\n          notificationService.success(\n            'Your report has been submitted directly to our safeguarding team via our offline channel.'\n          );\n          return true;\n        }\n      } else {\n        await emailJsService.sendSafeguardingReport(data);\n        notificationService.success(\n          'Your report has been submitted directly to our safeguarding team via our offline channel.'\n        );\n        return true;\n      }\n    } catch (error) {\n      console.error('[useSafeguardingReport] Report submission failed:', error);\n      notificationService.error(\n        'Failed to submit report. Please try again or contact us directly.'\n      );\n      return false;\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const lookupStatus = async (referenceNumber: string, email?: string): Promise<boolean> => {\n    setIsLookingUp(true);\n    setLookupResult(null);\n    setLookupError(null);\n\n    try {\n      const result = await safeguardingApi.lookup(referenceNumber, email);\n      setLookupResult(result.data);\n      return true;\n    } catch {\n      setLookupError('Report not found. Please check your reference number.');\n      return false;\n    } finally {\n      setIsLookingUp(false);\n    }\n  };\n\n  const resetSubmission = () => setSubmittedReference(null);\n  const resetLookup = () => {\n    setLookupResult(null);\n    setLookupError(null);\n  };\n\n  return {\n    submitReport,\n    lookupStatus,\n    isSubmitting,\n    isLookingUp,\n    submittedReference,\n    lookupResult,\n    lookupError,\n    resetSubmission,\n    resetLookup,\n  };\n}\n","import { z } from 'zod';\n\nexport const safeguardingSchema = z.object({\n    isAnonymous: z.boolean(),\n    reporterName: z.string().optional(),\n    reporterEmail: z.string().email('Invalid email').optional().or(z.literal('')),\n    reporterPhone: z.string().optional(),\n    reporterRelation: z.string().optional(),\n    category: z.string().min(1, 'Please select a category'),\n    incidentDate: z.string().optional(),\n    location: z.string().optional(),\n    personsInvolved: z.string().optional(),\n    description: z.string().min(20, 'Description must be at least 20 characters'),\n}).refine((data) => {\n    if (!data.isAnonymous) {\n        return !!data.reporterName && !!data.reporterEmail;\n    }\n    return true;\n}, {\n    message: 'Name and email are required for non-anonymous reports',\n    path: ['reporterName'],\n});\n\nexport type SafeguardingReportSchema = z.infer<typeof safeguardingSchema>;\n","import { useState, useCallback } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { zodResolver } from '@hookform/resolvers/zod';\nimport { useSafeguardingReport } from './useSafeguardingReport';\nimport { safeguardingSchema, SafeguardingReportSchema } from '../validation';\n\nexport type FormStep = 'reporter' | 'details';\n\nexport function useSafeguardingForm() {\n  const [currentStep, setCurrentStep] = useState<FormStep>('reporter');\n  const [evidenceFile, setEvidenceFile] = useState<File | null>(null);\n  const [showSuccess, setShowSuccess] = useState(false);\n\n  const { submitReport, submittedReference, resetSubmission } = useSafeguardingReport();\n\n  const form = useForm<SafeguardingReportSchema>({\n    resolver: zodResolver(safeguardingSchema),\n    defaultValues: {\n      isAnonymous: false,\n      reporterName: '',\n      reporterEmail: '',\n      reporterPhone: '',\n      reporterRelation: '',\n      category: '',\n      incidentDate: '',\n      location: '',\n      personsInvolved: '',\n      description: '',\n    },\n    mode: 'onTouched',\n  });\n\n  const {\n    handleSubmit,\n    reset,\n    watch,\n    setValue,\n    trigger,\n    formState: { isSubmitting },\n  } = form;\n\n  const isAnonymous = watch('isAnonymous');\n\n  const onSubmit = async (data: SafeguardingReportSchema) => {\n    const success = await submitReport(data, evidenceFile || undefined);\n    if (success) {\n      setShowSuccess(true);\n    }\n  };\n\n  const handleFileChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n    if (e.target.files && e.target.files[0]) {\n      setEvidenceFile(e.target.files[0]);\n    }\n  }, []);\n\n  const clearFile = useCallback(() => {\n    setEvidenceFile(null);\n  }, []);\n\n  const handleNextStep = async () => {\n    const fieldsToValidate: (keyof SafeguardingReportSchema)[] = isAnonymous\n      ? []\n      : ['reporterName', 'reporterEmail'];\n\n    if (fieldsToValidate.length > 0) {\n      const isValid = await trigger(fieldsToValidate);\n      if (!isValid) return;\n    }\n\n    setCurrentStep('details');\n  };\n\n  const handlePrevStep = useCallback(() => {\n    setCurrentStep('reporter');\n  }, []);\n\n  const handleNewReport = useCallback(() => {\n    resetSubmission();\n    setShowSuccess(false);\n    reset();\n    setEvidenceFile(null);\n    setCurrentStep('reporter');\n  }, [resetSubmission, reset]);\n\n  return {\n    form,\n    currentStep,\n    isAnonymous,\n    evidenceFile,\n    showSuccess,\n    isSubmitting,\n    submittedReference,\n    handleFileChange,\n    clearFile,\n    handleNextStep,\n    handlePrevStep,\n    submitAction: handleSubmit(onSubmit),\n    handleNewReport,\n    progressPercentage: currentStep === 'reporter' ? 50 : 100,\n    setIsAnonymous: (val: boolean) => setValue('isAnonymous', val),\n  };\n}\n","import { motion, AnimatePresence } from 'framer-motion';\nimport { useFormContext } from 'react-hook-form';\nimport { Button } from '@/shared/components/ui/Button';\nimport { FormField, FormSelectField } from '@/shared/components/ui/form';\n\nconst REPORTER_RELATIONS = [\n  { value: 'Witness', label: 'Witness' },\n  { value: 'Victim', label: 'Victim/Survivor' },\n  { value: 'Parent/Guardian', label: 'Parent/Guardian' },\n  { value: 'Staff', label: 'Staff Member' },\n  { value: 'Volunteer', label: 'Volunteer' },\n  { value: 'Community Member', label: 'Community Member' },\n  { value: 'Other', label: 'Other' },\n];\n\nconst staggerItem = {\n  hidden: { opacity: 0, y: 20 },\n  visible: { opacity: 1, y: 0, transition: { duration: 0.4 } },\n};\n\ninterface ReporterStepProps {\n  isAnonymous: boolean;\n  isSubmitting: boolean;\n  setIsAnonymous: (val: boolean) => void;\n  onNext: () => void;\n}\n\nexport function ReporterStep({\n  isAnonymous,\n  isSubmitting,\n  setIsAnonymous,\n  onNext,\n}: ReporterStepProps) {\n  const { register } = useFormContext();\n\n  return (\n    <div className=\"space-y-6\">\n      <motion.div\n        variants={staggerItem}\n        className=\"rounded-xl border border-gray-200 bg-gradient-to-br from-gray-50 to-gray-100 p-5\"\n      >\n        <label htmlFor=\"isAnonymous\" className=\"flex cursor-pointer items-start\">\n          <input\n            {...register('isAnonymous')}\n            id=\"isAnonymous\"\n            type=\"checkbox\"\n            onChange={(e) => setIsAnonymous(e.target.checked)}\n            className=\"mt-0.5 h-5 w-5 rounded border-gray-300 text-slate-600 focus:ring-slate-500\"\n          />\n          <span className=\"ml-3 flex-1\">\n            <span className=\"flex items-center gap-2 font-semibold text-gray-800\">\n              Report Anonymously\n              {isAnonymous && (\n                <motion.span\n                  initial={{ scale: 0 }}\n                  animate={{ scale: 1 }}\n                  className=\"inline-flex items-center gap-1 rounded-full bg-green-100 px-2 py-0.5 text-xs font-medium text-green-700\"\n                >\n                  Protected\n                </motion.span>\n              )}\n            </span>\n            <span className=\"mt-1 block text-sm text-gray-500\">\n              Your identity will not be recorded. However, we won't be able to contact you for\n              follow-up.\n            </span>\n          </span>\n        </label>\n\n        <AnimatePresence>\n          {isAnonymous && (\n            <motion.div\n              initial={{ opacity: 0, height: 0 }}\n              animate={{ opacity: 1, height: 'auto' }}\n              exit={{ opacity: 0, height: 0 }}\n              className=\"mt-4 rounded-lg border border-green-200 bg-green-50 p-3\"\n            >\n              <p className=\"flex items-center gap-2 text-sm text-green-700\">\n                <strong>Your identity is protected.</strong>\n              </p>\n            </motion.div>\n          )}\n        </AnimatePresence>\n      </motion.div>\n\n      {!isAnonymous && (\n        <motion.div\n          variants={staggerItem}\n          className=\"space-y-4 border-l-4 border-wiria-blue-dark pl-4\"\n        >\n          <h3 className=\"font-semibold text-wiria-blue-dark\">Your Information</h3>\n          <div className=\"grid gap-4 md:grid-cols-2\">\n            <FormField\n              label=\"Your Name\"\n              name=\"reporterName\"\n              disabled={isSubmitting}\n              placeholder=\"Enter your name\"\n              required\n            />\n            <FormField\n              label=\"Your Email\"\n              type=\"email\"\n              name=\"reporterEmail\"\n              disabled={isSubmitting}\n              placeholder=\"email@example.com\"\n              required\n            />\n          </div>\n          <div className=\"grid gap-4 md:grid-cols-2\">\n            <FormField\n              label=\"Phone (Optional)\"\n              type=\"tel\"\n              name=\"reporterPhone\"\n              disabled={isSubmitting}\n              placeholder=\"+254 7XX XXX XXX\"\n            />\n            <FormSelectField\n              label=\"Your Relation\"\n              name=\"reporterRelation\"\n              options={REPORTER_RELATIONS}\n              disabled={isSubmitting}\n            />\n          </div>\n        </motion.div>\n      )}\n\n      <motion.div variants={staggerItem}>\n        <Button\n          type=\"button\"\n          onClick={onNext}\n          fullWidth\n          className=\"flex items-center justify-center gap-2 rounded-xl py-4 shadow-lg\"\n        >\n          Continue to Concern Details\n        </Button>\n      </motion.div>\n    </div>\n  );\n}\n","import { motion } from 'framer-motion';\nimport { useFormContext } from 'react-hook-form';\nimport { Button } from '@/shared/components/ui/Button';\nimport { FormField, FormTextareaField } from '@/shared/components/ui/form';\n\nconst CONCERN_CATEGORIES = [\n  { value: 'CHILD_PROTECTION', label: 'Child Protection', icon: 'üßí' },\n  { value: 'SEXUAL_EXPLOITATION', label: 'Sexual Exploitation', icon: '‚ö†Ô∏è' },\n  { value: 'HARASSMENT', label: 'Harassment', icon: 'üò∞' },\n  { value: 'DISCRIMINATION', label: 'Discrimination', icon: 'üö´' },\n  { value: 'FRAUD', label: 'Financial Misconduct', icon: 'üí∞' },\n  { value: 'OTHER', label: 'Other Concern', icon: 'üìã' },\n];\n\nconst staggerItem = {\n  hidden: { opacity: 0, y: 20 },\n  visible: { opacity: 1, y: 0, transition: { duration: 0.4 } },\n};\n\ninterface ConcernStepProps {\n  isSubmitting: boolean;\n  evidenceFile: File | null;\n  onFileChange: (e: React.ChangeEvent<HTMLInputElement>) => void;\n  onClearFile: () => void;\n  onBack: () => void;\n}\n\nexport function ConcernStep({\n  isSubmitting,\n  evidenceFile,\n  onFileChange,\n  onClearFile,\n  onBack,\n}: ConcernStepProps) {\n  const { watch, setValue } = useFormContext();\n  const category = watch('category');\n\n  return (\n    <div className=\"space-y-6\">\n      <motion.div variants={staggerItem}>\n        <label className=\"mb-1 block text-sm font-medium text-gray-700\">\n          Category of Concern <span className=\"text-red-500\">*</span>\n        </label>\n        <div className=\"mt-2 grid grid-cols-2 gap-2 md:grid-cols-3\">\n          {CONCERN_CATEGORIES.map((cat) => (\n            <button\n              key={cat.value}\n              type=\"button\"\n              onClick={() => setValue('category', cat.value, { shouldValidate: true })}\n              disabled={isSubmitting}\n              className={`rounded-xl border-2 p-3 text-left transition-all ${category === cat.value\n                  ? 'border-slate-600 bg-slate-50 shadow-md'\n                  : 'border-gray-200 hover:border-gray-300 hover:bg-gray-50'\n                } disabled:opacity-50`}\n            >\n              <span className=\"text-xl\">{cat.icon}</span>\n              <span\n                className={`mt-1 block text-sm font-medium ${category === cat.value ? 'text-slate-700' : 'text-gray-600'}`}\n              >\n                {cat.label}\n              </span>\n            </button>\n          ))}\n        </div>\n      </motion.div>\n\n      <motion.div variants={staggerItem} className=\"grid gap-4 md:grid-cols-2\">\n        <FormField\n          label=\"When did this occur?\"\n          type=\"date\"\n          name=\"incidentDate\"\n          disabled={isSubmitting}\n        />\n        <FormField\n          label=\"Where did this happen?\"\n          name=\"location\"\n          disabled={isSubmitting}\n          placeholder=\"Location or area\"\n        />\n      </motion.div>\n\n      <motion.div variants={staggerItem}>\n        <FormTextareaField\n          label=\"Person(s) Involved\"\n          name=\"personsInvolved\"\n          rows={2}\n          disabled={isSubmitting}\n          placeholder=\"Names or descriptions of people involved\"\n        />\n      </motion.div>\n\n      <motion.div variants={staggerItem}>\n        <FormTextareaField\n          label=\"Description\"\n          name=\"description\"\n          rows={5}\n          required\n          disabled={isSubmitting}\n          placeholder=\"Please describe what happened in detail...\"\n          description=\"Minimum 20 characters required\"\n        />\n      </motion.div>\n\n      <motion.div variants={staggerItem}>\n        <label className=\"mb-1 block text-sm font-medium text-gray-700\">\n          Supporting Evidence (Optional)\n        </label>\n        {evidenceFile ? (\n          <div className=\"flex items-center justify-between rounded-lg border border-green-200 bg-green-50 p-4\">\n            <div className=\"flex items-center gap-3\">\n              <svg\n                className=\"h-8 w-8 text-green-600\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                viewBox=\"0 0 24 24\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={2}\n                  d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n                />\n              </svg>\n              <div>\n                <p className=\"max-w-[200px] truncate font-medium text-green-800\">\n                  {evidenceFile.name}\n                </p>\n                <p className=\"text-sm text-green-600\">{(evidenceFile.size / 1024).toFixed(1)} KB</p>\n              </div>\n            </div>\n            <button\n              type=\"button\"\n              onClick={onClearFile}\n              className=\"rounded-full p-2 text-red-500 transition-colors hover:bg-red-100\"\n            >\n              &times;\n            </button>\n          </div>\n        ) : (\n          <div className=\"relative\">\n            <input\n              type=\"file\"\n              onChange={onFileChange}\n              disabled={isSubmitting}\n              className=\"absolute inset-0 h-full w-full cursor-pointer opacity-0\"\n              accept=\"image/*,.pdf,.doc,.docx\"\n            />\n            <div className=\"rounded-xl border-2 border-dashed border-gray-300 p-6 text-center transition-all hover:border-slate-400 hover:bg-gray-50\">\n              <p className=\"font-medium text-gray-600\">Click or drag file to upload</p>\n            </div>\n          </div>\n        )}\n      </motion.div>\n\n      <motion.div variants={staggerItem} className=\"flex gap-3 pt-4\">\n        <Button variant=\"secondary\" onClick={onBack} disabled={isSubmitting} className=\"flex-1\">\n          Back\n        </Button>\n        <Button\n          type=\"submit\"\n          disabled={isSubmitting || !category}\n          className=\"flex-[2] rounded-xl py-4 shadow-lg\"\n        >\n          {isSubmitting ? 'Submitting...' : 'Submit Report'}\n        </Button>\n      </motion.div>\n    </div>\n  );\n}\n","import { motion } from 'framer-motion';\n\ninterface SuccessViewProps {\n  referenceNumber: string | null;\n  onReset: () => void;\n}\n\nexport function SuccessView({ referenceNumber, onReset }: SuccessViewProps) {\n  return (\n    <motion.div\n      initial={{ opacity: 0, scale: 0.9 }}\n      animate={{ opacity: 1, scale: 1 }}\n      className=\"py-12 text-center\"\n    >\n      <motion.div\n        initial={{ scale: 0 }}\n        animate={{ scale: 1 }}\n        transition={{ type: 'spring', stiffness: 200, delay: 0.2 }}\n        className=\"mx-auto mb-6 flex h-24 w-24 items-center justify-center rounded-full bg-gradient-to-br from-green-100 to-green-200 shadow-lg\"\n      >\n        <motion.svg\n          initial={{ pathLength: 0, opacity: 0 }}\n          animate={{ pathLength: 1, opacity: 1 }}\n          transition={{ duration: 0.5, delay: 0.4 }}\n          className=\"h-12 w-12 text-green-600\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n          viewBox=\"0 0 24 24\"\n        >\n          <motion.path\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            strokeWidth={3}\n            d=\"M5 13l4 4L19 7\"\n          />\n        </motion.svg>\n      </motion.div>\n      <motion.h3\n        initial={{ opacity: 0, y: 10 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ delay: 0.5 }}\n        className=\"mb-2 text-2xl font-bold text-gray-800\"\n      >\n        Report Submitted Successfully\n      </motion.h3>\n      <motion.p\n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1 }}\n        transition={{ delay: 0.6 }}\n        className=\"mb-6 text-gray-600\"\n      >\n        Thank you for bringing this to our attention.\n      </motion.p>\n      {referenceNumber && (\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ delay: 0.7 }}\n          className=\"inline-block rounded-xl bg-gradient-to-br from-gray-100 to-gray-50 p-6 shadow-inner\"\n        >\n          <p className=\"mb-1 text-sm text-gray-600\">Your Reference Number:</p>\n          <p className=\"text-3xl font-bold tracking-wider text-slate-700\">{referenceNumber}</p>\n        </motion.div>\n      )}\n      <motion.p\n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1 }}\n        transition={{ delay: 0.8 }}\n        className=\"mt-4 text-sm text-gray-500\"\n      >\n        Please save this reference number to check the status of your report.\n      </motion.p>\n      <motion.button\n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1 }}\n        transition={{ delay: 0.9 }}\n        onClick={onReset}\n        className=\"mt-6 inline-flex items-center gap-2 font-medium text-wiria-blue-dark transition-colors hover:text-wiria-yellow\"\n      >\n        <svg className=\"h-4 w-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\n        </svg>\n        Submit Another Report\n      </motion.button>\n    </motion.div>\n  );\n}\n","import { motion, AnimatePresence } from 'framer-motion';\nimport { FormProvider } from 'react-hook-form';\nimport { useSafeguardingForm } from '../hooks/useSafeguardingForm';\nimport { ReporterStep } from './form/ReporterStep';\nimport { ConcernStep } from './form/ConcernStep';\nimport { SuccessView } from './form/SuccessView';\n\nconst staggerContainer = {\n  hidden: { opacity: 0 },\n  visible: {\n    opacity: 1,\n    transition: { staggerChildren: 0.1, delayChildren: 0.1 },\n  },\n};\n\nexport function SafeguardingReportForm() {\n  const {\n    form,\n    currentStep,\n    isAnonymous,\n    evidenceFile,\n    showSuccess,\n    isSubmitting,\n    submittedReference,\n    progressPercentage,\n    setIsAnonymous,\n    handleFileChange,\n    clearFile,\n    handleNextStep,\n    handlePrevStep,\n    submitAction,\n    handleNewReport,\n  } = useSafeguardingForm();\n\n  if (showSuccess) {\n    return <SuccessView referenceNumber={submittedReference} onReset={handleNewReport} />;\n  }\n\n  return (\n    <FormProvider {...form}>\n      <form id=\"safeguarding-form\" className=\"space-y-6\" onSubmit={submitAction}>\n        {/* Progress Steps Indicator */}\n        <div className=\"mb-8\">\n          <div className=\"mb-2 flex items-center justify-between\">\n            <span\n              className={`text-sm font-medium ${currentStep === 'reporter' ? 'text-slate-700' : 'text-gray-400'}`}\n            >\n              1. Reporter Info\n            </span>\n            <span\n              className={`text-sm font-medium ${currentStep === 'details' ? 'text-slate-700' : 'text-gray-400'}`}\n            >\n              2. Concern Details\n            </span>\n          </div>\n          <div className=\"h-2 overflow-hidden rounded-full bg-gray-200\">\n            <motion.div\n              className=\"h-full rounded-full bg-gradient-to-r from-slate-600 to-slate-700\"\n              initial={{ width: '50%' }}\n              animate={{ width: `${progressPercentage}%` }}\n              transition={{ duration: 0.3 }}\n            />\n          </div>\n        </div>\n\n        <AnimatePresence mode=\"wait\">\n          <motion.div\n            key={currentStep}\n            variants={staggerContainer}\n            initial=\"hidden\"\n            animate=\"visible\"\n            exit={{ opacity: 0, x: currentStep === 'reporter' ? -20 : 20 }}\n          >\n            {currentStep === 'reporter' ? (\n              <ReporterStep\n                isAnonymous={isAnonymous}\n                isSubmitting={isSubmitting}\n                setIsAnonymous={setIsAnonymous}\n                onNext={handleNextStep}\n              />\n            ) : (\n              <ConcernStep\n                isSubmitting={isSubmitting}\n                evidenceFile={evidenceFile}\n                onFileChange={handleFileChange}\n                onClearFile={clearFile}\n                onBack={handlePrevStep}\n              />\n            )}\n          </motion.div>\n        </AnimatePresence>\n      </form>\n    </FormProvider>\n  );\n}\n","/**\n * ReportStatusLookup Component\n\n */\n\nimport { useState, FormEvent } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { useSafeguardingReport } from '../hooks/useSafeguardingReport';\n\n// status configuration with icons\nconst STATUS_CONFIG: Record<string, { bg: string; text: string; icon: string; label: string }> = {\n  PENDING: {\n    bg: 'bg-amber-100',\n    text: 'text-amber-800',\n    icon: '‚è≥',\n    label: 'Pending Review',\n  },\n  UNDER_REVIEW: {\n    bg: 'bg-blue-100',\n    text: 'text-blue-800',\n    icon: 'üëÅÔ∏è',\n    label: 'Under Review',\n  },\n  INVESTIGATING: {\n    bg: 'bg-purple-100',\n    text: 'text-purple-800',\n    icon: 'üîç',\n    label: 'Investigating',\n  },\n  RESOLVED: {\n    bg: 'bg-green-100',\n    text: 'text-green-800',\n    icon: '‚úì',\n    label: 'Resolved',\n  },\n  CLOSED: {\n    bg: 'bg-gray-200',\n    text: 'text-gray-800',\n    icon: 'üîí',\n    label: 'Closed',\n  },\n};\n\nexport function ReportStatusLookup() {\n  const [referenceNumber, setReferenceNumber] = useState('');\n  const [email, setEmail] = useState('');\n\n  const { lookupStatus, isLookingUp, lookupResult, lookupError, resetLookup } =\n    useSafeguardingReport();\n\n  const handleSubmit = async (e: FormEvent) => {\n    e.preventDefault();\n    await lookupStatus(referenceNumber, email || undefined);\n  };\n\n  const handleReset = () => {\n    resetLookup();\n    setReferenceNumber('');\n    setEmail('');\n  };\n\n  const formatDate = (dateString: string) => {\n    return new Date(dateString).toLocaleDateString('en-GB', {\n      day: 'numeric',\n      month: 'short',\n      year: 'numeric',\n    });\n  };\n\n  const statusConfig = lookupResult ? STATUS_CONFIG[lookupResult.status] : null;\n\n  return (\n    <div className=\"rounded-2xl border border-gray-100 bg-white/80 p-6 shadow-lg backdrop-blur-sm\">\n      <h3 className=\"mb-4 flex items-center gap-2 text-xl font-bold text-wiria-blue-dark\">\n        <svg className=\"h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            strokeWidth={2}\n            d=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01\"\n          />\n        </svg>\n        Check Report Status\n      </h3>\n\n      <form onSubmit={handleSubmit} className=\"space-y-4\">\n        <div>\n          <label htmlFor=\"lookupReference\" className=\"mb-1 block text-sm font-medium text-gray-700\">\n            Reference Number\n          </label>\n          <input\n            type=\"text\"\n            id=\"lookupReference\"\n            value={referenceNumber}\n            onChange={(e) => setReferenceNumber(e.target.value)}\n            required\n            disabled={isLookingUp}\n            className=\"w-full rounded-lg border border-gray-300 px-4 py-3 transition-all focus:border-wiria-blue-dark focus:ring-2 focus:ring-wiria-blue-dark disabled:bg-gray-50\"\n            placeholder=\"SGR-2025-XXXXXX\"\n          />\n        </div>\n        <div>\n          <label htmlFor=\"lookupEmail\" className=\"mb-1 block text-sm font-medium text-gray-700\">\n            Email (if provided)\n          </label>\n          <input\n            type=\"email\"\n            id=\"lookupEmail\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n            disabled={isLookingUp}\n            className=\"w-full rounded-lg border border-gray-300 px-4 py-3 transition-all focus:border-wiria-blue-dark focus:ring-2 focus:ring-wiria-blue-dark disabled:bg-gray-50\"\n            placeholder=\"Optional - for verification\"\n          />\n        </div>\n        <button\n          type=\"submit\"\n          disabled={isLookingUp || !referenceNumber}\n          className=\"flex w-full items-center justify-center gap-2 rounded-lg bg-wiria-blue-dark px-4 py-3 font-semibold text-white transition-all hover:bg-blue-900 disabled:cursor-not-allowed disabled:opacity-60\"\n        >\n          {isLookingUp ? (\n            <>\n              <motion.svg\n                animate={{ rotate: 360 }}\n                transition={{ duration: 1, repeat: Infinity, ease: 'linear' }}\n                className=\"h-4 w-4\"\n                fill=\"none\"\n                viewBox=\"0 0 24 24\"\n              >\n                <circle\n                  className=\"opacity-25\"\n                  cx=\"12\"\n                  cy=\"12\"\n                  r=\"10\"\n                  stroke=\"currentColor\"\n                  strokeWidth=\"4\"\n                />\n                <path\n                  className=\"opacity-75\"\n                  fill=\"currentColor\"\n                  d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z\"\n                />\n              </motion.svg>\n              Checking...\n            </>\n          ) : (\n            'Check Status'\n          )}\n        </button>\n      </form>\n\n      {/* Status Result with Badge */}\n      <AnimatePresence>\n        {lookupResult && statusConfig && (\n          <motion.div\n            initial={{ opacity: 0, y: 10, scale: 0.95 }}\n            animate={{ opacity: 1, y: 0, scale: 1 }}\n            exit={{ opacity: 0, scale: 0.95 }}\n            className=\"mt-4 rounded-xl bg-gradient-to-br from-gray-50 to-gray-100 p-4\"\n          >\n            <p className=\"mb-2 text-sm text-gray-600\">Status:</p>\n            <motion.div\n              initial={{ scale: 0.8 }}\n              animate={{ scale: 1 }}\n              transition={{ type: 'spring', stiffness: 300 }}\n              className={`inline-flex items-center gap-2 rounded-full px-4 py-2 ${statusConfig.bg} ${statusConfig.text} font-bold`}\n            >\n              <span className=\"text-lg\">{statusConfig.icon}</span>\n              <span>{statusConfig.label}</span>\n            </motion.div>\n            <div className=\"mt-3 space-y-1 border-t border-gray-200 pt-3 text-sm text-gray-500\">\n              <p className=\"flex items-center gap-2\">\n                <svg className=\"h-4 w-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    strokeWidth={2}\n                    d=\"M8 7V3m8 4V3m-9 4h10M5 11h14M5 15h14M5 19h14\"\n                  />\n                </svg>\n                Submitted: {formatDate(lookupResult.createdAt)}\n              </p>\n              {lookupResult.updatedAt !== lookupResult.createdAt && (\n                <p className=\"flex items-center gap-2\">\n                  <svg className=\"h-4 w-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                      strokeWidth={2}\n                      d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\"\n                    />\n                  </svg>\n                  Updated: {formatDate(lookupResult.updatedAt)}\n                </p>\n              )}\n            </div>\n            <button\n              onClick={handleReset}\n              className=\"mt-4 flex items-center gap-1 text-sm font-medium text-wiria-blue-dark transition-colors hover:text-wiria-yellow\"\n            >\n              <svg className=\"h-4 w-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={2}\n                  d=\"M10 19l-7-7m0 0l7-7m-7 7h18\"\n                />\n              </svg>\n              Check Another Report\n            </button>\n          </motion.div>\n        )}\n\n        {lookupError && (\n          <motion.div\n            initial={{ opacity: 0, y: 10 }}\n            animate={{ opacity: 1, y: 0 }}\n            exit={{ opacity: 0 }}\n            className=\"mt-4 rounded-xl border border-red-100 bg-red-50 p-4\"\n          >\n            <p className=\"flex items-center gap-2 text-sm text-red-600\">\n              <svg className=\"h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={2}\n                  d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n                />\n              </svg>\n              {lookupError}\n            </p>\n            <button\n              onClick={handleReset}\n              className=\"mt-2 text-sm font-medium text-red-700 hover:text-red-800\"\n            >\n              Try Again\n            </button>\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </div>\n  );\n}\n","/**\n * NoticesBanner Component\n * Emergency warning and confidentiality notice banners\n\n */\n\nimport { motion } from 'framer-motion';\n\nexport function NoticesBanner() {\n  return (\n    <section className=\"bg-gray-50 py-8\">\n      <div className=\"container mx-auto space-y-4 px-4 lg:px-6\">\n        {/* Emergency Warning - with pulsing glow */}\n        <motion.div\n          initial={{ opacity: 0, y: 10 }}\n          animate={{ opacity: 1, y: 0 }}\n          className=\"relative overflow-hidden rounded-lg border-l-4 border-amber-500 bg-gradient-to-r from-yellow-50 to-amber-50 p-6\"\n        >\n          {/* Pulsing glow effect */}\n          <motion.div\n            animate={{\n              opacity: [0.3, 0.6, 0.3],\n              scale: [1, 1.02, 1],\n            }}\n            transition={{\n              duration: 3,\n              repeat: Infinity,\n              ease: 'easeInOut',\n            }}\n            className=\"pointer-events-none absolute inset-0 bg-gradient-to-r from-amber-200/30 to-yellow-200/30\"\n          />\n\n          <div className=\"relative z-10 flex items-start\">\n            <motion.div\n              animate={{ rotate: [0, 10, -10, 0] }}\n              transition={{ duration: 2, repeat: Infinity, repeatDelay: 3 }}\n            >\n              <svg\n                className=\"mr-3 mt-1 h-6 w-6 flex-shrink-0 text-amber-600\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                viewBox=\"0 0 24 24\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={2}\n                  d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"\n                />\n              </svg>\n            </motion.div>\n            <div>\n              <h3 className=\"mb-1 font-bold text-amber-800\">Immediate Danger?</h3>\n              <p className=\"text-amber-700\">\n                If someone is in immediate danger, please contact local emergency services first\n                (Police: 999/112, or Child Helpline: 116).\n              </p>\n            </div>\n          </div>\n        </motion.div>\n\n        {/* Confidentiality Notice */}\n        <motion.div\n          initial={{ opacity: 0, y: 10 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ delay: 0.1 }}\n          className=\"rounded-lg border-l-4 border-slate-500 bg-gradient-to-r from-slate-50 to-slate-100 p-6\"\n        >\n          <div className=\"flex items-start\">\n            <svg\n              className=\"mr-3 mt-1 h-6 w-6 flex-shrink-0 text-slate-600\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              viewBox=\"0 0 24 24\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z\"\n              />\n            </svg>\n            <div>\n              <h3 className=\"mb-1 font-bold text-slate-800\">Confidentiality Notice</h3>\n              <p className=\"text-slate-600\">\n                All reports are treated with the utmost confidentiality. You can choose to report\n                anonymously. Only designated safeguarding officers have access to this information.\n              </p>\n            </div>\n          </div>\n        </motion.div>\n      </div>\n    </section>\n  );\n}\n","/**\n * WhatHappensNext Component\n * Explains the investigation process steps\n */\n\nexport function WhatHappensNext() {\n  const steps = [\n    'Your report is received and logged securely',\n    'A safeguarding officer reviews within 24-48 hours',\n    'Investigation is conducted as appropriate',\n    'Action is taken and you may be notified of outcome',\n  ];\n\n  return (\n    <div className=\"rounded-2xl bg-gradient-to-br from-gray-50 to-gray-100 p-6\">\n      <h3 className=\"mb-4 text-xl font-bold text-wiria-blue-dark\">What Happens Next?</h3>\n      <ol className=\"space-y-4\">\n        {steps.map((step, index) => (\n          <li key={index} className=\"flex items-start gap-3\">\n            <span className=\"flex h-6 w-6 flex-shrink-0 items-center justify-center rounded-full bg-red-600 text-sm font-bold text-white\">\n              {index + 1}\n            </span>\n            <span className=\"text-gray-700\">{step}</span>\n          </li>\n        ))}\n      </ol>\n    </div>\n  );\n}\n","/**\n * DirectContactCard Component\n * Contact information for the safeguarding team\n */\n\nexport function DirectContactCard() {\n  return (\n    <div className=\"rounded-2xl border border-red-100 bg-red-50 p-6\">\n      <h3 className=\"mb-4 text-xl font-bold text-red-800\">Prefer to Speak Directly?</h3>\n      <p className=\"mb-4 text-red-700\">You can contact our Safeguarding Team directly:</p>\n      <div className=\"space-y-3\">\n        <p className=\"flex items-center gap-2 text-gray-700\">\n          <svg\n            className=\"h-5 w-5 flex-shrink-0 text-red-600\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            viewBox=\"0 0 24 24\"\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\"\n            />\n          </svg>\n          <a href=\"mailto:safeguarding@wiria.org\" className=\"transition-colors hover:text-red-600\">\n            safeguarding@wiria.org\n          </a>\n        </p>\n        <p className=\"flex items-center gap-2 text-gray-700\">\n          <svg\n            className=\"h-5 w-5 flex-shrink-0 text-red-600\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            viewBox=\"0 0 24 24\"\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z\"\n            />\n          </svg>\n          <a href=\"tel:+254700000000\" className=\"transition-colors hover:text-red-600\">\n            +254 700 000 000\n          </a>\n        </p>\n      </div>\n    </div>\n  );\n}\n","/**\n * Safeguarding Page\n * Report safeguarding concerns confidentially\n\n * - Softer hero gradient (not too red)\n * - Glassmorphism form card\n * - Staggered animations\n * - Collapsible sidebar on mobile\n */\n\nimport { motion } from 'framer-motion';\nimport { useState } from 'react';\nimport {\n  SafeguardingReportForm,\n  ReportStatusLookup,\n  NoticesBanner,\n  WhatHappensNext,\n  DirectContactCard,\n} from '@/features/safeguarding';\n\n// Stagger animation variants\nconst containerVariants = {\n  hidden: { opacity: 0 },\n  visible: {\n    opacity: 1,\n    transition: { staggerChildren: 0.15, delayChildren: 0.2 },\n  },\n};\n\nconst itemVariants = {\n  hidden: { opacity: 0, y: 30 },\n  visible: { opacity: 1, y: 0, transition: { duration: 0.5, ease: 'easeOut' } },\n};\n\n// Collapsible sidebar section component\nfunction CollapsibleSection({\n  title,\n  icon,\n  children,\n  defaultOpen = false,\n}: {\n  title: string;\n  icon: React.ReactNode;\n  children: React.ReactNode;\n  defaultOpen?: boolean;\n}) {\n  const [isOpen, setIsOpen] = useState(defaultOpen);\n\n  return (\n    <div className=\"lg:contents\">\n      {/* Mobile: Collapsible */}\n      <div className=\"overflow-hidden rounded-xl border border-gray-100 bg-white shadow-md lg:hidden\">\n        <button\n          onClick={() => setIsOpen(!isOpen)}\n          className=\"flex w-full items-center justify-between px-5 py-4 text-left\"\n        >\n          <span className=\"flex items-center gap-3 font-semibold text-wiria-blue-dark\">\n            {icon}\n            {title}\n          </span>\n          <motion.svg\n            animate={{ rotate: isOpen ? 180 : 0 }}\n            className=\"h-5 w-5 text-gray-400\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            viewBox=\"0 0 24 24\"\n          >\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n          </motion.svg>\n        </button>\n        <motion.div\n          initial={false}\n          animate={{ height: isOpen ? 'auto' : 0 }}\n          className=\"overflow-hidden\"\n        >\n          <div className=\"px-5 pb-5\">{children}</div>\n        </motion.div>\n      </div>\n\n      {/* Desktop: Always visible */}\n      <div className=\"hidden lg:block\">{children}</div>\n    </div>\n  );\n}\n\nfunction SafeguardingPage() {\n  return (\n    <main>\n      {/* Hero Section - Softer gradient (slate/gray-blue instead of pure red) */}\n      <section className=\"relative overflow-hidden bg-gradient-to-br from-slate-700 via-slate-800 to-slate-900 py-24\">\n        {/* Background Pattern */}\n        <div className=\"absolute inset-0 opacity-10\">\n          <svg className=\"h-full w-full\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"none\">\n            <pattern\n              id=\"shield-pattern\"\n              x=\"0\"\n              y=\"0\"\n              width=\"20\"\n              height=\"20\"\n              patternUnits=\"userSpaceOnUse\"\n            >\n              <path\n                d=\"M10 2 L18 6 L18 14 L10 20 L2 14 L2 6 Z\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                strokeWidth=\"0.5\"\n              />\n            </pattern>\n            <rect width=\"100%\" height=\"100%\" fill=\"url(#shield-pattern)\" />\n          </svg>\n        </div>\n\n        {/* Accent gradient blob */}\n        <div className=\"pointer-events-none absolute right-0 top-0 h-96 w-96 rounded-full bg-amber-500/10 blur-3xl\" />\n        <div className=\"pointer-events-none absolute bottom-0 left-0 h-64 w-64 rounded-full bg-blue-500/10 blur-3xl\" />\n\n        <div className=\"container relative z-10 mx-auto px-4 lg:px-6\">\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            className=\"mx-auto max-w-4xl text-center text-white\"\n          >\n            <motion.span\n              initial={{ opacity: 0, scale: 0.9 }}\n              animate={{ opacity: 1, scale: 1 }}\n              transition={{ delay: 0.2 }}\n              className=\"mb-6 inline-flex items-center gap-2 rounded-full border border-white/20 bg-white/10 px-4 py-1.5 text-sm font-medium text-white backdrop-blur-sm\"\n            >\n              <svg className=\"h-4 w-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={2}\n                  d=\"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z\"\n                />\n              </svg>\n              Confidential Reporting\n            </motion.span>\n            <motion.h1\n              initial={{ opacity: 0, y: 10 }}\n              animate={{ opacity: 1, y: 0 }}\n              transition={{ delay: 0.3 }}\n              className=\"mb-6 text-4xl font-bold md:text-5xl lg:text-6xl\"\n            >\n              Report a Safeguarding Concern\n            </motion.h1>\n            <motion.p\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              transition={{ delay: 0.4 }}\n              className=\"mx-auto max-w-2xl text-lg text-slate-300 md:text-xl\"\n            >\n              Your safety matters. Report concerns confidentially and we will investigate\n              promptly.\n            </motion.p>\n          </motion.div>\n        </div>\n\n        {/* Bottom Gradient Fade */}\n        <div className=\"absolute bottom-0 left-0 h-20 w-full bg-gradient-to-t from-gray-50 to-transparent\" />\n      </section>\n\n      {/* Important Notices */}\n      <NoticesBanner />\n\n      {/* Main Content */}\n      <section className=\"bg-gradient-to-b from-gray-50 to-white py-16\">\n        <div className=\"container mx-auto px-4 lg:px-6\">\n          <motion.div\n            variants={containerVariants}\n            initial=\"hidden\"\n            whileInView=\"visible\"\n            viewport={{ once: true, margin: '-50px' }}\n            className=\"grid gap-8 lg:grid-cols-3 lg:gap-12\"\n          >\n            {/* Report Form - 2 columns with Glassmorphism */}\n            <motion.div variants={itemVariants} className=\"lg:col-span-2\">\n              <div className=\"relative overflow-hidden rounded-2xl border border-gray-100/50 bg-white/80 p-6 shadow-xl backdrop-blur-sm md:p-8\">\n                {/* Decorative gradient blob */}\n                <div className=\"pointer-events-none absolute -right-20 -top-20 h-40 w-40 rounded-full bg-gradient-to-br from-slate-200/30 to-blue-200/30 blur-3xl\" />\n\n                <motion.h2\n                  initial={{ opacity: 0, y: -10 }}\n                  whileInView={{ opacity: 1, y: 0 }}\n                  viewport={{ once: true }}\n                  className=\"relative mb-2 text-2xl font-bold text-wiria-blue-dark md:text-3xl\"\n                >\n                  Submit a Report\n                </motion.h2>\n                <motion.div\n                  initial={{ scaleX: 0 }}\n                  whileInView={{ scaleX: 1 }}\n                  viewport={{ once: true }}\n                  transition={{ delay: 0.2, duration: 0.5 }}\n                  className=\"mb-6 h-1 w-20 origin-left rounded-full bg-gradient-to-r from-slate-600 to-slate-400\"\n                />\n                <p className=\"mb-8 text-gray-600\">\n                  Please provide as much detail as possible. All fields marked with * are\n                  required.\n                </p>\n\n                <SafeguardingReportForm />\n              </div>\n            </motion.div>\n\n            {/* Sidebar - Collapsible on Mobile */}\n            <motion.div variants={itemVariants} className=\"space-y-4 lg:space-y-6\">\n              <CollapsibleSection\n                title=\"Check Report Status\"\n                icon={\n                  <svg className=\"h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                      strokeWidth={2}\n                      d=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01\"\n                    />\n                  </svg>\n                }\n                defaultOpen={false}\n              >\n                <ReportStatusLookup />\n              </CollapsibleSection>\n\n              <CollapsibleSection\n                title=\"What Happens Next?\"\n                icon={\n                  <svg className=\"h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                      strokeWidth={2}\n                      d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n                    />\n                  </svg>\n                }\n                defaultOpen={false}\n              >\n                <WhatHappensNext />\n              </CollapsibleSection>\n\n              <CollapsibleSection\n                title=\"Direct Contact\"\n                icon={\n                  <svg className=\"h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                      strokeWidth={2}\n                      d=\"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z\"\n                    />\n                  </svg>\n                }\n                defaultOpen={false}\n              >\n                <DirectContactCard />\n              </CollapsibleSection>\n            </motion.div>\n          </motion.div>\n        </div>\n      </section>\n    </main>\n  );\n}\n\nexport default SafeguardingPage;\n"],"names":["safeguardingApi","data","evidenceFile","formData","key","value","response","API_ENDPOINTS","referenceNumber","email","apiClient","useSafeguardingReport","isSubmitting","setIsSubmitting","useState","isLookingUp","setIsLookingUp","submittedReference","setSubmittedReference","lookupResult","setLookupResult","lookupError","setLookupError","isBackendConnected","useBackendStatus","result","notificationService","apiError","emailJsService","error","safeguardingSchema","z.object","z.boolean","z.string","z.literal","useSafeguardingForm","currentStep","setCurrentStep","setEvidenceFile","showSuccess","setShowSuccess","submitReport","resetSubmission","form","useForm","zodResolver","handleSubmit","reset","watch","setValue","trigger","isAnonymous","onSubmit","handleFileChange","useCallback","e","clearFile","handleNextStep","fieldsToValidate","handlePrevStep","handleNewReport","val","REPORTER_RELATIONS","staggerItem","ReporterStep","setIsAnonymous","onNext","register","useFormContext","jsxs","motion","jsx","AnimatePresence","FormField","FormSelectField","Button","CONCERN_CATEGORIES","ConcernStep","onFileChange","onClearFile","onBack","category","cat","FormTextareaField","SuccessView","onReset","staggerContainer","SafeguardingReportForm","progressPercentage","submitAction","FormProvider","STATUS_CONFIG","ReportStatusLookup","setReferenceNumber","setEmail","lookupStatus","resetLookup","handleReset","formatDate","dateString","statusConfig","Fragment","NoticesBanner","WhatHappensNext","steps","step","index","DirectContactCard","containerVariants","itemVariants","CollapsibleSection","title","icon","children","defaultOpen","isOpen","setIsOpen","SafeguardingPage"],"mappings":"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"}