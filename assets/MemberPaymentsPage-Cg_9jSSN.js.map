{"version":3,"file":"MemberPaymentsPage-Cg_9jSSN.js","sources":["../../src/pages/MemberPaymentsPage.tsx"],"sourcesContent":["/**\n * Member Payments Page\n * Payment history for logged-in members\n */\n\nimport { useEffect } from 'react';\nimport { PortalLayout } from '@/features/membership/components/PortalLayout';\nimport { useMemberData } from '@/features/membership/hooks/useMemberData';\nimport { Card, CardBody, CardHeader } from '@/shared/components/ui/Card';\nimport { Spinner } from '@/shared/components/ui/Spinner';\n\nfunction MemberPaymentsPage() {\n    const { payments, isLoading, totalPayments, pendingPayments, fetchPayments } = useMemberData();\n\n    useEffect(() => {\n        fetchPayments();\n    }, [fetchPayments]);\n\n    const getStatusBadge = (status: string) => {\n        switch (status) {\n            case 'COMPLETED':\n                return 'bg-green-100 text-green-800';\n            case 'PENDING':\n                return 'bg-yellow-100 text-yellow-800';\n            case 'FAILED':\n                return 'bg-red-100 text-red-800';\n            default:\n                return 'bg-gray-100 text-gray-800';\n        }\n    };\n\n    if (isLoading && payments.length === 0) {\n        return (\n            <PortalLayout title=\"Payment History\">\n                <div className=\"flex items-center justify-center py-20\">\n                    <Spinner size=\"lg\" />\n                </div>\n            </PortalLayout>\n        );\n    }\n\n    return (\n        <PortalLayout title=\"Payment History\" subtitle=\"View all your payment transactions\">\n            <div className=\"max-w-5xl\">\n                {/* Summary Statistics */}\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8\">\n                    <Card>\n                        <CardBody>\n                            <p className=\"text-sm text-gray-500 mb-1\">Total Paid</p>\n                            <p className=\"text-2xl font-bold text-wiria-blue-dark\">\n                                KES {totalPayments.toLocaleString()}\n                            </p>\n                        </CardBody>\n                    </Card>\n                    <Card>\n                        <CardBody>\n                            <p className=\"text-sm text-gray-500 mb-1\">Total Transactions</p>\n                            <p className=\"text-2xl font-bold text-wiria-blue-dark\">{payments.length}</p>\n                        </CardBody>\n                    </Card>\n                    <Card>\n                        <CardBody>\n                            <p className=\"text-sm text-gray-500 mb-1\">Pending Payments</p>\n                            <p className=\"text-2xl font-bold text-yellow-600\">{pendingPayments}</p>\n                        </CardBody>\n                    </Card>\n                </div>\n\n                {/* Payments List */}\n                <Card>\n                    <CardHeader>\n                        <h2 className=\"text-xl font-bold text-wiria-blue-dark\">Transaction History</h2>\n                    </CardHeader>\n                    <CardBody>\n                        {payments.length === 0 ? (\n                            <div className=\"text-center py-12\">\n                                <div className=\"text-6xl mb-4\">üí≥</div>\n                                <p className=\"text-gray-500\">No payment records found</p>\n                            </div>\n                        ) : (\n                            <div className=\"space-y-4\">\n                                {payments.map((payment) => (\n                                    <div\n                                        key={payment.id}\n                                        className=\"p-4 bg-gray-50 rounded-xl hover:shadow-md transition-shadow\"\n                                    >\n                                        <div className=\"flex flex-col md:flex-row md:items-center md:justify-between gap-4\">\n                                            <div className=\"flex items-start gap-4\">\n                                                <div className=\"w-12 h-12 rounded-xl bg-wiria-blue-dark/10 flex items-center justify-center text-xl\">\n                                                    {payment.type === 'REGISTRATION' ? 'üìù' :\n                                                        payment.type === 'RENEWAL' ? 'üîÑ' : '‚ù§Ô∏è'}\n                                                </div>\n                                                <div>\n                                                    <p className=\"font-semibold text-gray-800 capitalize\">\n                                                        {payment.type.toLowerCase().replace('_', ' ')} Payment\n                                                    </p>\n                                                    <p className=\"text-sm text-gray-500\">\n                                                        {new Date(payment.createdAt).toLocaleDateString()} ‚Ä¢{' '}\n                                                        {payment.method === 'STK_PUSH' ? 'M-Pesa STK Push' : 'Manual'}\n                                                    </p>\n                                                    {payment.mpesaReceiptNumber && (\n                                                        <p className=\"text-xs text-gray-400\">\n                                                            Receipt: {payment.mpesaReceiptNumber}\n                                                        </p>\n                                                    )}\n                                                </div>\n                                            </div>\n                                            <div className=\"flex items-center gap-4\">\n                                                <span className={`px-3 py-1 rounded-full text-xs font-semibold uppercase ${getStatusBadge(payment.status)}`}>\n                                                    {payment.status}\n                                                </span>\n                                                <p className=\"text-xl font-bold text-wiria-blue-dark\">\n                                                    KES {payment.amount.toLocaleString()}\n                                                </p>\n                                            </div>\n                                        </div>\n                                    </div>\n                                ))}\n                            </div>\n                        )}\n                    </CardBody>\n                </Card>\n            </div>\n        </PortalLayout>\n    );\n}\n\nexport default MemberPaymentsPage;\n"],"names":["MemberPaymentsPage","payments","isLoading","totalPayments","pendingPayments","fetchPayments","useMemberData","useEffect","getStatusBadge","status","jsx","PortalLayout","Spinner","jsxs","Card","CardBody","CardHeader","payment"],"mappings":"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"}