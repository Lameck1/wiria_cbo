{"version":3,"file":"TenderManagementPage-LjPESYKP.js","sources":["../../src/features/admin/api/tenders.api.ts","../../src/features/admin/components/tenders/modals/TenderModal.tsx","../../src/pages/admin/TenderManagementPage.tsx"],"sourcesContent":["import { apiClient as client } from '@/shared/services/api/client';\n\nexport interface Tender {\n  id: string;\n  refNo: string;\n  title: string;\n  category: string;\n  deadline: string;\n  status: 'OPEN' | 'CLOSED' | 'AWARDED' | 'CANCELLED';\n  estimatedValue?: string;\n  submissionMethod: 'ONLINE' | 'PHYSICAL' | 'BOTH';\n  submissionEmail: string;\n  contactPerson: string;\n  contactPhone: string;\n  downloadUrl?: string;\n  description: string;\n  eligibility: string[];\n  requiredDocuments: string[];\n  createdAt: string;\n}\n\nexport interface CreateTenderPayload {\n  refNo: string;\n  title: string;\n  category: string;\n  deadline: string;\n  status: 'OPEN' | 'CLOSED' | 'AWARDED' | 'CANCELLED';\n  estimatedValue?: string;\n  submissionMethod: 'ONLINE' | 'PHYSICAL' | 'BOTH';\n  submissionEmail: string;\n  contactPerson: string;\n  contactPhone: string;\n  downloadUrl?: string;\n  description: string;\n  eligibility: string[];\n  requiredDocuments: string[];\n}\n\nexport const getTenders = async (\n  options: { status?: string; category?: string; all?: boolean } = {}\n) => {\n  const params = new URLSearchParams();\n  if (options.status) params.append('status', options.status);\n  if (options.category) params.append('category', options.category);\n  if (options.all) params.append('all', 'true');\n\n  const queryString = params.toString();\n  const url = `/tenders${queryString ? `?${queryString}` : ''}`;\n\n  return client.get<{ data: Tender[] }>(url);\n};\n\nexport const createTender = async (data: CreateTenderPayload) => {\n  return client.post<Tender>('/tenders', data);\n};\n\nexport const updateTender = async (id: string, data: Partial<CreateTenderPayload>) => {\n  return client.patch<Tender>(`/tenders/${id}`, data);\n};\n\nexport const deleteTender = async (id: string) => {\n  return client.delete(`/tenders/${id}`);\n};\n","import { useState } from 'react';\nimport { useQueryClient } from '@tanstack/react-query';\nimport { Tender, createTender, updateTender } from '@/features/admin/api/tenders.api';\nimport { uploadFile } from '@/features/admin/api/resources.api';\nimport { Button } from '@/shared/components/ui/Button';\nimport { notificationService } from '@/shared/services/notification/notificationService';\nimport { getErrorMessage } from '@/shared/utils/apiUtils';\nimport { Modal } from '@/shared/components/ui/Modal';\n\ninterface TenderModalProps {\n  tender: Tender | null;\n  onClose: () => void;\n  onSuccess: () => void;\n}\n\nexport function TenderModal({ tender, onClose, onSuccess }: TenderModalProps) {\n  const queryClient = useQueryClient();\n  const [eligibility, setEligibility] = useState<string[]>(\n    tender?.eligibility || ['Legal registration in Kenya', 'Tax compliance']\n  );\n  const [docs, setDocs] = useState<string[]>(\n    tender?.requiredDocuments || ['Certificate of Incorporation', 'KRA PIN/Tax Compliance']\n  );\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  const handleArrayChange = (\n    setter: React.Dispatch<React.SetStateAction<string[]>>,\n    index: number,\n    value: string\n  ) => {\n    setter((prev) => {\n      const newArr = [...prev];\n      newArr[index] = value;\n      return newArr;\n    });\n  };\n\n  const addArrayItem = (setter: React.Dispatch<React.SetStateAction<string[]>>) =>\n    setter((prev) => [...prev, '']);\n  const removeArrayItem = (setter: React.Dispatch<React.SetStateAction<string[]>>, index: number) =>\n    setter((prev) => prev.filter((_, i) => i !== index));\n\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    setIsSubmitting(true);\n    const form = e.currentTarget;\n    const formData = new FormData(form);\n    const rawData = Object.fromEntries(formData.entries());\n\n    const fileInput = form.querySelector('#tender-file-input') as HTMLInputElement;\n    let downloadUrl = (rawData['downloadUrl'] as string) || '';\n\n    try {\n      if (fileInput?.files?.length) {\n        notificationService.info('Uploading document...');\n        const file = fileInput.files[0];\n        if (file) {\n          const uploadRes = await uploadFile(file, 'tenders');\n          downloadUrl = uploadRes.data.url;\n        }\n      }\n\n      const data = {\n        title: rawData['title'] as string,\n        refNo: rawData['refNo'] as string,\n        category: rawData['category'] as string,\n        estimatedValue: rawData['estimatedValue'] as string,\n        deadline: new Date(rawData['deadline'] as string).toISOString(),\n        status: rawData['status'] as 'OPEN' | 'CLOSED' | 'AWARDED' | 'CANCELLED',\n        submissionMethod: rawData['submissionMethod'] as 'ONLINE' | 'PHYSICAL' | 'BOTH',\n        submissionEmail: rawData['submissionEmail'] as string,\n        contactPerson: rawData['contactPerson'] as string,\n        contactPhone: rawData['contactPhone'] as string,\n        description: rawData['description'] as string,\n        eligibility: eligibility.filter((i: string) => i.trim()),\n        requiredDocuments: docs.filter((i: string) => i.trim()),\n        downloadUrl,\n      };\n\n      if (tender) {\n        await updateTender(tender.id, data);\n        notificationService.success('Tender updated');\n      } else {\n        await createTender(data);\n        notificationService.success('Tender advertised');\n      }\n      queryClient.invalidateQueries({ queryKey: ['tenders'] });\n      onSuccess();\n    } catch (error: unknown) {\n      notificationService.error(getErrorMessage(error, 'Operation failed'));\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  return (\n    <Modal\n      isOpen={true}\n      onClose={onClose}\n      title={tender ? 'Edit Tender' : 'Advertise New Tender'}\n      size=\"3xl\"\n    >\n      <form onSubmit={handleSubmit} className=\"space-y-6\">\n        <div className=\"grid grid-cols-1 gap-6 md:grid-cols-2\">\n          <div className=\"space-y-4\">\n            <h4 className=\"border-b pb-1 font-bold text-wiria-blue-dark\">Basic Information</h4>\n            <div>\n              <label className=\"mb-1 block text-sm font-bold\" htmlFor=\"tender-title\">\n                Tender Title *\n              </label>\n              <input\n                id=\"tender-title\"\n                name=\"title\"\n                defaultValue={tender?.title}\n                className=\"w-full rounded-lg border p-2.5\"\n                required\n              />\n            </div>\n            <div className=\"grid grid-cols-2 gap-3\">\n              <div>\n                <label className=\"mb-1 block text-sm font-bold\" htmlFor=\"tender-refNo\">\n                  Reference No *\n                </label>\n                <input\n                  id=\"tender-refNo\"\n                  name=\"refNo\"\n                  defaultValue={tender?.refNo}\n                  className=\"w-full rounded-lg border p-2.5\"\n                  required\n                  placeholder=\"WIRIA/2025/...\"\n                />\n              </div>\n              <div>\n                <label className=\"mb-1 block text-sm font-bold\" htmlFor=\"tender-category\">\n                  Category *\n                </label>\n                <input\n                  id=\"tender-category\"\n                  name=\"category\"\n                  defaultValue={tender?.category}\n                  className=\"w-full rounded-lg border p-2.5\"\n                  required\n                />\n              </div>\n            </div>\n            <div className=\"grid grid-cols-2 gap-3\">\n              <div>\n                <label className=\"mb-1 block text-sm font-bold\" htmlFor=\"tender-deadline\">\n                  Deadline *\n                </label>\n                <input\n                  id=\"tender-deadline\"\n                  type=\"datetime-local\"\n                  name=\"deadline\"\n                  defaultValue={\n                    tender?.deadline ? new Date(tender.deadline).toISOString().slice(0, 16) : ''\n                  }\n                  className=\"w-full rounded-lg border p-2.5\"\n                  required\n                />\n              </div>\n              <div>\n                <label className=\"mb-1 block text-sm font-bold\" htmlFor=\"tender-estimatedValue\">\n                  Est. Value\n                </label>\n                <input\n                  id=\"tender-estimatedValue\"\n                  name=\"estimatedValue\"\n                  defaultValue={tender?.estimatedValue}\n                  className=\"w-full rounded-lg border p-2.5\"\n                />\n              </div>\n            </div>\n            <div>\n              <label className=\"mb-1 block text-sm font-bold\" htmlFor=\"tender-status\">\n                Status\n              </label>\n              <select\n                id=\"tender-status\"\n                name=\"status\"\n                defaultValue={tender?.status || 'OPEN'}\n                className=\"w-full rounded-lg border p-2.5\"\n              >\n                <option value=\"OPEN\">Open</option>\n                <option value=\"CLOSED\">Closed</option>\n                <option value=\"AWARDED\">Awarded</option>\n                <option value=\"CANCELLED\">Cancelled</option>\n              </select>\n            </div>\n          </div>\n\n          <div className=\"space-y-4\">\n            <h4 className=\"border-b pb-1 font-bold text-wiria-blue-dark\">Submission & Contact</h4>\n            <div>\n              <label className=\"mb-1 block text-sm font-bold\" htmlFor=\"tender-submissionMethod\">\n                Submission Method *\n              </label>\n              <select\n                id=\"tender-submissionMethod\"\n                name=\"submissionMethod\"\n                defaultValue={tender?.submissionMethod || 'ONLINE'}\n                className=\"w-full rounded-lg border p-2.5\"\n              >\n                <option value=\"ONLINE\">Online (Email)</option>\n                <option value=\"PHYSICAL\">Physical (Seal Box)</option>\n                <option value=\"BOTH\">Both</option>\n              </select>\n            </div>\n            <div>\n              <label className=\"mb-1 block text-sm font-bold\" htmlFor=\"tender-submissionEmail\">\n                Submission Email *\n              </label>\n              <input\n                id=\"tender-submissionEmail\"\n                type=\"email\"\n                name=\"submissionEmail\"\n                defaultValue={tender?.submissionEmail || 'tenders@wiria.org'}\n                className=\"w-full rounded-lg border p-2.5\"\n                required\n              />\n            </div>\n            <div className=\"grid grid-cols-2 gap-3\">\n              <div>\n                <label className=\"mb-1 block text-sm font-bold\" htmlFor=\"tender-contactPerson\">\n                  Contact Person *\n                </label>\n                <input\n                  id=\"tender-contactPerson\"\n                  name=\"contactPerson\"\n                  defaultValue={tender?.contactPerson}\n                  className=\"w-full rounded-lg border p-2.5\"\n                  required\n                />\n              </div>\n              <div>\n                <label className=\"mb-1 block text-sm font-bold\" htmlFor=\"tender-contactPhone\">\n                  Contact Phone *\n                </label>\n                <input\n                  id=\"tender-contactPhone\"\n                  name=\"contactPhone\"\n                  defaultValue={tender?.contactPhone}\n                  className=\"w-full rounded-lg border p-2.5\"\n                  required\n                />\n              </div>\n            </div>\n            <div>\n              <label className=\"mb-1 block text-sm font-bold\" htmlFor=\"tender-file-input\">\n                Tender Document (PDF)\n              </label>\n              <input\n                type=\"file\"\n                id=\"tender-file-input\"\n                className=\"w-full rounded-lg border p-2 text-sm\"\n                accept=\".pdf,.doc,.docx\"\n              />\n              <input type=\"hidden\" name=\"downloadUrl\" defaultValue={tender?.downloadUrl} />\n            </div>\n          </div>\n        </div>\n\n        <div className=\"grid grid-cols-1 gap-6 md:grid-cols-2\">\n          <div>\n            <label className=\"mb-2 block text-sm font-bold\">Eligibility Criteria</label>\n            {eligibility.map((item: string, i: number) => (\n              <div key={i} className=\"mb-2 flex gap-2\">\n                <input\n                  aria-label={`Eligibility criteria ${i + 1}`}\n                  value={item}\n                  onChange={(e) => handleArrayChange(setEligibility, i, e.target.value)}\n                  className=\"flex-1 rounded-lg border p-2 text-sm\"\n                  required\n                />\n                <button\n                  type=\"button\"\n                  onClick={() => removeArrayItem(setEligibility, i)}\n                  className=\"text-red-500\"\n                >\n                  ✕\n                </button>\n              </div>\n            ))}\n            <button\n              type=\"button\"\n              onClick={() => addArrayItem(setEligibility)}\n              className=\"text-xs font-bold text-blue-600\"\n            >\n              + Add Criteria\n            </button>\n          </div>\n          <div>\n            <label className=\"mb-2 block text-sm font-bold\">Required Documents</label>\n            {docs.map((item: string, i: number) => (\n              <div key={i} className=\"mb-2 flex gap-2\">\n                <input\n                  aria-label={`Required document ${i + 1}`}\n                  value={item}\n                  onChange={(e) => handleArrayChange(setDocs, i, e.target.value)}\n                  className=\"flex-1 rounded-lg border p-2 text-sm\"\n                  required\n                />\n                <button\n                  type=\"button\"\n                  onClick={() => removeArrayItem(setDocs, i)}\n                  className=\"text-red-500\"\n                >\n                  ✕\n                </button>\n              </div>\n            ))}\n            <button\n              type=\"button\"\n              onClick={() => addArrayItem(setDocs)}\n              className=\"text-xs font-bold text-blue-600\"\n            >\n              + Add Document\n            </button>\n          </div>\n        </div>\n\n        <div>\n          <label className=\"mb-1 block text-sm font-bold\" htmlFor=\"tender-description\">\n            Full Description *\n          </label>\n          <textarea\n            id=\"tender-description\"\n            name=\"description\"\n            defaultValue={tender?.description}\n            className=\"h-24 w-full rounded-lg border p-3 text-sm\"\n            required\n          />\n        </div>\n\n        <div className=\"flex gap-4 pt-4\">\n          <Button type=\"submit\" fullWidth disabled={isSubmitting}>\n            {isSubmitting ? 'Saving...' : tender ? 'Update Tender' : 'Advertise Tender'}\n          </Button>\n          <Button\n            type=\"button\"\n            variant=\"secondary\"\n            fullWidth\n            onClick={onClose}\n            disabled={isSubmitting}\n          >\n            Cancel\n          </Button>\n        </div>\n      </form>\n    </Modal>\n  );\n}\n","import { useState } from 'react';\nimport { useQueryClient } from '@tanstack/react-query';\nimport { Tender, getTenders, deleteTender } from '@/features/admin/api/tenders.api';\nimport { Button } from '@/shared/components/ui/Button';\nimport { DataTable, Column } from '@/shared/components/ui/DataTable';\nimport { useAdminData, useAdminAction } from '@/shared/hooks/useAdminData';\nimport { TenderModal } from '@/features/admin/components/tenders/modals/TenderModal';\n\nexport default function TenderManagementPage() {\n  const queryClient = useQueryClient();\n  const { items: tenders, isLoading } = useAdminData<Tender>(['tenders', { all: true }], () =>\n    getTenders({ all: true })\n  );\n  const deleteAction = useAdminAction((id: string) => deleteTender(id), [['tenders']], {\n    successMessage: 'Tender deleted successfully',\n    onSuccess: () => queryClient.invalidateQueries({ queryKey: ['tenders'] }),\n  });\n\n  const [editingTender, setEditingTender] = useState<Tender | null>(null);\n  const [showModal, setShowModal] = useState(false);\n\n  const handleDelete = (id: string) => {\n    if (confirm('Are you sure you want to delete this tender?')) deleteAction.mutate(id);\n  };\n\n  const columns: Column<Tender>[] = [\n    { header: 'Ref No', key: 'refNo', className: 'font-mono text-xs' },\n    { header: 'Title', key: 'title', className: 'font-semibold' },\n    {\n      header: 'Deadline',\n      key: 'deadline',\n      render: (t) => <span className=\"text-sm\">{new Date(t.deadline).toLocaleDateString()}</span>,\n    },\n    {\n      header: 'Document',\n      key: 'downloadUrl',\n      render: (t) =>\n        t.downloadUrl ? (\n          <span className=\"inline-flex items-center gap-1 rounded bg-green-100 px-2 py-0.5 text-[10px] font-bold uppercase text-green-700\">\n            ✓ Uploaded\n          </span>\n        ) : (\n          <span className=\"inline-flex items-center gap-1 rounded bg-yellow-100 px-2 py-0.5 text-[10px] font-bold uppercase text-yellow-700\">\n            ⚠ Missing\n          </span>\n        ),\n    },\n    {\n      header: 'Status',\n      key: 'status',\n      render: (t) => <TenderStatusBadge tender={t} />,\n    },\n    {\n      header: 'Actions',\n      key: 'actions',\n      align: 'right',\n      render: (t) => (\n        <div className=\"flex justify-end gap-3\">\n          <button\n            onClick={() => {\n              setEditingTender(t);\n              setShowModal(true);\n            }}\n            className=\"text-sm font-bold text-wiria-blue-dark hover:underline\"\n          >\n            Edit\n          </button>\n          <button\n            onClick={() => handleDelete(t.id)}\n            className=\"text-sm font-bold text-red-600 hover:underline\"\n          >\n            Delete\n          </button>\n        </div>\n      ),\n    },\n  ];\n\n  return (\n    <div className=\"space-y-8\">\n      <header className=\"flex items-center justify-between rounded-2xl border border-gray-100 bg-gray-50/50 p-6\">\n        <div>\n          <h1 className=\"text-3xl font-bold tracking-tight text-gray-900\">Tender Management</h1>\n          <p className=\"mt-1 font-medium text-gray-500\">\n            Advertise and manage organization procurement opportunities.\n          </p>\n        </div>\n        <Button\n          onClick={() => {\n            setEditingTender(null);\n            setShowModal(true);\n          }}\n        >\n          + Advertise New Tender\n        </Button>\n      </header>\n\n      <DataTable\n        columns={columns}\n        data={tenders}\n        rowKey=\"id\"\n        isLoading={isLoading}\n        emptyMessage=\"No tenders advertised yet.\"\n      />\n\n      {showModal && (\n        <TenderModal\n          tender={editingTender}\n          onClose={() => setShowModal(false)}\n          onSuccess={() => setShowModal(false)}\n        />\n      )}\n    </div>\n  );\n}\n\nfunction TenderStatusBadge({ tender }: { tender: Tender }) {\n  const isExpired = tender.status === 'OPEN' && new Date(tender.deadline) < new Date();\n  const status = isExpired ? 'EXPIRED' : tender.status;\n\n  const styles: Record<string, string> = {\n    OPEN: 'bg-green-100 text-green-700',\n    CLOSED: 'bg-red-100 text-red-700',\n    AWARDED: 'bg-blue-100 text-blue-700',\n    CANCELLED: 'bg-gray-100 text-gray-700',\n    EXPIRED: 'bg-yellow-100 text-yellow-700',\n  };\n  return (\n    <span\n      className={`rounded-full px-2 py-1 text-[10px] font-bold uppercase tracking-wider ${styles[status] || 'bg-gray-100'}`}\n    >\n      {status}\n    </span>\n  );\n}\n"],"names":["getTenders","options","params","queryString","url","client","createTender","data","updateTender","id","deleteTender","TenderModal","tender","onClose","onSuccess","queryClient","useQueryClient","eligibility","setEligibility","useState","docs","setDocs","isSubmitting","setIsSubmitting","handleArrayChange","setter","index","value","prev","newArr","addArrayItem","removeArrayItem","_","i","handleSubmit","e","form","formData","rawData","fileInput","downloadUrl","_a","notificationService","file","uploadFile","error","getErrorMessage","jsx","Modal","jsxs","item","Button","TenderManagementPage","tenders","isLoading","useAdminData","deleteAction","useAdminAction","editingTender","setEditingTender","showModal","setShowModal","handleDelete","columns","t","TenderStatusBadge","DataTable","status","styles"],"mappings":"+ZAsCO,MAAMA,EAAa,MACxBC,EAAiE,KAC9D,CACH,MAAMC,EAAS,IAAI,gBACfD,EAAQ,QAAQC,EAAO,OAAO,SAAUD,EAAQ,MAAM,EACtDA,EAAQ,UAAUC,EAAO,OAAO,WAAYD,EAAQ,QAAQ,EAC5DA,EAAQ,KAAKC,EAAO,OAAO,MAAO,MAAM,EAE5C,MAAMC,EAAcD,EAAO,SAAA,EACrBE,EAAM,WAAWD,EAAc,IAAIA,CAAW,GAAK,EAAE,GAE3D,OAAOE,EAAO,IAAwBD,CAAG,CAC3C,EAEaE,EAAe,MAAOC,GAC1BF,EAAO,KAAa,WAAYE,CAAI,EAGhCC,EAAe,MAAOC,EAAYF,IACtCF,EAAO,MAAc,YAAYI,CAAE,GAAIF,CAAI,EAGvCG,EAAe,MAAOD,GAC1BJ,EAAO,OAAO,YAAYI,CAAE,EAAE,EC9ChC,SAASE,EAAY,CAAE,OAAAC,EAAQ,QAAAC,EAAS,UAAAC,GAA+B,CAC5E,MAAMC,EAAcC,EAAA,EACd,CAACC,EAAaC,CAAc,EAAIC,EAAAA,UACpCP,GAAA,YAAAA,EAAQ,cAAe,CAAC,8BAA+B,gBAAgB,CAAA,EAEnE,CAACQ,EAAMC,CAAO,EAAIF,EAAAA,UACtBP,GAAA,YAAAA,EAAQ,oBAAqB,CAAC,+BAAgC,wBAAwB,CAAA,EAElF,CAACU,EAAcC,CAAe,EAAIJ,EAAAA,SAAS,EAAK,EAEhDK,EAAoB,CACxBC,EACAC,EACAC,IACG,CACHF,EAAQG,GAAS,CACf,MAAMC,EAAS,CAAC,GAAGD,CAAI,EACvB,OAAAC,EAAOH,CAAK,EAAIC,EACTE,CACT,CAAC,CACH,EAEMC,EAAgBL,GACpBA,EAAQG,GAAS,CAAC,GAAGA,EAAM,EAAE,CAAC,EAC1BG,EAAkB,CAACN,EAAwDC,IAC/ED,EAAQG,GAASA,EAAK,OAAO,CAACI,EAAGC,IAAMA,IAAMP,CAAK,CAAC,EAE/CQ,EAAe,MAAOC,GAAwC,OAClEA,EAAE,eAAA,EACFZ,EAAgB,EAAI,EACpB,MAAMa,EAAOD,EAAE,cACTE,EAAW,IAAI,SAASD,CAAI,EAC5BE,EAAU,OAAO,YAAYD,EAAS,SAAS,EAE/CE,EAAYH,EAAK,cAAc,oBAAoB,EACzD,IAAII,EAAeF,EAAQ,aAA6B,GAExD,GAAI,CACF,IAAIG,EAAAF,GAAA,YAAAA,EAAW,QAAX,MAAAE,EAAkB,OAAQ,CAC5BC,EAAoB,KAAK,uBAAuB,EAChD,MAAMC,EAAOJ,EAAU,MAAM,CAAC,EAC1BI,IAEFH,GADkB,MAAMI,EAAWD,EAAM,SAAS,GAC1B,KAAK,IAEjC,CAEA,MAAMpC,EAAO,CACX,MAAO+B,EAAQ,MACf,MAAOA,EAAQ,MACf,SAAUA,EAAQ,SAClB,eAAgBA,EAAQ,eACxB,SAAU,IAAI,KAAKA,EAAQ,QAAqB,EAAE,YAAA,EAClD,OAAQA,EAAQ,OAChB,iBAAkBA,EAAQ,iBAC1B,gBAAiBA,EAAQ,gBACzB,cAAeA,EAAQ,cACvB,aAAcA,EAAQ,aACtB,YAAaA,EAAQ,YACrB,YAAarB,EAAY,OAAQgB,GAAcA,EAAE,MAAM,EACvD,kBAAmBb,EAAK,OAAQa,GAAcA,EAAE,MAAM,EACtD,YAAAO,CAAA,EAGE5B,GACF,MAAMJ,EAAaI,EAAO,GAAIL,CAAI,EAClCmC,EAAoB,QAAQ,gBAAgB,IAE5C,MAAMpC,EAAaC,CAAI,EACvBmC,EAAoB,QAAQ,mBAAmB,GAEjD3B,EAAY,kBAAkB,CAAE,SAAU,CAAC,SAAS,EAAG,EACvDD,EAAA,CACF,OAAS+B,EAAgB,CACvBH,EAAoB,MAAMI,EAAgBD,EAAO,kBAAkB,CAAC,CACtE,QAAA,CACEtB,EAAgB,EAAK,CACvB,CACF,EAEA,OACEwB,EAAAA,IAACC,EAAA,CACC,OAAQ,GACR,QAAAnC,EACA,MAAOD,EAAS,cAAgB,uBAChC,KAAK,MAEL,SAAAqC,EAAAA,KAAC,OAAA,CAAK,SAAUf,EAAc,UAAU,YACtC,SAAA,CAAAe,EAAAA,KAAC,MAAA,CAAI,UAAU,wCACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAF,EAAAA,IAAC,KAAA,CAAG,UAAU,+CAA+C,SAAA,oBAAiB,SAC7E,MAAA,CACC,SAAA,CAAAA,MAAC,QAAA,CAAM,UAAU,+BAA+B,QAAQ,eAAe,SAAA,iBAEvE,EACAA,EAAAA,IAAC,QAAA,CACC,GAAG,eACH,KAAK,QACL,aAAcnC,GAAA,YAAAA,EAAQ,MACtB,UAAU,iCACV,SAAQ,EAAA,CAAA,CACV,EACF,EACAqC,EAAAA,KAAC,MAAA,CAAI,UAAU,yBACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAF,MAAC,QAAA,CAAM,UAAU,+BAA+B,QAAQ,eAAe,SAAA,iBAEvE,EACAA,EAAAA,IAAC,QAAA,CACC,GAAG,eACH,KAAK,QACL,aAAcnC,GAAA,YAAAA,EAAQ,MACtB,UAAU,iCACV,SAAQ,GACR,YAAY,gBAAA,CAAA,CACd,EACF,SACC,MAAA,CACC,SAAA,CAAAmC,MAAC,QAAA,CAAM,UAAU,+BAA+B,QAAQ,kBAAkB,SAAA,aAE1E,EACAA,EAAAA,IAAC,QAAA,CACC,GAAG,kBACH,KAAK,WACL,aAAcnC,GAAA,YAAAA,EAAQ,SACtB,UAAU,iCACV,SAAQ,EAAA,CAAA,CACV,CAAA,CACF,CAAA,EACF,EACAqC,EAAAA,KAAC,MAAA,CAAI,UAAU,yBACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAF,MAAC,QAAA,CAAM,UAAU,+BAA+B,QAAQ,kBAAkB,SAAA,aAE1E,EACAA,EAAAA,IAAC,QAAA,CACC,GAAG,kBACH,KAAK,iBACL,KAAK,WACL,aACEnC,GAAA,MAAAA,EAAQ,SAAW,IAAI,KAAKA,EAAO,QAAQ,EAAE,YAAA,EAAc,MAAM,EAAG,EAAE,EAAI,GAE5E,UAAU,iCACV,SAAQ,EAAA,CAAA,CACV,EACF,SACC,MAAA,CACC,SAAA,CAAAmC,MAAC,QAAA,CAAM,UAAU,+BAA+B,QAAQ,wBAAwB,SAAA,aAEhF,EACAA,EAAAA,IAAC,QAAA,CACC,GAAG,wBACH,KAAK,iBACL,aAAcnC,GAAA,YAAAA,EAAQ,eACtB,UAAU,gCAAA,CAAA,CACZ,CAAA,CACF,CAAA,EACF,SACC,MAAA,CACC,SAAA,CAAAmC,MAAC,QAAA,CAAM,UAAU,+BAA+B,QAAQ,gBAAgB,SAAA,SAExE,EACAE,EAAAA,KAAC,SAAA,CACC,GAAG,gBACH,KAAK,SACL,cAAcrC,GAAA,YAAAA,EAAQ,SAAU,OAChC,UAAU,iCAEV,SAAA,CAAAmC,EAAAA,IAAC,SAAA,CAAO,MAAM,OAAO,SAAA,OAAI,EACzBA,EAAAA,IAAC,SAAA,CAAO,MAAM,SAAS,SAAA,SAAM,EAC7BA,EAAAA,IAAC,SAAA,CAAO,MAAM,UAAU,SAAA,UAAO,EAC/BA,EAAAA,IAAC,SAAA,CAAO,MAAM,YAAY,SAAA,WAAA,CAAS,CAAA,CAAA,CAAA,CACrC,CAAA,CACF,CAAA,EACF,EAEAE,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAF,EAAAA,IAAC,KAAA,CAAG,UAAU,+CAA+C,SAAA,uBAAoB,SAChF,MAAA,CACC,SAAA,CAAAA,MAAC,QAAA,CAAM,UAAU,+BAA+B,QAAQ,0BAA0B,SAAA,sBAElF,EACAE,EAAAA,KAAC,SAAA,CACC,GAAG,0BACH,KAAK,mBACL,cAAcrC,GAAA,YAAAA,EAAQ,mBAAoB,SAC1C,UAAU,iCAEV,SAAA,CAAAmC,EAAAA,IAAC,SAAA,CAAO,MAAM,SAAS,SAAA,iBAAc,EACrCA,EAAAA,IAAC,SAAA,CAAO,MAAM,WAAW,SAAA,sBAAmB,EAC5CA,EAAAA,IAAC,SAAA,CAAO,MAAM,OAAO,SAAA,MAAA,CAAI,CAAA,CAAA,CAAA,CAC3B,EACF,SACC,MAAA,CACC,SAAA,CAAAA,MAAC,QAAA,CAAM,UAAU,+BAA+B,QAAQ,yBAAyB,SAAA,qBAEjF,EACAA,EAAAA,IAAC,QAAA,CACC,GAAG,yBACH,KAAK,QACL,KAAK,kBACL,cAAcnC,GAAA,YAAAA,EAAQ,kBAAmB,oBACzC,UAAU,iCACV,SAAQ,EAAA,CAAA,CACV,EACF,EACAqC,EAAAA,KAAC,MAAA,CAAI,UAAU,yBACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAF,MAAC,QAAA,CAAM,UAAU,+BAA+B,QAAQ,uBAAuB,SAAA,mBAE/E,EACAA,EAAAA,IAAC,QAAA,CACC,GAAG,uBACH,KAAK,gBACL,aAAcnC,GAAA,YAAAA,EAAQ,cACtB,UAAU,iCACV,SAAQ,EAAA,CAAA,CACV,EACF,SACC,MAAA,CACC,SAAA,CAAAmC,MAAC,QAAA,CAAM,UAAU,+BAA+B,QAAQ,sBAAsB,SAAA,kBAE9E,EACAA,EAAAA,IAAC,QAAA,CACC,GAAG,sBACH,KAAK,eACL,aAAcnC,GAAA,YAAAA,EAAQ,aACtB,UAAU,iCACV,SAAQ,EAAA,CAAA,CACV,CAAA,CACF,CAAA,EACF,SACC,MAAA,CACC,SAAA,CAAAmC,MAAC,QAAA,CAAM,UAAU,+BAA+B,QAAQ,oBAAoB,SAAA,wBAE5E,EACAA,EAAAA,IAAC,QAAA,CACC,KAAK,OACL,GAAG,oBACH,UAAU,uCACV,OAAO,iBAAA,CAAA,EAETA,MAAC,SAAM,KAAK,SAAS,KAAK,cAAc,aAAcnC,GAAA,YAAAA,EAAQ,WAAA,CAAa,CAAA,CAAA,CAC7E,CAAA,CAAA,CACF,CAAA,EACF,EAEAqC,EAAAA,KAAC,MAAA,CAAI,UAAU,wCACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAF,EAAAA,IAAC,QAAA,CAAM,UAAU,+BAA+B,SAAA,uBAAoB,EACnE9B,EAAY,IAAI,CAACiC,EAAcjB,IAC9BgB,OAAC,MAAA,CAAY,UAAU,kBACrB,SAAA,CAAAF,EAAAA,IAAC,QAAA,CACC,aAAY,wBAAwBd,EAAI,CAAC,GACzC,MAAOiB,EACP,SAAWf,GAAMX,EAAkBN,EAAgBe,EAAGE,EAAE,OAAO,KAAK,EACpE,UAAU,uCACV,SAAQ,EAAA,CAAA,EAEVY,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,QAAS,IAAMhB,EAAgBb,EAAgBe,CAAC,EAChD,UAAU,eACX,SAAA,GAAA,CAAA,CAED,CAAA,EAdQA,CAeV,CACD,EACDc,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,QAAS,IAAMjB,EAAaZ,CAAc,EAC1C,UAAU,kCACX,SAAA,gBAAA,CAAA,CAED,EACF,SACC,MAAA,CACC,SAAA,CAAA6B,EAAAA,IAAC,QAAA,CAAM,UAAU,+BAA+B,SAAA,qBAAkB,EACjE3B,EAAK,IAAI,CAAC8B,EAAcjB,IACvBgB,OAAC,MAAA,CAAY,UAAU,kBACrB,SAAA,CAAAF,EAAAA,IAAC,QAAA,CACC,aAAY,qBAAqBd,EAAI,CAAC,GACtC,MAAOiB,EACP,SAAWf,GAAMX,EAAkBH,EAASY,EAAGE,EAAE,OAAO,KAAK,EAC7D,UAAU,uCACV,SAAQ,EAAA,CAAA,EAEVY,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,QAAS,IAAMhB,EAAgBV,EAASY,CAAC,EACzC,UAAU,eACX,SAAA,GAAA,CAAA,CAED,CAAA,EAdQA,CAeV,CACD,EACDc,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,QAAS,IAAMjB,EAAaT,CAAO,EACnC,UAAU,kCACX,SAAA,gBAAA,CAAA,CAED,CAAA,CACF,CAAA,EACF,SAEC,MAAA,CACC,SAAA,CAAA0B,MAAC,QAAA,CAAM,UAAU,+BAA+B,QAAQ,qBAAqB,SAAA,qBAE7E,EACAA,EAAAA,IAAC,WAAA,CACC,GAAG,qBACH,KAAK,cACL,aAAcnC,GAAA,YAAAA,EAAQ,YACtB,UAAU,4CACV,SAAQ,EAAA,CAAA,CACV,EACF,EAEAqC,EAAAA,KAAC,MAAA,CAAI,UAAU,kBACb,SAAA,CAAAF,EAAAA,IAACI,EAAA,CAAO,KAAK,SAAS,UAAS,GAAC,SAAU7B,EACvC,SAAAA,EAAe,YAAcV,EAAS,gBAAkB,mBAC3D,EACAmC,EAAAA,IAACI,EAAA,CACC,KAAK,SACL,QAAQ,YACR,UAAS,GACT,QAAStC,EACT,SAAUS,EACX,SAAA,QAAA,CAAA,CAED,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAAA,CAGN,CCvVA,SAAwB8B,GAAuB,CAC7C,MAAMrC,EAAcC,EAAA,EACd,CAAE,MAAOqC,EAAS,UAAAC,CAAA,EAAcC,EAAqB,CAAC,UAAW,CAAE,IAAK,GAAM,EAAG,IACrFvD,EAAW,CAAE,IAAK,GAAM,CAAA,EAEpBwD,EAAeC,EAAgBhD,GAAeC,EAAaD,CAAE,EAAG,CAAC,CAAC,SAAS,CAAC,EAAG,CACnF,eAAgB,8BAChB,UAAW,IAAMM,EAAY,kBAAkB,CAAE,SAAU,CAAC,SAAS,CAAA,CAAG,CAAA,CACzE,EAEK,CAAC2C,EAAeC,CAAgB,EAAIxC,EAAAA,SAAwB,IAAI,EAChE,CAACyC,EAAWC,CAAY,EAAI1C,EAAAA,SAAS,EAAK,EAE1C2C,EAAgBrD,GAAe,CAC/B,QAAQ,8CAA8C,GAAG+C,EAAa,OAAO/C,CAAE,CACrF,EAEMsD,EAA4B,CAChC,CAAE,OAAQ,SAAU,IAAK,QAAS,UAAW,mBAAA,EAC7C,CAAE,OAAQ,QAAS,IAAK,QAAS,UAAW,eAAA,EAC5C,CACE,OAAQ,WACR,IAAK,WACL,OAASC,GAAMjB,EAAAA,IAAC,OAAA,CAAK,UAAU,UAAW,SAAA,IAAI,KAAKiB,EAAE,QAAQ,EAAE,oBAAmB,CAAE,CAAA,EAEtF,CACE,OAAQ,WACR,IAAK,cACL,OAASA,GACPA,EAAE,YACAjB,EAAAA,IAAC,OAAA,CAAK,UAAU,iHAAiH,sBAEjI,EAEAA,EAAAA,IAAC,OAAA,CAAK,UAAU,mHAAmH,SAAA,WAAA,CAEnI,CAAA,EAGN,CACE,OAAQ,SACR,IAAK,SACL,OAASiB,GAAMjB,EAAAA,IAACkB,EAAA,CAAkB,OAAQD,CAAA,CAAG,CAAA,EAE/C,CACE,OAAQ,UACR,IAAK,UACL,MAAO,QACP,OAASA,GACPf,EAAAA,KAAC,MAAA,CAAI,UAAU,yBACb,SAAA,CAAAF,EAAAA,IAAC,SAAA,CACC,QAAS,IAAM,CACbY,EAAiBK,CAAC,EAClBH,EAAa,EAAI,CACnB,EACA,UAAU,yDACX,SAAA,MAAA,CAAA,EAGDd,EAAAA,IAAC,SAAA,CACC,QAAS,IAAMe,EAAaE,EAAE,EAAE,EAChC,UAAU,iDACX,SAAA,QAAA,CAAA,CAED,CAAA,CACF,CAAA,CAEJ,EAGF,OACEf,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAA,EAAAA,KAAC,SAAA,CAAO,UAAU,yFAChB,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAF,EAAAA,IAAC,KAAA,CAAG,UAAU,kDAAkD,SAAA,oBAAiB,EACjFA,EAAAA,IAAC,IAAA,CAAE,UAAU,iCAAiC,SAAA,8DAAA,CAE9C,CAAA,EACF,EACAA,EAAAA,IAACI,EAAA,CACC,QAAS,IAAM,CACbQ,EAAiB,IAAI,EACrBE,EAAa,EAAI,CACnB,EACD,SAAA,wBAAA,CAAA,CAED,EACF,EAEAd,EAAAA,IAACmB,EAAA,CACC,QAAAH,EACA,KAAMV,EACN,OAAO,KACP,UAAAC,EACA,aAAa,4BAAA,CAAA,EAGdM,GACCb,EAAAA,IAACpC,EAAA,CACC,OAAQ+C,EACR,QAAS,IAAMG,EAAa,EAAK,EACjC,UAAW,IAAMA,EAAa,EAAK,CAAA,CAAA,CACrC,EAEJ,CAEJ,CAEA,SAASI,EAAkB,CAAE,OAAArD,GAA8B,CAEzD,MAAMuD,EADYvD,EAAO,SAAW,QAAU,IAAI,KAAKA,EAAO,QAAQ,EAAI,IAAI,KACnD,UAAYA,EAAO,OAExCwD,EAAiC,CACrC,KAAM,8BACN,OAAQ,0BACR,QAAS,4BACT,UAAW,4BACX,QAAS,+BAAA,EAEX,OACErB,EAAAA,IAAC,OAAA,CACC,UAAW,yEAAyEqB,EAAOD,CAAM,GAAK,aAAa,GAElH,SAAAA,CAAA,CAAA,CAGP"}