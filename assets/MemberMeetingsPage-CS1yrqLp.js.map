{"version":3,"file":"MemberMeetingsPage-CS1yrqLp.js","sources":["../../src/pages/MemberMeetingsPage.tsx"],"sourcesContent":["/**\n * Member Meetings Page\n * View and RSVP to meetings\n */\n\nimport { useEffect, useState } from 'react';\nimport { PortalLayout } from '@/features/membership/components/PortalLayout';\nimport { useMemberData, Meeting } from '@/features/membership/hooks/useMemberData';\nimport { Card, CardBody } from '@/shared/components/ui/Card';\nimport { Button } from '@/shared/components/ui/Button';\nimport { Spinner } from '@/shared/components/ui/Spinner';\nimport { notificationService } from '@/shared/services/notification/notificationService';\n\ntype Tab = 'my-meetings' | 'available-meetings';\n\nfunction MemberMeetingsPage() {\n    const {\n        meetings,\n        availableMeetings,\n        isLoading,\n        fetchMeetings,\n        fetchAvailableMeetings,\n        rsvpToMeeting,\n        cancelRsvp,\n    } = useMemberData();\n\n    const [activeTab, setActiveTab] = useState<Tab>('my-meetings');\n    const [loadingMeetingId, setLoadingMeetingId] = useState<string | null>(null);\n\n    useEffect(() => {\n        fetchMeetings();\n        fetchAvailableMeetings();\n    }, [fetchMeetings, fetchAvailableMeetings]);\n\n    const handleRsvp = async (meetingId: string) => {\n        setLoadingMeetingId(meetingId);\n        try {\n            await rsvpToMeeting(meetingId);\n            notificationService.success('Successfully RSVP\\'d to meeting!');\n        } catch {\n            notificationService.error('Failed to RSVP. Please try again.');\n        } finally {\n            setLoadingMeetingId(null);\n        }\n    };\n\n    const handleCancelRsvp = async (meetingId: string) => {\n        setLoadingMeetingId(meetingId);\n        try {\n            await cancelRsvp(meetingId);\n            notificationService.success('RSVP cancelled');\n        } catch {\n            notificationService.error('Failed to cancel RSVP. Please try again.');\n        } finally {\n            setLoadingMeetingId(null);\n        }\n    };\n\n    const MeetingCard = ({ meeting, showRsvpButton = true }: { meeting: Meeting; showRsvpButton?: boolean }) => (\n        <div className=\"bg-white rounded-xl shadow-md p-6 border border-gray-100 hover:shadow-lg transition-shadow\">\n            <div className=\"flex flex-col md:flex-row md:items-start md:justify-between gap-4\">\n                <div className=\"flex-1\">\n                    <div className=\"flex items-center gap-3 mb-2\">\n                        <span className={`text-xs font-bold uppercase px-2 py-1 rounded ${meeting.type === 'AGM' ? 'bg-purple-100 text-purple-800' :\n                                meeting.type === 'SPECIAL' ? 'bg-red-100 text-red-800' :\n                                    meeting.type === 'TRAINING' ? 'bg-green-100 text-green-800' :\n                                        'bg-blue-100 text-blue-800'\n                            }`}>\n                            {meeting.type}\n                        </span>\n                        <span className={`text-xs font-semibold px-2 py-1 rounded ${meeting.status === 'UPCOMING' ? 'bg-blue-50 text-blue-700' :\n                                meeting.status === 'ONGOING' ? 'bg-green-50 text-green-700' :\n                                    meeting.status === 'COMPLETED' ? 'bg-gray-50 text-gray-600' :\n                                        'bg-red-50 text-red-700'\n                            }`}>\n                            {meeting.status}\n                        </span>\n                    </div>\n                    <h3 className=\"text-lg font-bold text-wiria-blue-dark mb-2\">{meeting.title}</h3>\n                    {meeting.description && (\n                        <p className=\"text-sm text-gray-600 mb-3\">{meeting.description}</p>\n                    )}\n                    <div className=\"flex flex-wrap gap-4 text-sm text-gray-500\">\n                        <div className=\"flex items-center gap-1\">\n                            <span>üìÖ</span>\n                            <span>{new Date(meeting.date).toLocaleDateString()}</span>\n                        </div>\n                        <div className=\"flex items-center gap-1\">\n                            <span>‚è∞</span>\n                            <span>{meeting.time}</span>\n                        </div>\n                        <div className=\"flex items-center gap-1\">\n                            <span>üìç</span>\n                            <span>{meeting.location}</span>\n                        </div>\n                        {meeting.attendeesCount !== undefined && (\n                            <div className=\"flex items-center gap-1\">\n                                <span>üë•</span>\n                                <span>{meeting.attendeesCount} attending</span>\n                            </div>\n                        )}\n                    </div>\n                </div>\n                {showRsvpButton && meeting.status === 'UPCOMING' && (\n                    <div className=\"flex-shrink-0\">\n                        {meeting.isRsvpd ? (\n                            <Button\n                                variant=\"outline\"\n                                size=\"sm\"\n                                onClick={() => handleCancelRsvp(meeting.id)}\n                                isLoading={loadingMeetingId === meeting.id}\n                            >\n                                Cancel RSVP\n                            </Button>\n                        ) : (\n                            <Button\n                                variant=\"primary\"\n                                size=\"sm\"\n                                onClick={() => handleRsvp(meeting.id)}\n                                isLoading={loadingMeetingId === meeting.id}\n                            >\n                                RSVP Now\n                            </Button>\n                        )}\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n\n    const currentMeetings = activeTab === 'my-meetings' ? meetings : availableMeetings;\n\n    if (isLoading && meetings.length === 0) {\n        return (\n            <PortalLayout title=\"Meetings & Events\">\n                <div className=\"flex items-center justify-center py-20\">\n                    <Spinner size=\"lg\" />\n                </div>\n            </PortalLayout>\n        );\n    }\n\n    return (\n        <PortalLayout title=\"Meetings & Events\" subtitle=\"View upcoming events, RSVP, and manage your schedule\">\n            {/* Tabs */}\n            <Card className=\"rounded-b-none border-b-0 mb-0\">\n                <CardBody className=\"py-0 px-0\">\n                    <div className=\"flex border-b border-gray-200\">\n                        <button\n                            onClick={() => setActiveTab('my-meetings')}\n                            className={`pb-4 pt-4 px-6 border-b-2 font-bold text-sm transition-colors ${activeTab === 'my-meetings'\n                                    ? 'border-wiria-blue-dark text-wiria-blue-dark'\n                                    : 'border-transparent text-gray-500 hover:text-gray-700'\n                                }`}\n                        >\n                            My Meetings\n                            {meetings.length > 0 && (\n                                <span className={`ml-2 text-xs py-0.5 px-2 rounded-full ${activeTab === 'my-meetings'\n                                        ? 'bg-wiria-blue-dark text-white'\n                                        : 'bg-gray-200 text-gray-700'\n                                    }`}>\n                                    {meetings.length}\n                                </span>\n                            )}\n                        </button>\n                        <button\n                            onClick={() => setActiveTab('available-meetings')}\n                            className={`pb-4 pt-4 px-6 border-b-2 font-bold text-sm transition-colors ${activeTab === 'available-meetings'\n                                    ? 'border-wiria-blue-dark text-wiria-blue-dark'\n                                    : 'border-transparent text-gray-500 hover:text-gray-700'\n                                }`}\n                        >\n                            Available Meetings\n                            {availableMeetings.length > 0 && (\n                                <span className={`ml-2 text-xs py-0.5 px-2 rounded-full ${activeTab === 'available-meetings'\n                                        ? 'bg-wiria-blue-dark text-white'\n                                        : 'bg-gray-200 text-gray-700'\n                                    }`}>\n                                    {availableMeetings.length}\n                                </span>\n                            )}\n                        </button>\n                    </div>\n                </CardBody>\n            </Card>\n\n            {/* Content */}\n            <Card className=\"rounded-t-none border-t-0\">\n                <CardBody className=\"min-h-[400px]\">\n                    {currentMeetings.length === 0 ? (\n                        <div className=\"text-center py-12\">\n                            <div className=\"text-6xl mb-4\">üìÖ</div>\n                            <p className=\"text-gray-500\">\n                                {activeTab === 'my-meetings'\n                                    ? 'You haven\\'t RSVP\\'d to any meetings yet'\n                                    : 'No available meetings at this time'}\n                            </p>\n                        </div>\n                    ) : (\n                        <div className=\"space-y-4\">\n                            {currentMeetings.map((meeting) => (\n                                <MeetingCard\n                                    key={meeting.id}\n                                    meeting={meeting}\n                                    showRsvpButton={activeTab === 'available-meetings'}\n                                />\n                            ))}\n                        </div>\n                    )}\n                </CardBody>\n            </Card>\n        </PortalLayout>\n    );\n}\n\nexport default MemberMeetingsPage;\n"],"names":["MemberMeetingsPage","meetings","availableMeetings","isLoading","fetchMeetings","fetchAvailableMeetings","rsvpToMeeting","cancelRsvp","useMemberData","activeTab","setActiveTab","useState","loadingMeetingId","setLoadingMeetingId","useEffect","handleRsvp","meetingId","notificationService","handleCancelRsvp","MeetingCard","meeting","showRsvpButton","jsx","jsxs","Button","currentMeetings","PortalLayout","Spinner","Card","CardBody"],"mappings":"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"}