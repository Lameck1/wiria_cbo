import{j as e}from"./query-vendor-DD8i-cqI.js";import{m as i}from"./animation-vendor-DKvKsx_2.js";import{C as d,a as o}from"./Card-Ci_ke9Sm.js";import{r as x}from"./react-vendor-CPrm261X.js";function p({selected:s,onChange:r,disabled:l}){return e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-wiria-blue-dark mb-4",children:["Payment Method ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs(i.button,{type:"button",whileHover:{y:-2},whileTap:{scale:.98},onClick:()=>r("STK_PUSH"),disabled:l,className:`
                        relative p-5 rounded-2xl border-2 text-center transition-all duration-200
                        ${s==="STK_PUSH"?"border-wiria-yellow bg-wiria-yellow/5 shadow-lg shadow-wiria-yellow/10 ring-2 ring-wiria-yellow/20":"border-gray-100 bg-white hover:border-wiria-yellow/30 hover:bg-gray-50 shadow-sm"}
                        disabled:opacity-50 disabled:cursor-not-allowed
                    `,children:[e.jsx("div",{className:"text-4xl mb-3",children:"ðŸ“±"}),e.jsx("div",{className:"font-bold text-wiria-blue-dark",children:"M-Pesa STK Push"}),e.jsx("div",{className:"text-xs font-medium text-gray-500 mt-1",children:"Instant & Secure"}),s==="STK_PUSH"&&e.jsx(i.div,{layoutId:"activePayment",className:"absolute -top-2 -right-2 bg-wiria-yellow text-white w-6 h-6 rounded-full flex items-center justify-center text-xs shadow-md border-2 border-white",initial:{scale:0},animate:{scale:1},children:"âœ“"})]}),e.jsxs(i.button,{type:"button",whileHover:{y:-2},whileTap:{scale:.98},onClick:()=>r("MANUAL"),disabled:l,className:`
                        relative p-5 rounded-2xl border-2 text-center transition-all duration-200
                        ${s==="MANUAL"?"border-wiria-yellow bg-wiria-yellow/5 shadow-lg shadow-wiria-yellow/10 ring-2 ring-wiria-yellow/20":"border-gray-100 bg-white hover:border-wiria-yellow/30 hover:bg-gray-50 shadow-sm"}
                        disabled:opacity-50 disabled:cursor-not-allowed
                    `,children:[e.jsx("div",{className:"text-4xl mb-3",children:"ðŸ¦"}),e.jsx("div",{className:"font-bold text-wiria-blue-dark",children:"Manual Paybill"}),e.jsx("div",{className:"text-xs font-medium text-gray-500 mt-1",children:"Direct Bank/M-Pesa"}),s==="MANUAL"&&e.jsx(i.div,{layoutId:"activePayment",className:"absolute -top-2 -right-2 bg-wiria-yellow text-white w-6 h-6 rounded-full flex items-center justify-center text-xs shadow-md border-2 border-white",initial:{scale:0},animate:{scale:1},children:"âœ“"})]})]})]})}function j({paymentMethod:s,amount:r,submitLabel:l="Submit Donation",accountNumber:t="DONATION"}){return s==="STK_PUSH"?e.jsx(d,{className:"bg-blue-50 border-2 border-blue-200",children:e.jsxs(o,{children:[e.jsxs("h3",{className:"font-semibold text-wiria-blue-dark mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ“±"}),"M-Pesa STK Push Instructions"]}),e.jsxs("ol",{className:"space-y-2 text-sm text-gray-700",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-semibold text-wiria-blue-dark",children:"1."}),e.jsx("span",{children:"Enter your M-Pesa registered phone number"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-semibold text-wiria-blue-dark",children:"2."}),e.jsxs("span",{children:['Click "',l,'"']})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-semibold text-wiria-blue-dark",children:"3."}),e.jsx("span",{children:"Check your phone for an M-Pesa prompt"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-semibold text-wiria-blue-dark",children:"4."}),e.jsx("span",{children:"Enter your M-Pesa PIN to complete the payment"})]})]})]})}):e.jsx(d,{className:"bg-green-50 border-2 border-green-200",children:e.jsxs(o,{children:[e.jsxs("h3",{className:"font-semibold text-wiria-blue-dark mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ¦"}),"Manual Paybill Instructions"]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"bg-white rounded-lg p-3 border border-green-200",children:[e.jsx("p",{className:"text-gray-600 mb-2",children:"Pay via M-Pesa Paybill:"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Business Number:"}),e.jsx("p",{className:"font-bold text-lg text-wiria-blue-dark",children:"123456"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Account Number:"}),e.jsx("p",{className:"font-bold text-lg text-wiria-blue-dark",children:t})]})]})]}),e.jsxs("ol",{className:"space-y-2 text-gray-700",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-semibold text-wiria-blue-dark",children:"1."}),e.jsx("span",{children:"Go to M-Pesa menu on your phone"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-semibold text-wiria-blue-dark",children:"2."}),e.jsx("span",{children:'Select "Lipa na M-Pesa" then "Paybill"'})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-semibold text-wiria-blue-dark",children:"3."}),e.jsxs("span",{children:["Enter Business Number: ",e.jsx("strong",{children:"123456"})]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-semibold text-wiria-blue-dark",children:"4."}),e.jsxs("span",{children:["Enter Account Number: ",e.jsx("strong",{children:t})]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-semibold text-wiria-blue-dark",children:"5."}),e.jsxs("span",{children:["Enter Amount: ",e.jsxs("strong",{children:["KES ",r.toLocaleString()]})]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-semibold text-wiria-blue-dark",children:"6."}),e.jsx("span",{children:"Enter your M-Pesa PIN and confirm"})]})]}),e.jsx("p",{className:"text-xs text-gray-600 italic mt-3",children:"After payment, you'll receive an M-Pesa confirmation SMS. Your payment will be processed within 24 hours."})]})]})})}function w({donationId:s,isActive:r,onStatusCheck:l,interval:t=5e3}){const a=x.useRef(null);x.useEffect(()=>{if(!r||!s){a.current&&(clearInterval(a.current),a.current=null);return}const n=async()=>{const c=await l(s);(c==="COMPLETED"||c==="FAILED")&&a.current&&(clearInterval(a.current),a.current=null)};return n(),a.current=setInterval(n,t),()=>{a.current&&(clearInterval(a.current),a.current=null)}},[s,r,l,t])}export{p as P,j as a,w as u};
//# sourceMappingURL=usePaymentPoller-BTxnmJwI.js.map
