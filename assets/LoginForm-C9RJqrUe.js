import{j as e}from"./query-vendor-DD8i-cqI.js";import{r as m,u as L,L as h}from"./react-vendor-CPrm261X.js";import{B as j}from"./Button-19zhKMt2.js";import{I as f}from"./Input-CNiNPfIH.js";import{b as y,n as w,U as u,R as p,c as N}from"./index-BdV3nUoJ.js";function b(s=!1){const[g,o]=m.useState(!1),[l,c]=m.useState(null),{login:d}=y(),n=L();return{handleLogin:async t=>{o(!0),c(null);try{const r=await d(t,s);w.success("Login successful!");const a=r.role;a===u.MEMBER?n(p.MEMBER_PORTAL,{replace:!0}):[u.SUPER_ADMIN,u.ADMIN,u.STAFF].includes(a)?n(p.ADMIN,{replace:!0}):n(p.HOME,{replace:!0})}catch(r){const a=r instanceof N?r.message||"Invalid credentials":"Login failed. Please try again.";c(a),w.error(a)}finally{o(!1)}},isLoading:g,error:l}}function A({isMember:s=!1,title:g,subtitle:o}){const[l,c]=m.useState(""),[d,n]=m.useState(""),{handleLogin:x,isLoading:t,error:r}=b(s),a=async i=>{i.preventDefault(),await x({identifier:l,password:d})};return e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-wiria-blue-dark mb-2",children:g||(s?"Member Login":"Staff Login")}),o&&e.jsx("p",{className:"text-gray-600",children:o})]}),e.jsxs("form",{onSubmit:a,className:"space-y-6 bg-white p-8 rounded-lg shadow-lg",children:[e.jsx(f,{type:"text",id:"identifier",label:s?"Email or Phone":"Username or Email",value:l,onChange:i=>c(i.target.value),required:!0,placeholder:s?"your@email.com or 0712345678":"username",disabled:t}),e.jsx(f,{type:"password",id:"password",label:"Password",value:d,onChange:i=>n(i.target.value),required:!0,placeholder:"Enter your password",disabled:t}),r&&e.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-800",children:r})}),e.jsx(j,{type:"submit",fullWidth:!0,isLoading:t,children:t?"Logging in...":"Login"}),e.jsxs("div",{className:"text-center space-y-2 text-sm",children:[e.jsx(h,{to:"/reset-password",className:"block text-wiria-blue-dark hover:text-wiria-yellow transition-colors",children:"Forgot password?"}),s&&e.jsxs("p",{className:"text-gray-600",children:["Not a member?"," ",e.jsx(h,{to:"/membership",className:"text-wiria-yellow hover:underline",children:"Register here"})]})]})]})]})}export{A as L};
//# sourceMappingURL=LoginForm-C9RJqrUe.js.map
