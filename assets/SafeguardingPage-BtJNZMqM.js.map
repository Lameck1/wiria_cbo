{"version":3,"file":"SafeguardingPage-BtJNZMqM.js","sources":["../../src/features/safeguarding/validation.ts","../../src/features/safeguarding/api/safeguardingApi.ts","../../src/features/safeguarding/hooks/useSafeguardingReport.ts","../../src/features/safeguarding/hooks/useSafeguardingForm.ts","../../src/features/safeguarding/components/form/ConcernStep.tsx","../../src/features/safeguarding/components/form/ReporterStep.tsx","../../src/features/safeguarding/components/form/SuccessView.tsx","../../src/features/safeguarding/components/SafeguardingReportForm.tsx","../../src/features/safeguarding/components/ReportStatusLookup.tsx","../../src/features/safeguarding/components/NoticesBanner.tsx","../../src/features/safeguarding/components/WhatHappensNext.tsx","../../src/features/safeguarding/components/DirectContactCard.tsx","../../src/pages/SafeguardingPage.tsx"],"sourcesContent":["import { z } from 'zod';\n\nexport const safeguardingSchema = z\n  .object({\n    isAnonymous: z.boolean(),\n    reporterName: z.string().optional(),\n    reporterEmail: z.string().email('Invalid email').optional().or(z.literal('')),\n    reporterPhone: z.string().optional(),\n    reporterRelation: z.string().optional(),\n    category: z.string().min(1, 'Please select a category'),\n    incidentDate: z.string().optional(),\n    location: z.string().optional(),\n    personsInvolved: z.string().optional(),\n    description: z.string().min(20, 'Description must be at least 20 characters'),\n  })\n  .refine(\n    (data) => {\n      if (!data.isAnonymous) {\n        return !!data.reporterName && !!data.reporterEmail;\n      }\n      return true;\n    },\n    {\n      message: 'Name and email are required for non-anonymous reports',\n      path: ['reporterName'],\n    }\n  );\n\nexport type SafeguardingReportSchema = z.infer<typeof safeguardingSchema>;\n","import { apiClient } from '@/shared/services/api/client';\nimport { API_ENDPOINTS } from '@/shared/services/api/endpoints';\n\nimport type { SafeguardingReportData, ReportLookupResult } from '../hooks/useSafeguardingReport';\n\nexport const safeguardingApi = {\n  submit: async (\n    data: SafeguardingReportData,\n    evidenceFile?: File\n  ): Promise<{ data: { referenceNumber: string } }> => {\n    const formData = new FormData();\n\n    Object.entries(data).forEach(([key, value]) => {\n      if (value !== undefined && value !== '') {\n        formData.append(key, String(value));\n      }\n    });\n\n    if (evidenceFile) {\n      formData.append('evidence', evidenceFile);\n    }\n\n    const API_BASE_URL: string =\n      (import.meta.env['VITE_API_BASE_URL'] as string | undefined) ?? 'http://localhost:5001/api';\n    const response = await fetch(`${API_BASE_URL}${API_ENDPOINTS.SAFEGUARDING_SUBMIT}`, {\n      method: 'POST',\n      body: formData,\n    });\n\n    if (!response.ok) {\n      throw new Error('Failed to submit report');\n    }\n\n    return response.json() as Promise<{ data: { referenceNumber: string } }>;\n  },\n\n  lookup: async (referenceNumber: string, email?: string) => {\n    return apiClient.post<{ data: ReportLookupResult }>(API_ENDPOINTS.SAFEGUARDING_LOOKUP, {\n      referenceNumber,\n      email,\n    });\n  },\n};\n","import { useState } from 'react';\n\nimport { queryClient } from '@/app/config/queryClient';\nimport { ADMIN_KEYS } from '@/features/admin/hooks/useNotificationQueries';\nimport { emailJsService } from '@/shared/services/emailJsService';\nimport { logger } from '@/shared/services/logger';\nimport { notificationService } from '@/shared/services/notification/notificationService';\nimport { useBackendStatus } from '@/shared/services/useBackendStatus';\n\nimport { safeguardingApi } from '../api/safeguardingApi';\n\nexport interface SafeguardingReportData {\n  isAnonymous: boolean;\n  reporterName?: string;\n  reporterEmail?: string;\n  reporterPhone?: string;\n  reporterRelation?: string;\n  category: string;\n  incidentDate?: string;\n  location?: string;\n  personsInvolved?: string;\n  description: string;\n}\n\nexport interface ReportLookupResult {\n  referenceNumber: string;\n  status: string;\n  category: string;\n  createdAt: string;\n  updatedAt: string;\n}\n\nexport function useSafeguardingReport() {\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [isLookingUp, setIsLookingUp] = useState(false);\n  const [submittedReference, setSubmittedReference] = useState<string | null>(null);\n  const [lookupResult, setLookupResult] = useState<ReportLookupResult | null>(null);\n  const [lookupError, setLookupError] = useState<string | null>(null);\n  const { isBackendConnected } = useBackendStatus();\n\n  const submitReport = async (\n    data: SafeguardingReportData,\n    evidenceFile?: File\n  ): Promise<boolean> => {\n    setIsSubmitting(true);\n    setSubmittedReference(null);\n\n    try {\n      if (isBackendConnected) {\n        try {\n          const result = await safeguardingApi.submit(data, evidenceFile);\n          setSubmittedReference(result.data.referenceNumber);\n\n          notificationService.success(\n            'Report submitted successfully. Please save your reference number.'\n          );\n\n          void queryClient.invalidateQueries({ queryKey: ADMIN_KEYS.notifications });\n          void queryClient.invalidateQueries({ queryKey: ['safeguarding'] });\n          void queryClient.invalidateQueries({ queryKey: ['admin', 'dashboard'] });\n\n          return true;\n        } catch (apiError) {\n          logger.warn(\n            '[useSafeguardingReport] Primary API failed, attempting EmailJS fallback...',\n            apiError\n          );\n          const result = await emailJsService.sendSafeguardingReport(data);\n          if (result.status === 'SUCCESS') {\n            notificationService.success(\n              'Your report has been submitted directly to our safeguarding team via our offline channel.'\n            );\n            return true;\n          }\n          logger.error('[useSafeguardingReport] EmailJS fallback failed', result);\n          notificationService.error(\n            'Failed to submit report via our alternative channel. Please try again later.'\n          );\n          return false;\n        }\n      } else {\n        const result = await emailJsService.sendSafeguardingReport(data);\n        if (result.status === 'SUCCESS') {\n          notificationService.success(\n            'Your report has been submitted directly to our safeguarding team via our offline channel.'\n          );\n          return true;\n        }\n        logger.error('[useSafeguardingReport] EmailJS submission failed', result);\n        notificationService.error(\n          'Failed to submit report via our alternative channel. Please try again later.'\n        );\n        return false;\n      }\n    } catch (error) {\n      logger.error('[useSafeguardingReport] Report submission failed:', error);\n      notificationService.error(\n        'Failed to submit report. Please try again or contact us directly.'\n      );\n      return false;\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const lookupStatus = async (referenceNumber: string, email?: string): Promise<boolean> => {\n    setIsLookingUp(true);\n    setLookupResult(null);\n    setLookupError(null);\n\n    try {\n      const result = await safeguardingApi.lookup(referenceNumber, email);\n      setLookupResult(result.data);\n      return true;\n    } catch {\n      setLookupError('Report not found. Please check your reference number.');\n      return false;\n    } finally {\n      setIsLookingUp(false);\n    }\n  };\n\n  const resetSubmission = () => setSubmittedReference(null);\n  const resetLookup = () => {\n    setLookupResult(null);\n    setLookupError(null);\n  };\n\n  return {\n    submitReport,\n    lookupStatus,\n    isSubmitting,\n    isLookingUp,\n    submittedReference,\n    lookupResult,\n    lookupError,\n    resetSubmission,\n    resetLookup,\n  };\n}\n","import { useCallback, useState } from 'react';\n\nimport { zodResolver } from '@hookform/resolvers/zod';\nimport { useForm } from 'react-hook-form';\n\nimport { TIMING } from '@/shared/constants/config';\n\nimport { safeguardingSchema } from '../validation';\nimport { useSafeguardingReport } from './useSafeguardingReport';\n\nimport type { SafeguardingReportSchema } from '../validation';\n\nexport type FormStep = 'reporter' | 'details';\n\nexport function useSafeguardingForm() {\n  const [currentStep, setCurrentStep] = useState<FormStep>('reporter');\n  const [evidenceFile, setEvidenceFile] = useState<File | null>(null);\n  const [showSuccess, setShowSuccess] = useState(false);\n  const [lastSubmitTime, setLastSubmitTime] = useState(0);\n\n  const { submitReport, submittedReference, resetSubmission } = useSafeguardingReport();\n\n  const form = useForm<SafeguardingReportSchema>({\n    resolver: zodResolver(safeguardingSchema),\n    defaultValues: {\n      isAnonymous: false,\n      reporterName: '',\n      reporterEmail: '',\n      reporterPhone: '',\n      reporterRelation: '',\n      category: '',\n      incidentDate: '',\n      location: '',\n      personsInvolved: '',\n      description: '',\n    },\n    mode: 'onTouched',\n  });\n\n  const {\n    handleSubmit,\n    reset,\n    watch,\n    setValue,\n    trigger,\n    formState: { isSubmitting },\n  } = form;\n\n  const isAnonymous = watch('isAnonymous');\n\n  const onSubmit = async (data: SafeguardingReportSchema) => {\n    const now = Date.now();\n    if (now - lastSubmitTime < TIMING.SUBMIT_COOLDOWN) {\n      return;\n    }\n\n    setLastSubmitTime(now);\n    const success = await submitReport(data, evidenceFile ?? undefined);\n    if (success) {\n      setShowSuccess(true);\n    }\n  };\n\n  const handleFileChange = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    if (event.target.files?.[0]) {\n      setEvidenceFile(event.target.files[0]);\n    }\n  }, []);\n\n  const clearFile = useCallback(() => {\n    setEvidenceFile(null);\n  }, []);\n\n  const handleNextStep = async () => {\n    const fieldsToValidate: (keyof SafeguardingReportSchema)[] = isAnonymous\n      ? []\n      : ['reporterName', 'reporterEmail'];\n\n    if (fieldsToValidate.length > 0) {\n      const isValid = await trigger(fieldsToValidate);\n      if (!isValid) return;\n    }\n\n    setCurrentStep('details');\n  };\n\n  const handlePreviousStep = useCallback(() => {\n    setCurrentStep('reporter');\n  }, []);\n\n  const handleNewReport = useCallback(() => {\n    resetSubmission();\n    setShowSuccess(false);\n    reset();\n    setEvidenceFile(null);\n    setCurrentStep('reporter');\n  }, [resetSubmission, reset]);\n\n  return {\n    form,\n    currentStep,\n    isAnonymous,\n    evidenceFile,\n    showSuccess,\n    isSubmitting,\n    submittedReference,\n    handleFileChange,\n    clearFile,\n    handleNextStep,\n    handlePrevStep: handlePreviousStep,\n    submitAction: handleSubmit(onSubmit),\n    handleNewReport,\n    progressPercentage: currentStep === 'reporter' ? 50 : 100,\n    setIsAnonymous: (value: boolean) => setValue('isAnonymous', value),\n  };\n}\n","import { motion } from 'framer-motion';\nimport { useFormContext } from 'react-hook-form';\n\nimport { Button } from '@/shared/components/ui/Button';\nimport { FormField, FormTextareaField } from '@/shared/components/ui/form';\n\nconst CONCERN_CATEGORIES = [\n  { value: 'CHILD_PROTECTION', label: 'Child Protection', icon: 'üßí' },\n  { value: 'SEXUAL_EXPLOITATION', label: 'Sexual Exploitation', icon: '‚ö†Ô∏è' },\n  { value: 'HARASSMENT', label: 'Harassment', icon: 'üò∞' },\n  { value: 'DISCRIMINATION', label: 'Discrimination', icon: 'üö´' },\n  { value: 'FRAUD', label: 'Financial Misconduct', icon: 'üí∞' },\n  { value: 'OTHER', label: 'Other Concern', icon: 'üìã' },\n];\n\nconst staggerItem = {\n  hidden: { opacity: 0, y: 20 },\n  visible: { opacity: 1, y: 0, transition: { duration: 0.4 } },\n};\n\ninterface ConcernStepProps {\n  isSubmitting: boolean;\n  evidenceFile: File | null;\n  onFileChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\n  onClearFile: () => void;\n  onBack: () => void;\n}\n\nexport function ConcernStep({\n  isSubmitting,\n  evidenceFile,\n  onFileChange,\n  onClearFile,\n  onBack,\n}: ConcernStepProps) {\n  const { watch, setValue } = useFormContext();\n  const category = watch('category') as string;\n\n  return (\n    <div className=\"space-y-6\">\n      <motion.div variants={staggerItem}>\n        <span className=\"mb-1 block text-sm font-medium text-gray-700\">\n          Category of Concern <span className=\"text-red-500\">*</span>\n        </span>\n        <div className=\"mt-2 grid grid-cols-2 gap-2 md:grid-cols-3\">\n          {CONCERN_CATEGORIES.map((cat) => (\n            <button\n              key={cat.value}\n              type=\"button\"\n              onClick={() => setValue('category', cat.value, { shouldValidate: true })}\n              disabled={isSubmitting}\n              className={`rounded-xl border-2 p-3 text-left transition-all ${\n                category === cat.value\n                  ? 'border-slate-600 bg-slate-50 shadow-md'\n                  : 'border-gray-200 hover:border-gray-300 hover:bg-gray-50'\n              } disabled:opacity-50`}\n            >\n              <span className=\"text-xl\">{cat.icon}</span>\n              <span\n                className={`mt-1 block text-sm font-medium ${category === cat.value ? 'text-slate-700' : 'text-gray-600'}`}\n              >\n                {cat.label}\n              </span>\n            </button>\n          ))}\n        </div>\n      </motion.div>\n\n      <motion.div variants={staggerItem} className=\"grid gap-4 md:grid-cols-2\">\n        <FormField\n          label=\"When did this occur?\"\n          type=\"date\"\n          name=\"incidentDate\"\n          disabled={isSubmitting}\n        />\n        <FormField\n          label=\"Where did this happen?\"\n          name=\"location\"\n          disabled={isSubmitting}\n          placeholder=\"Location or area\"\n        />\n      </motion.div>\n\n      <motion.div variants={staggerItem}>\n        <FormTextareaField\n          label=\"Person(s) Involved\"\n          name=\"personsInvolved\"\n          rows={2}\n          disabled={isSubmitting}\n          placeholder=\"Names or descriptions of people involved\"\n        />\n      </motion.div>\n\n      <motion.div variants={staggerItem}>\n        <FormTextareaField\n          label=\"Description\"\n          name=\"description\"\n          rows={5}\n          required\n          disabled={isSubmitting}\n          placeholder=\"Please describe what happened in detail...\"\n          description=\"Minimum 20 characters required\"\n        />\n      </motion.div>\n\n      <motion.div variants={staggerItem}>\n        <label htmlFor=\"evidence-file\" className=\"mb-1 block text-sm font-medium text-gray-700\">\n          Supporting Evidence (Optional)\n        </label>\n        {evidenceFile ? (\n          <div className=\"flex items-center justify-between rounded-lg border border-green-200 bg-green-50 p-4\">\n            <div className=\"flex items-center gap-3\">\n              <svg\n                className=\"h-8 w-8 text-green-600\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                viewBox=\"0 0 24 24\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={2}\n                  d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n                />\n              </svg>\n              <div>\n                <p className=\"max-w-[200px] truncate font-medium text-green-800\">\n                  {evidenceFile.name}\n                </p>\n                <p className=\"text-sm text-green-600\">{(evidenceFile.size / 1024).toFixed(1)} KB</p>\n              </div>\n            </div>\n            <button\n              type=\"button\"\n              onClick={onClearFile}\n              className=\"rounded-full p-2 text-red-500 transition-colors hover:bg-red-100\"\n            >\n              &times;\n            </button>\n          </div>\n        ) : (\n          <div className=\"relative\">\n            <input\n              id=\"evidence-file\"\n              type=\"file\"\n              onChange={onFileChange}\n              disabled={isSubmitting}\n              className=\"absolute inset-0 h-full w-full cursor-pointer opacity-0\"\n              accept=\"image/*,.pdf,.doc,.docx\"\n            />\n            <div className=\"rounded-xl border-2 border-dashed border-gray-300 p-6 text-center transition-all hover:border-slate-400 hover:bg-gray-50\">\n              <p className=\"font-medium text-gray-600\">Click or drag file to upload</p>\n            </div>\n          </div>\n        )}\n      </motion.div>\n\n      <motion.div variants={staggerItem} className=\"flex gap-3 pt-4\">\n        <Button variant=\"secondary\" onClick={onBack} disabled={isSubmitting} className=\"flex-1\">\n          Back\n        </Button>\n        <Button\n          type=\"submit\"\n          disabled={isSubmitting || !category}\n          className=\"flex-[2] rounded-xl py-4 shadow-lg\"\n        >\n          {isSubmitting ? 'Submitting...' : 'Submit Report'}\n        </Button>\n      </motion.div>\n    </div>\n  );\n}\n","import { motion, AnimatePresence } from 'framer-motion';\nimport { useFormContext } from 'react-hook-form';\n\nimport { Button } from '@/shared/components/ui/Button';\nimport { FormField, FormSelectField } from '@/shared/components/ui/form';\n\nconst REPORTER_RELATIONS = [\n  { value: 'Witness', label: 'Witness' },\n  { value: 'Victim', label: 'Victim/Survivor' },\n  { value: 'Parent/Guardian', label: 'Parent/Guardian' },\n  { value: 'Staff', label: 'Staff Member' },\n  { value: 'Volunteer', label: 'Volunteer' },\n  { value: 'Community Member', label: 'Community Member' },\n  { value: 'Other', label: 'Other' },\n];\n\nconst staggerItem = {\n  hidden: { opacity: 0, y: 20 },\n  visible: { opacity: 1, y: 0, transition: { duration: 0.4 } },\n};\n\ninterface ReporterStepProps {\n  isAnonymous: boolean;\n  isSubmitting: boolean;\n  setIsAnonymous: (value: boolean) => void;\n  onNext: () => void;\n}\n\nexport function ReporterStep({\n  isAnonymous,\n  isSubmitting,\n  setIsAnonymous,\n  onNext,\n}: ReporterStepProps) {\n  const { register } = useFormContext();\n\n  return (\n    <div className=\"space-y-6\">\n      <motion.div\n        variants={staggerItem}\n        className=\"rounded-xl border border-gray-200 bg-gradient-to-br from-gray-50 to-gray-100 p-5\"\n      >\n        <label htmlFor=\"isAnonymous\" className=\"flex cursor-pointer items-start\">\n          <input\n            {...register('isAnonymous')}\n            id=\"isAnonymous\"\n            type=\"checkbox\"\n            onChange={(event) => setIsAnonymous(event.target.checked)}\n            className=\"mt-0.5 h-5 w-5 rounded border-gray-300 text-slate-600 focus:ring-slate-500\"\n          />\n          <span className=\"ml-3 flex-1\">\n            <span className=\"flex items-center gap-2 font-semibold text-gray-800\">\n              Report Anonymously\n              {isAnonymous && (\n                <motion.span\n                  initial={{ scale: 0 }}\n                  animate={{ scale: 1 }}\n                  className=\"inline-flex items-center gap-1 rounded-full bg-green-100 px-2 py-0.5 text-xs font-medium text-green-700\"\n                >\n                  Protected\n                </motion.span>\n              )}\n            </span>\n            <span className=\"mt-1 block text-sm text-gray-500\">\n              Your identity will not be recorded. However, we won't be able to contact you for\n              follow-up.\n            </span>\n          </span>\n        </label>\n\n        <AnimatePresence>\n          {isAnonymous && (\n            <motion.div\n              initial={{ opacity: 0, height: 0 }}\n              animate={{ opacity: 1, height: 'auto' }}\n              exit={{ opacity: 0, height: 0 }}\n              className=\"mt-4 rounded-lg border border-green-200 bg-green-50 p-3\"\n            >\n              <p className=\"flex items-center gap-2 text-sm text-green-700\">\n                <strong>Your identity is protected.</strong>\n              </p>\n            </motion.div>\n          )}\n        </AnimatePresence>\n      </motion.div>\n\n      {!isAnonymous && (\n        <motion.div\n          variants={staggerItem}\n          className=\"space-y-4 border-l-4 border-wiria-blue-dark pl-4\"\n        >\n          <h3 className=\"font-semibold text-wiria-blue-dark\">Your Information</h3>\n          <div className=\"grid gap-4 md:grid-cols-2\">\n            <FormField\n              label=\"Your Name\"\n              name=\"reporterName\"\n              disabled={isSubmitting}\n              placeholder=\"Enter your name\"\n              required\n            />\n            <FormField\n              label=\"Your Email\"\n              type=\"email\"\n              name=\"reporterEmail\"\n              disabled={isSubmitting}\n              placeholder=\"email@example.com\"\n              required\n            />\n          </div>\n          <div className=\"grid gap-4 md:grid-cols-2\">\n            <FormField\n              label=\"Phone (Optional)\"\n              type=\"tel\"\n              name=\"reporterPhone\"\n              disabled={isSubmitting}\n              placeholder=\"+254 7XX XXX XXX\"\n            />\n            <FormSelectField\n              label=\"Your Relation\"\n              name=\"reporterRelation\"\n              options={REPORTER_RELATIONS}\n              disabled={isSubmitting}\n            />\n          </div>\n        </motion.div>\n      )}\n\n      <motion.div variants={staggerItem}>\n        <Button\n          type=\"button\"\n          onClick={onNext}\n          fullWidth\n          className=\"flex items-center justify-center gap-2 rounded-xl py-4 shadow-lg\"\n        >\n          Continue to Concern Details\n        </Button>\n      </motion.div>\n    </div>\n  );\n}\n","import { motion } from 'framer-motion';\n\ninterface SuccessViewProps {\n  referenceNumber: string | null;\n  onReset: () => void;\n}\n\nexport function SuccessView({ referenceNumber, onReset }: SuccessViewProps) {\n  return (\n    <motion.div\n      initial={{ opacity: 0, scale: 0.9 }}\n      animate={{ opacity: 1, scale: 1 }}\n      className=\"py-12 text-center\"\n    >\n      <motion.div\n        initial={{ scale: 0 }}\n        animate={{ scale: 1 }}\n        transition={{ type: 'spring', stiffness: 200, delay: 0.2 }}\n        className=\"mx-auto mb-6 flex h-24 w-24 items-center justify-center rounded-full bg-gradient-to-br from-green-100 to-green-200 shadow-lg\"\n      >\n        <motion.svg\n          initial={{ pathLength: 0, opacity: 0 }}\n          animate={{ pathLength: 1, opacity: 1 }}\n          transition={{ duration: 0.5, delay: 0.4 }}\n          className=\"h-12 w-12 text-green-600\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n          viewBox=\"0 0 24 24\"\n        >\n          <motion.path\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            strokeWidth={3}\n            d=\"M5 13l4 4L19 7\"\n          />\n        </motion.svg>\n      </motion.div>\n      <motion.h3\n        initial={{ opacity: 0, y: 10 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ delay: 0.5 }}\n        className=\"mb-2 text-2xl font-bold text-gray-800\"\n      >\n        Report Submitted Successfully\n      </motion.h3>\n      <motion.p\n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1 }}\n        transition={{ delay: 0.6 }}\n        className=\"mb-6 text-gray-600\"\n      >\n        Thank you for bringing this to our attention.\n      </motion.p>\n      {referenceNumber && (\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ delay: 0.7 }}\n          className=\"inline-block rounded-xl bg-gradient-to-br from-gray-100 to-gray-50 p-6 shadow-inner\"\n        >\n          <p className=\"mb-1 text-sm text-gray-600\">Your Reference Number:</p>\n          <p className=\"text-3xl font-bold tracking-wider text-slate-700\">{referenceNumber}</p>\n        </motion.div>\n      )}\n      <motion.p\n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1 }}\n        transition={{ delay: 0.8 }}\n        className=\"mt-4 text-sm text-gray-500\"\n      >\n        Please save this reference number to check the status of your report.\n      </motion.p>\n      <motion.button\n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1 }}\n        transition={{ delay: 0.9 }}\n        onClick={onReset}\n        className=\"mt-6 inline-flex items-center gap-2 font-medium text-wiria-blue-dark transition-colors hover:text-wiria-yellow\"\n      >\n        <svg className=\"h-4 w-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\n        </svg>\n        Submit Another Report\n      </motion.button>\n    </motion.div>\n  );\n}\n","import { motion, AnimatePresence } from 'framer-motion';\nimport { FormProvider } from 'react-hook-form';\n\nimport { useSafeguardingForm } from '../hooks/useSafeguardingForm';\nimport { ConcernStep } from './form/ConcernStep';\nimport { ReporterStep } from './form/ReporterStep';\nimport { SuccessView } from './form/SuccessView';\n\nconst staggerContainer = {\n  hidden: { opacity: 0 },\n  visible: {\n    opacity: 1,\n    transition: { staggerChildren: 0.1, delayChildren: 0.1 },\n  },\n};\n\nexport function SafeguardingReportForm() {\n  const {\n    form,\n    currentStep,\n    isAnonymous,\n    evidenceFile,\n    showSuccess,\n    isSubmitting,\n    submittedReference,\n    progressPercentage,\n    setIsAnonymous,\n    handleFileChange,\n    clearFile,\n    handleNextStep,\n    handlePrevStep,\n    submitAction,\n    handleNewReport,\n  } = useSafeguardingForm();\n\n  if (showSuccess) {\n    return <SuccessView referenceNumber={submittedReference} onReset={handleNewReport} />;\n  }\n\n  return (\n    <FormProvider {...form}>\n      <form\n        id=\"safeguarding-form\"\n        className=\"space-y-6\"\n        onSubmit={(event) => {\n          void submitAction(event);\n        }}\n      >\n        {/* Progress Steps Indicator */}\n        <div className=\"mb-8\">\n          <div className=\"mb-2 flex items-center justify-between\">\n            <span\n              className={`text-sm font-medium ${currentStep === 'reporter' ? 'text-slate-700' : 'text-gray-400'}`}\n            >\n              1. Reporter Info\n            </span>\n            <span\n              className={`text-sm font-medium ${currentStep === 'details' ? 'text-slate-700' : 'text-gray-400'}`}\n            >\n              2. Concern Details\n            </span>\n          </div>\n          <div className=\"h-2 overflow-hidden rounded-full bg-gray-200\">\n            <motion.div\n              className=\"h-full rounded-full bg-gradient-to-r from-slate-600 to-slate-700\"\n              initial={{ width: '50%' }}\n              animate={{ width: `${progressPercentage}%` }}\n              transition={{ duration: 0.3 }}\n            />\n          </div>\n        </div>\n\n        <AnimatePresence mode=\"wait\">\n          <motion.div\n            key={currentStep}\n            variants={staggerContainer}\n            initial=\"hidden\"\n            animate=\"visible\"\n            exit={{ opacity: 0, x: currentStep === 'reporter' ? -20 : 20 }}\n          >\n            {currentStep === 'reporter' ? (\n              <ReporterStep\n                isAnonymous={isAnonymous}\n                isSubmitting={isSubmitting}\n                setIsAnonymous={setIsAnonymous}\n                onNext={() => {\n                  void handleNextStep();\n                }}\n              />\n            ) : (\n              <ConcernStep\n                isSubmitting={isSubmitting}\n                evidenceFile={evidenceFile}\n                onFileChange={handleFileChange}\n                onClearFile={clearFile}\n                onBack={handlePrevStep}\n              />\n            )}\n          </motion.div>\n        </AnimatePresence>\n      </form>\n    </FormProvider>\n  );\n}\n","/**\n * ReportStatusLookup Component\n\n */\n\nimport type { FormEvent } from 'react';\nimport { useState } from 'react';\n\nimport { AnimatePresence, motion } from 'framer-motion';\n\nimport { useSafeguardingReport, type ReportLookupResult } from '../hooks/useSafeguardingReport';\n\n// status configuration with icons\nconst STATUS_CONFIG: Record<string, { bg: string; text: string; icon: string; label: string }> = {\n  PENDING: {\n    bg: 'bg-amber-100',\n    text: 'text-amber-800',\n    icon: '‚è≥',\n    label: 'Pending Review',\n  },\n  UNDER_REVIEW: {\n    bg: 'bg-blue-100',\n    text: 'text-blue-800',\n    icon: 'üëÅÔ∏è',\n    label: 'Under Review',\n  },\n  INVESTIGATING: {\n    bg: 'bg-purple-100',\n    text: 'text-purple-800',\n    icon: 'üîç',\n    label: 'Investigating',\n  },\n  RESOLVED: {\n    bg: 'bg-green-100',\n    text: 'text-green-800',\n    icon: '‚úì',\n    label: 'Resolved',\n  },\n  CLOSED: {\n    bg: 'bg-gray-200',\n    text: 'text-gray-800',\n    icon: 'üîí',\n    label: 'Closed',\n  },\n};\n\nfunction formatDate(dateString: string): string {\n  return new Date(dateString).toLocaleDateString('en-GB', {\n    day: 'numeric',\n    month: 'short',\n    year: 'numeric',\n  });\n}\n\ninterface LookupFormProps {\n  referenceNumber: string;\n  email: string;\n  isLookingUp: boolean;\n  onReferenceChange: (value: string) => void;\n  onEmailChange: (value: string) => void;\n  onSubmit: (event: FormEvent) => void;\n}\n\nfunction LookupForm({\n  referenceNumber,\n  email,\n  isLookingUp,\n  onReferenceChange,\n  onEmailChange,\n  onSubmit,\n}: LookupFormProps) {\n  return (\n    <form onSubmit={(event) => void onSubmit(event)} className=\"space-y-4\">\n      <div>\n        <label htmlFor=\"lookupReference\" className=\"mb-1 block text-sm font-medium text-gray-700\">\n          Reference Number\n        </label>\n        <input\n          type=\"text\"\n          id=\"lookupReference\"\n          value={referenceNumber}\n          onChange={(event) => onReferenceChange(event.target.value)}\n          required\n          disabled={isLookingUp}\n          className=\"w-full rounded-lg border border-gray-300 px-4 py-3 transition-all focus:border-wiria-blue-dark focus:ring-2 focus:ring-wiria-blue-dark disabled:bg-gray-50\"\n          placeholder=\"SGR-2025-XXXXXX\"\n        />\n      </div>\n      <div>\n        <label htmlFor=\"lookupEmail\" className=\"mb-1 block text-sm font-medium text-gray-700\">\n          Email (if provided)\n        </label>\n        <input\n          type=\"email\"\n          id=\"lookupEmail\"\n          value={email}\n          onChange={(event) => onEmailChange(event.target.value)}\n          disabled={isLookingUp}\n          className=\"w-full rounded-lg border border-gray-300 px-4 py-3 transition-all focus:border-wiria-blue-dark focus:ring-2 focus:ring-wiria-blue-dark disabled:bg-gray-50\"\n          placeholder=\"Optional - for verification\"\n        />\n      </div>\n      <button\n        type=\"submit\"\n        disabled={isLookingUp || !referenceNumber}\n        className=\"flex w-full items-center justify-center gap-2 rounded-lg bg-wiria-blue-dark px-4 py-3 font-semibold text-white transition-all hover:bg-blue-900 disabled:cursor-not-allowed disabled:opacity-60\"\n      >\n        {isLookingUp ? (\n          <>\n            <motion.svg\n              animate={{ rotate: 360 }}\n              transition={{ duration: 1, repeat: Number.POSITIVE_INFINITY, ease: 'linear' }}\n              className=\"h-4 w-4\"\n              fill=\"none\"\n              viewBox=\"0 0 24 24\"\n            >\n              <circle\n                className=\"opacity-25\"\n                cx=\"12\"\n                cy=\"12\"\n                r=\"10\"\n                stroke=\"currentColor\"\n                strokeWidth=\"4\"\n              />\n              <path\n                className=\"opacity-75\"\n                fill=\"currentColor\"\n                d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z\"\n              />\n            </motion.svg>\n            Checking...\n          </>\n        ) : (\n          'Check Status'\n        )}\n      </button>\n    </form>\n  );\n}\n\ninterface StatusResultProps {\n  result: ReportLookupResult;\n  onReset: () => void;\n}\n\nfunction StatusResult({ result, onReset }: StatusResultProps) {\n  const statusConfig = STATUS_CONFIG[result.status] ?? {\n    bg: 'bg-gray-100',\n    text: 'text-gray-600',\n    icon: '‚ùì',\n    label: result.status || 'Unknown',\n  };\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 10, scale: 0.95 }}\n      animate={{ opacity: 1, y: 0, scale: 1 }}\n      exit={{ opacity: 0, scale: 0.95 }}\n      className=\"mt-4 rounded-xl bg-gradient-to-br from-gray-50 to-gray-100 p-4\"\n    >\n      <p className=\"mb-2 text-sm text-gray-600\">Status:</p>\n      <motion.div\n        initial={{ scale: 0.8 }}\n        animate={{ scale: 1 }}\n        transition={{ type: 'spring', stiffness: 300 }}\n        className={`inline-flex items-center gap-2 rounded-full px-4 py-2 ${statusConfig.bg} ${statusConfig.text} font-bold`}\n      >\n        <span className=\"text-lg\">{statusConfig.icon}</span>\n        <span>{statusConfig.label}</span>\n      </motion.div>\n      <div className=\"mt-3 space-y-1 border-t border-gray-200 pt-3 text-sm text-gray-500\">\n        <p className=\"flex items-center gap-2\">\n          <svg className=\"h-4 w-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M8 7V3m8 4V3m-9 4h10M5 11h14M5 15h14M5 19h14\"\n            />\n          </svg>\n          Submitted: {formatDate(result.createdAt)}\n        </p>\n        {result.updatedAt !== result.createdAt && (\n          <p className=\"flex items-center gap-2\">\n            <svg className=\"h-4 w-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\"\n              />\n            </svg>\n            Updated: {formatDate(result.updatedAt)}\n          </p>\n        )}\n      </div>\n      <button\n        onClick={onReset}\n        className=\"mt-4 flex items-center gap-1 text-sm font-medium text-wiria-blue-dark transition-colors hover:text-wiria-yellow\"\n      >\n        <svg className=\"h-4 w-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            strokeWidth={2}\n            d=\"M10 19l-7-7m0 0l7-7m-7 7h18\"\n          />\n        </svg>\n        Check Another Report\n      </button>\n    </motion.div>\n  );\n}\n\ninterface ErrorMessageProps {\n  message: string;\n  onReset: () => void;\n}\n\nfunction ErrorMessage({ message, onReset }: ErrorMessageProps) {\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 10 }}\n      animate={{ opacity: 1, y: 0 }}\n      exit={{ opacity: 0 }}\n      className=\"mt-4 rounded-xl border border-red-100 bg-red-50 p-4\"\n    >\n      <p className=\"flex items-center gap-2 text-sm text-red-600\">\n        <svg className=\"h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            strokeWidth={2}\n            d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n          />\n        </svg>\n        {message}\n      </p>\n      <button\n        onClick={onReset}\n        className=\"mt-2 text-sm font-medium text-red-700 hover:text-red-800\"\n      >\n        Try Again\n      </button>\n    </motion.div>\n  );\n}\n\nexport function ReportStatusLookup() {\n  const [referenceNumber, setReferenceNumber] = useState('');\n  const [email, setEmail] = useState('');\n\n  const { lookupStatus, isLookingUp, lookupResult, lookupError, resetLookup } =\n    useSafeguardingReport();\n\n  const handleSubmit = (event: FormEvent) => {\n    event.preventDefault();\n    void lookupStatus(referenceNumber, email || undefined);\n  };\n\n  const handleReset = () => {\n    resetLookup();\n    setReferenceNumber('');\n    setEmail('');\n  };\n\n  return (\n    <div className=\"rounded-2xl border border-gray-100 bg-white/80 p-6 shadow-lg backdrop-blur-sm\">\n      <h3 className=\"mb-4 flex items-center gap-2 text-xl font-bold text-wiria-blue-dark\">\n        <svg className=\"h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            strokeWidth={2}\n            d=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01\"\n          />\n        </svg>\n        Check Report Status\n      </h3>\n\n      <LookupForm\n        referenceNumber={referenceNumber}\n        email={email}\n        isLookingUp={isLookingUp}\n        onReferenceChange={setReferenceNumber}\n        onEmailChange={setEmail}\n        onSubmit={handleSubmit}\n      />\n\n      {/* Status Result with Badge */}\n      <AnimatePresence>\n        {lookupResult && <StatusResult result={lookupResult} onReset={handleReset} />}\n        {lookupError && <ErrorMessage message={lookupError} onReset={handleReset} />}\n      </AnimatePresence>\n    </div>\n  );\n}\n","/**\n * NoticesBanner Component\n * Emergency warning and confidentiality notice banners\n\n */\n\nimport { motion } from 'framer-motion';\n\nexport function NoticesBanner() {\n  return (\n    <section className=\"bg-gray-50 py-8\">\n      <div className=\"container mx-auto space-y-4 px-4 lg:px-6\">\n        {/* Emergency Warning - with pulsing glow */}\n        <motion.div\n          initial={{ opacity: 0, y: 10 }}\n          animate={{ opacity: 1, y: 0 }}\n          className=\"relative overflow-hidden rounded-lg border-l-4 border-amber-500 bg-gradient-to-r from-yellow-50 to-amber-50 p-6\"\n        >\n          {/* Pulsing glow effect */}\n          <motion.div\n            animate={{\n              opacity: [0.3, 0.6, 0.3],\n              scale: [1, 1.02, 1],\n            }}\n            transition={{\n              duration: 3,\n              repeat: Number.POSITIVE_INFINITY,\n              ease: 'easeInOut',\n            }}\n            className=\"pointer-events-none absolute inset-0 bg-gradient-to-r from-amber-200/30 to-yellow-200/30\"\n          />\n\n          <div className=\"relative z-10 flex items-start\">\n            <motion.div\n              animate={{ rotate: [0, 10, -10, 0] }}\n              transition={{ duration: 2, repeat: Number.POSITIVE_INFINITY, repeatDelay: 3 }}\n            >\n              <svg\n                className=\"mr-3 mt-1 h-6 w-6 flex-shrink-0 text-amber-600\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                viewBox=\"0 0 24 24\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={2}\n                  d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"\n                />\n              </svg>\n            </motion.div>\n            <div>\n              <h3 className=\"mb-1 font-bold text-amber-800\">Immediate Danger?</h3>\n              <p className=\"text-amber-700\">\n                If someone is in immediate danger, please contact local emergency services first\n                (Police: 999/112, or Child Helpline: 116).\n              </p>\n            </div>\n          </div>\n        </motion.div>\n\n        {/* Confidentiality Notice */}\n        <motion.div\n          initial={{ opacity: 0, y: 10 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ delay: 0.1 }}\n          className=\"rounded-lg border-l-4 border-slate-500 bg-gradient-to-r from-slate-50 to-slate-100 p-6\"\n        >\n          <div className=\"flex items-start\">\n            <svg\n              className=\"mr-3 mt-1 h-6 w-6 flex-shrink-0 text-slate-600\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              viewBox=\"0 0 24 24\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z\"\n              />\n            </svg>\n            <div>\n              <h3 className=\"mb-1 font-bold text-slate-800\">Confidentiality Notice</h3>\n              <p className=\"text-slate-600\">\n                All reports are treated with the utmost confidentiality. You can choose to report\n                anonymously. Only designated safeguarding officers have access to this information.\n              </p>\n            </div>\n          </div>\n        </motion.div>\n      </div>\n    </section>\n  );\n}\n","/**\n * WhatHappensNext Component\n * Explains the investigation process steps\n */\n\nexport function WhatHappensNext() {\n  const steps = [\n    'Your report is received and logged securely',\n    'A safeguarding officer reviews within 24-48 hours',\n    'Investigation is conducted as appropriate',\n    'Action is taken and you may be notified of outcome',\n  ];\n\n  return (\n    <div className=\"rounded-2xl bg-gradient-to-br from-gray-50 to-gray-100 p-6\">\n      <h3 className=\"mb-4 text-xl font-bold text-wiria-blue-dark\">What Happens Next?</h3>\n      <ol className=\"space-y-4\">\n        {steps.map((step, index) => (\n          <li key={index} className=\"flex items-start gap-3\">\n            <span className=\"flex h-6 w-6 flex-shrink-0 items-center justify-center rounded-full bg-red-600 text-sm font-bold text-white\">\n              {index + 1}\n            </span>\n            <span className=\"text-gray-700\">{step}</span>\n          </li>\n        ))}\n      </ol>\n    </div>\n  );\n}\n","/**\n * DirectContactCard Component\n * Contact information for the safeguarding team\n */\n\nexport function DirectContactCard() {\n  return (\n    <div className=\"rounded-2xl border border-red-100 bg-red-50 p-6\">\n      <h3 className=\"mb-4 text-xl font-bold text-red-800\">Prefer to Speak Directly?</h3>\n      <p className=\"mb-4 text-red-700\">You can contact our Safeguarding Team directly:</p>\n      <div className=\"space-y-3\">\n        <p className=\"flex items-center gap-2 text-gray-700\">\n          <svg\n            className=\"h-5 w-5 flex-shrink-0 text-red-600\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            viewBox=\"0 0 24 24\"\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\"\n            />\n          </svg>\n          <a href=\"mailto:safeguarding@wiria.org\" className=\"transition-colors hover:text-red-600\">\n            safeguarding@wiria.org\n          </a>\n        </p>\n        <p className=\"flex items-center gap-2 text-gray-700\">\n          <svg\n            className=\"h-5 w-5 flex-shrink-0 text-red-600\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            viewBox=\"0 0 24 24\"\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z\"\n            />\n          </svg>\n          <a href=\"tel:+254700000000\" className=\"transition-colors hover:text-red-600\">\n            +254 700 000 000\n          </a>\n        </p>\n      </div>\n    </div>\n  );\n}\n","/**\n * Safeguarding Page\n * Report safeguarding concerns confidentially\n\n * - Softer hero gradient (not too red)\n * - Glassmorphism form card\n * - Staggered animations\n * - Collapsible sidebar on mobile\n */\n\nimport { useState } from 'react';\n\nimport { motion } from 'framer-motion';\n\nimport {\n  SafeguardingReportForm,\n  ReportStatusLookup,\n  NoticesBanner,\n  WhatHappensNext,\n  DirectContactCard,\n} from '@/features/safeguarding';\nimport { SEO } from '@/shared/components/Seo';\n\n// Stagger animation variants\nconst containerVariants = {\n  hidden: { opacity: 0 },\n  visible: {\n    opacity: 1,\n    transition: { staggerChildren: 0.15, delayChildren: 0.2 },\n  },\n};\n\nconst itemVariants = {\n  hidden: { opacity: 0, y: 30 },\n  visible: { opacity: 1, y: 0, transition: { duration: 0.5, ease: 'easeOut' } },\n};\n\n// Collapsible sidebar section component\nfunction CollapsibleSection({\n  title,\n  icon,\n  children,\n  defaultOpen = false,\n}: {\n  title: string;\n  icon: React.ReactNode;\n  children: React.ReactNode;\n  defaultOpen?: boolean;\n}) {\n  const [isOpen, setIsOpen] = useState(defaultOpen);\n\n  return (\n    <div className=\"lg:contents\">\n      {/* Mobile: Collapsible */}\n      <div className=\"overflow-hidden rounded-xl border border-gray-100 bg-white shadow-md lg:hidden\">\n        <button\n          onClick={() => setIsOpen(!isOpen)}\n          className=\"flex w-full items-center justify-between px-5 py-4 text-left\"\n        >\n          <span className=\"flex items-center gap-3 font-semibold text-wiria-blue-dark\">\n            {icon}\n            {title}\n          </span>\n          <motion.svg\n            animate={{ rotate: isOpen ? 180 : 0 }}\n            className=\"h-5 w-5 text-gray-400\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            viewBox=\"0 0 24 24\"\n          >\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n          </motion.svg>\n        </button>\n        <motion.div\n          initial={false}\n          animate={{ height: isOpen ? 'auto' : 0 }}\n          className=\"overflow-hidden\"\n        >\n          <div className=\"px-5 pb-5\">{children}</div>\n        </motion.div>\n      </div>\n\n      {/* Desktop: Always visible */}\n      <div className=\"hidden lg:block\">{children}</div>\n    </div>\n  );\n}\n\nfunction HeroSection() {\n  return (\n    <section className=\"relative overflow-hidden bg-gradient-to-br from-slate-700 via-slate-800 to-slate-900 py-24\">\n      <div className=\"absolute inset-0 opacity-10\">\n        <svg className=\"h-full w-full\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"none\">\n          <pattern\n            id=\"shield-pattern\"\n            x=\"0\"\n            y=\"0\"\n            width=\"20\"\n            height=\"20\"\n            patternUnits=\"userSpaceOnUse\"\n          >\n            <path\n              d=\"M10 2 L18 6 L18 14 L10 20 L2 14 L2 6 Z\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              strokeWidth=\"0.5\"\n            />\n          </pattern>\n          <rect width=\"100%\" height=\"100%\" fill=\"url(#shield-pattern)\" />\n        </svg>\n      </div>\n      <div className=\"pointer-events-none absolute right-0 top-0 h-96 w-96 rounded-full bg-amber-500/10 blur-3xl\" />\n      <div className=\"pointer-events-none absolute bottom-0 left-0 h-64 w-64 rounded-full bg-blue-500/10 blur-3xl\" />\n      <div className=\"container relative z-10 mx-auto px-4 lg:px-6\">\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          className=\"mx-auto max-w-4xl text-center text-white\"\n        >\n          <motion.span\n            initial={{ opacity: 0, scale: 0.9 }}\n            animate={{ opacity: 1, scale: 1 }}\n            transition={{ delay: 0.2 }}\n            className=\"mb-6 inline-flex items-center gap-2 rounded-full border border-white/20 bg-white/10 px-4 py-1.5 text-sm font-medium text-white backdrop-blur-sm\"\n          >\n            <svg className=\"h-4 w-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z\"\n              />\n            </svg>\n            Confidential Reporting\n          </motion.span>\n          <motion.h1\n            initial={{ opacity: 0, y: 10 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ delay: 0.3 }}\n            className=\"mb-6 text-4xl font-bold md:text-5xl lg:text-6xl\"\n          >\n            Report a Safeguarding Concern\n          </motion.h1>\n          <motion.p\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            transition={{ delay: 0.4 }}\n            className=\"mx-auto max-w-2xl text-lg text-slate-300 md:text-xl\"\n          >\n            Your safety matters. Report concerns confidentially and we will investigate promptly.\n          </motion.p>\n        </motion.div>\n      </div>\n      <div className=\"absolute bottom-0 left-0 h-20 w-full bg-gradient-to-t from-gray-50 to-transparent\" />\n    </section>\n  );\n}\n\nfunction ReportFormCard() {\n  return (\n    <div className=\"relative overflow-hidden rounded-2xl border border-gray-100/50 bg-white/80 p-6 shadow-xl backdrop-blur-sm md:p-8\">\n      <div className=\"pointer-events-none absolute -right-20 -top-20 h-40 w-40 rounded-full bg-gradient-to-br from-slate-200/30 to-blue-200/30 blur-3xl\" />\n      <motion.h2\n        initial={{ opacity: 0, y: -10 }}\n        whileInView={{ opacity: 1, y: 0 }}\n        viewport={{ once: true }}\n        className=\"relative mb-2 text-2xl font-bold text-wiria-blue-dark md:text-3xl\"\n      >\n        Submit a Report\n      </motion.h2>\n      <motion.div\n        initial={{ scaleX: 0 }}\n        whileInView={{ scaleX: 1 }}\n        viewport={{ once: true }}\n        transition={{ delay: 0.2, duration: 0.5 }}\n        className=\"mb-6 h-1 w-20 origin-left rounded-full bg-gradient-to-r from-slate-600 to-slate-400\"\n      />\n      <p className=\"mb-8 text-gray-600\">\n        Please provide as much detail as possible. All fields marked with * are required.\n      </p>\n      <SafeguardingReportForm />\n    </div>\n  );\n}\n\nfunction SidebarContent() {\n  return (\n    <div className=\"space-y-4 lg:space-y-6\">\n      <CollapsibleSection\n        title=\"Check Report Status\"\n        icon={\n          <svg className=\"h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01\"\n            />\n          </svg>\n        }\n        defaultOpen={false}\n      >\n        <ReportStatusLookup />\n      </CollapsibleSection>\n      <CollapsibleSection\n        title=\"What Happens Next?\"\n        icon={\n          <svg className=\"h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n            />\n          </svg>\n        }\n        defaultOpen={false}\n      >\n        <WhatHappensNext />\n      </CollapsibleSection>\n      <CollapsibleSection\n        title=\"Direct Contact\"\n        icon={\n          <svg className=\"h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z\"\n            />\n          </svg>\n        }\n        defaultOpen={false}\n      >\n        <DirectContactCard />\n      </CollapsibleSection>\n    </div>\n  );\n}\n\nfunction SafeguardingPage() {\n  return (\n    <main>\n      <SEO\n        title=\"Safeguarding & Reporting\"\n        description=\"Confidential reporting of safeguarding concerns. WIRIA CBO is committed to safety and integrity.\"\n        keywords=\"Safeguarding, Reporting, Integrity, Safety, Confidential, WIRIA\"\n        breadcrumbs={[\n          { name: 'Home', item: '/' },\n          { name: 'Safeguarding', item: '/safeguarding' },\n        ]}\n      />\n      <HeroSection />\n\n      {/* Important Notices */}\n      <NoticesBanner />\n\n      {/* Main Content */}\n      <section className=\"bg-gradient-to-b from-gray-50 to-white py-16\">\n        <div className=\"container mx-auto px-4 lg:px-6\">\n          <motion.div\n            variants={containerVariants}\n            initial=\"hidden\"\n            whileInView=\"visible\"\n            viewport={{ once: true, margin: '-50px' }}\n            className=\"grid gap-8 lg:grid-cols-3 lg:gap-12\"\n          >\n            {/* Report Form - 2 columns with Glassmorphism */}\n            <motion.div variants={itemVariants} className=\"lg:col-span-2\">\n              <ReportFormCard />\n            </motion.div>\n\n            {/* Sidebar - Collapsible on Mobile */}\n            <motion.div variants={itemVariants} className=\"space-y-4 lg:space-y-6\">\n              <SidebarContent />\n            </motion.div>\n          </motion.div>\n        </div>\n      </section>\n    </main>\n  );\n}\n\nexport default SafeguardingPage;\n"],"names":["safeguardingSchema","z.object","z.boolean","z.string","z.literal","data","safeguardingApi","evidenceFile","formData","key","value","response","API_ENDPOINTS","referenceNumber","email","apiClient","useSafeguardingReport","isSubmitting","setIsSubmitting","useState","isLookingUp","setIsLookingUp","submittedReference","setSubmittedReference","lookupResult","setLookupResult","lookupError","setLookupError","isBackendConnected","useBackendStatus","result","notificationService","queryClient","ADMIN_KEYS","apiError","logger","emailJsService","error","useSafeguardingForm","currentStep","setCurrentStep","setEvidenceFile","showSuccess","setShowSuccess","lastSubmitTime","setLastSubmitTime","submitReport","resetSubmission","form","useForm","zodResolver","handleSubmit","reset","watch","setValue","trigger","isAnonymous","onSubmit","now","TIMING","handleFileChange","useCallback","event","clearFile","handleNextStep","fieldsToValidate","handlePreviousStep","handleNewReport","CONCERN_CATEGORIES","staggerItem","ConcernStep","onFileChange","onClearFile","onBack","useFormContext","category","jsxs","motion","jsx","cat","FormField","FormTextareaField","Button","REPORTER_RELATIONS","ReporterStep","setIsAnonymous","onNext","register","AnimatePresence","FormSelectField","SuccessView","onReset","staggerContainer","SafeguardingReportForm","progressPercentage","handlePrevStep","submitAction","FormProvider","STATUS_CONFIG","formatDate","dateString","LookupForm","onReferenceChange","onEmailChange","Fragment","StatusResult","statusConfig","ErrorMessage","message","ReportStatusLookup","setReferenceNumber","setEmail","lookupStatus","resetLookup","handleReset","NoticesBanner","WhatHappensNext","steps","step","index","DirectContactCard","containerVariants","itemVariants","CollapsibleSection","title","icon","children","defaultOpen","isOpen","setIsOpen","HeroSection","ReportFormCard","SidebarContent","SafeguardingPage","SEO"],"mappings":"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"}