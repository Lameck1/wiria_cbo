import{j as e}from"./query-vendor-DD8i-cqI.js";import{r as k,L as n}from"./react-vendor-CPrm261X.js";import{u as E,P as j}from"./useMemberData-DjTEarOo.js";import{C as a,a as i,b}from"./Card-BZuF4bMB.js";import{B as g}from"./Button-p2J5Y3QY.js";import{S}from"./Spinner-CaaBS1QI.js";import"./index-Bz0jqoVs.js";import"./animation-vendor-DKvKsx_2.js";function $(){var o,h;const{profile:s,payments:u,meetings:c,activity:x,isLoading:p,totalPayments:N,upcomingMeetings:y,daysUntilExpiry:d,isExpired:l,isExpiringSoon:r,fetchAll:m}=E();if(k.useEffect(()=>{m()},[m]),p&&!s)return e.jsx(j,{title:"Member Portal",subtitle:"Loading your dashboard...",children:e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsx(S,{size:"lg"})})});const w=l?"border-red-200 bg-red-50":r?"border-yellow-200 bg-yellow-50":"border-green-200 bg-green-50",f=l?"Expired":r?"Expiring Soon":(s==null?void 0:s.status)||"Active",v=l?"text-red-700":r?"text-yellow-700":"text-green-700";return e.jsxs(j,{title:"Welcome Back!",subtitle:"Here's what's happening with your membership",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx(a,{children:e.jsxs(i,{children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsxs("div",{className:"w-16 h-16 bg-wiria-blue-dark text-white rounded-full flex items-center justify-center font-bold text-2xl",children:[(o=s==null?void 0:s.firstName)==null?void 0:o[0],(h=s==null?void 0:s.lastName)==null?void 0:h[0]]}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold text-wiria-blue-dark",children:[s==null?void 0:s.firstName," ",s==null?void 0:s.lastName]}),e.jsx("p",{className:"text-sm text-gray-500",children:s==null?void 0:s.email})]})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Member ID:"}),e.jsx("span",{className:"font-semibold text-gray-800",children:(s==null?void 0:s.memberNumber)||"--"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-500",children:"Status:"}),e.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-bold uppercase ${v} ${w}`,children:f})]})]}),e.jsx(n,{to:"/member-profile",children:e.jsx(g,{className:"w-full mt-4",variant:"primary",children:"View Profile"})})]})}),e.jsx(a,{className:`bg-gradient-to-br from-wiria-blue-dark to-blue-900 text-white ${l?"ring-2 ring-red-500":""}`,children:e.jsxs(i,{children:[e.jsx("h3",{className:"text-lg font-bold mb-2",children:"Membership"}),e.jsx("p",{className:"text-blue-100 mb-4 text-sm",children:l?"Your membership has expired":d!==null?`Expires in ${d} days`:"Checking status..."}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[e.jsx("span",{children:"Joined"}),e.jsx("span",{children:s!=null&&s.joinedAt?new Date(s.joinedAt).toLocaleDateString():"--"})]})}),e.jsx(n,{to:"/member-renewal",children:e.jsx(g,{className:"w-full bg-wiria-yellow text-white font-bold shadow-lg hover:scale-105 transition-all",children:"Renew Membership"})})]})}),e.jsx(a,{children:e.jsxs(i,{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 text-sm mb-1",children:"Total Payments"}),e.jsxs("p",{className:"text-2xl font-bold text-wiria-blue-dark",children:["KES ",N.toLocaleString()]}),e.jsxs("p",{className:"text-xs text-gray-500",children:[u.length," transactions"]})]}),e.jsx("div",{className:"w-12 h-12 rounded-xl bg-green-100 text-green-600 flex items-center justify-center text-2xl",children:"ðŸ’³"})]})}),e.jsx(a,{children:e.jsxs(i,{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 text-sm mb-1",children:"Upcoming Meetings"}),e.jsx("p",{className:"text-2xl font-bold text-wiria-blue-dark",children:y}),e.jsx("p",{className:"text-xs text-gray-500",children:"This month"})]}),e.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-100 text-blue-600 flex items-center justify-center text-2xl",children:"ðŸ“…"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(a,{children:[e.jsx(b,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-xl font-bold text-wiria-blue-dark",children:"Upcoming Meetings"}),e.jsx(n,{to:"/member-meetings",className:"text-sm text-wiria-blue-dark hover:text-wiria-yellow",children:"View All â†’"})]})}),e.jsx(i,{children:e.jsx("div",{className:"space-y-3",children:c.length===0?e.jsx("p",{className:"text-gray-500 italic text-sm",children:"No upcoming meetings"}):c.slice(0,3).map(t=>e.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-800",children:t.title}),e.jsxs("p",{className:"text-xs text-gray-500",children:[new Date(t.date).toLocaleDateString()," at ",t.time]})]}),e.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:t.type})]})},t.id))})})]}),e.jsxs(a,{children:[e.jsx(b,{children:e.jsx("h3",{className:"text-xl font-bold text-wiria-blue-dark",children:"Recent Activity"})}),e.jsx(i,{children:e.jsx("div",{className:"space-y-3",children:x.length===0?e.jsx("p",{className:"text-gray-500 italic text-sm",children:"No recent activity"}):x.slice(0,5).map(t=>e.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[e.jsx("div",{className:"w-2 h-2 bg-wiria-blue-dark rounded-full mt-2"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-800",children:t.description}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(t.createdAt).toLocaleDateString()})]})]},t.id))})})]})]})]})}export{$ as default};
//# sourceMappingURL=MemberPortalPage-D1kdc9ha.js.map
