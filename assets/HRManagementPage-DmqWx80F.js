import{j as e}from"./query-vendor-DD8i-cqI.js";import{r as n,h as M}from"./react-vendor-CPrm261X.js";import{a as v,n as j}from"./index-C0i1O_L5.js";import{B as S}from"./Button-CwtQO0gO.js";import"./animation-vendor-DKvKsx_2.js";const B=async()=>v.get("/admin/careers"),_=async t=>v.post("/admin/careers",t),H=async(t,r)=>v.patch(`/admin/careers/${t}`,r),z=async t=>v.delete(`/admin/careers/${t}`),W=async()=>v.get("/admin/opportunities"),G=async t=>v.post("/admin/opportunities",t),K=async(t,r)=>v.patch(`/admin/opportunities/${t}`,r),Y=async t=>v.delete(`/admin/opportunities/${t}`),Q=async()=>v.get("/admin/applications"),X=async(t,r,d)=>v.patch(`/admin/applications/${t}/status`,{status:r,notes:d});function Z({application:t,onClose:r,onSuccess:d}){var g,u;const[x,m]=n.useState(t.status),[h,b]=n.useState(t.notes||""),[a,p]=n.useState(!1),y=async()=>{p(!0);try{await X(t.id,x,h),j.success("Application status updated"),d()}catch{j.error("Failed to update status")}finally{p(!1)}},N=l=>l?l.startsWith("http")?l:`${"http://localhost:5001/api".replace("/api","")}${l}`:"#";return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-3xl max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"p-8 pb-4 border-b flex justify-between items-center",children:[e.jsx("h3",{className:"text-2xl font-bold",children:"Application Review"}),e.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 text-3xl",children:"Ã—"})]}),e.jsx("div",{className:"p-8 pt-4 overflow-y-auto flex-1",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase",children:"Applicant"}),e.jsxs("p",{className:"text-lg font-semibold",children:[t.firstName," ",t.lastName]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase",children:"Current Status"}),e.jsx(ee,{status:t.status})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase",children:"Email"}),e.jsx("p",{className:"text-sm",children:t.email})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase",children:"Phone"}),e.jsx("p",{className:"text-sm",children:t.phone})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase",children:"Applied For"}),e.jsx("p",{className:"text-sm font-semibold",children:((g=t.career)==null?void 0:g.title)||((u=t.opportunity)==null?void 0:u.title)||"Unknown Position"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl max-h-60 overflow-y-auto border border-gray-100",children:[e.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase mb-2",children:"Cover Letter / Statement"}),e.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:t.coverLetter||"No cover letter provided."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl border border-blue-100",children:[e.jsx("p",{className:"text-xs font-bold text-blue-600 uppercase mb-2",children:"Resume / CV"}),t.resumeUrl?e.jsxs("a",{href:N(t.resumeUrl),target:"_blank",rel:"noreferrer",className:"inline-flex items-center text-wiria-blue-dark font-bold hover:underline",children:[e.jsx("span",{className:"mr-2",children:"ðŸ“„"})," View CV"]}):e.jsx("p",{className:"text-sm text-gray-500 italic",children:"No CV provided"})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-xl border border-green-100",children:[e.jsx("p",{className:"text-xs font-bold text-green-600 uppercase mb-2",children:"Additional Documents"}),t.additionalDocs&&t.additionalDocs.length>0?e.jsx("div",{className:"space-y-1",children:t.additionalDocs.map((l,s)=>e.jsxs("a",{href:N(l),target:"_blank",rel:"noreferrer",className:"block text-sm text-wiria-blue-dark font-semibold hover:underline",children:["ðŸ”— Document ",s+1]},s))}):e.jsx("p",{className:"text-sm text-gray-500 italic",children:"None"})]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase mb-2",children:"Reviewer Notes"}),e.jsx("textarea",{className:"w-full border rounded-lg p-3 text-sm h-24",placeholder:"Add private notes about this applicant...",value:h,onChange:l=>b(l.target.value)})]}),e.jsxs("div",{className:"flex gap-4 pt-4 border-t",children:[e.jsx("label",{htmlFor:"application-status",className:"sr-only",children:"Application status"}),e.jsxs("select",{id:"application-status",className:"flex-1 border rounded-lg p-2 font-semibold bg-white",value:x,onChange:l=>m(l.target.value),children:[e.jsx("option",{value:"PENDING",children:"Pending"}),e.jsx("option",{value:"UNDER_REVIEW",children:"Under Review"}),e.jsx("option",{value:"SHORTLISTED",children:"Shortlisted"}),e.jsx("option",{value:"INTERVIEWED",children:"Interviewed"}),e.jsx("option",{value:"ACCEPTED",children:"Accepted"}),e.jsx("option",{value:"REJECTED",children:"Rejected"})]}),e.jsx(S,{onClick:y,disabled:a,children:a?"Updating...":"Update Review"})]})]})})]})})}function ee({status:t}){const r={PENDING:"bg-yellow-100 text-yellow-700",UNDER_REVIEW:"bg-blue-100 text-blue-700",ACCEPTED:"bg-green-100 text-green-700",REJECTED:"bg-red-100 text-red-700",SHORTLISTED:"bg-purple-100 text-purple-700",INTERVIEWED:"bg-indigo-100 text-indigo-700"};return e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${r[t]||"bg-gray-100"}`,children:t})}const te=n.memo(function({careers:r,applications:d,onEdit:x,onDelete:m,onCreate:h}){const b=n.useMemo(()=>{const a={};return d.forEach(p=>{p.careerId&&(a[p.careerId]=(a[p.careerId]||0)+1)}),a},[d]);return e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50/50",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Active Job Postings"}),e.jsx(S,{onClick:h,size:"sm",children:"+ Post New Job"})]}),e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-gray-50 text-gray-500 text-xs uppercase font-bold",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4",children:"Title"}),e.jsx("th",{className:"px-6 py-4",children:"Type"}),e.jsx("th",{className:"px-6 py-4 text-center",children:"Applications"}),e.jsx("th",{className:"px-6 py-4",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-100",children:[r.map(a=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 font-semibold text-gray-900",children:a.title}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:e.jsx("span",{className:"bg-blue-50 text-blue-700 px-2 py-1 rounded text-xs font-bold",children:a.employmentType.replace("_"," ")})}),e.jsx("td",{className:"px-6 py-4 text-center",children:e.jsx("span",{className:"font-bold text-wiria-blue-dark",children:b[a.id]||0})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-[10px] font-bold ${a.status==="ACTIVE"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:a.status})}),e.jsxs("td",{className:"px-6 py-4 text-right",children:[e.jsx("button",{onClick:()=>x(a),className:"text-wiria-blue-dark hover:text-blue-800 font-bold text-sm mr-4 transition-colors",children:"Edit"}),e.jsx("button",{onClick:()=>m(a.id),className:"text-red-500 hover:text-red-700 font-bold text-sm transition-colors",children:"Delete"})]})]},a.id)),r.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-400 italic",children:"No job postings found."})})]})]})]})}),se=n.memo(function({opportunities:r,applications:d,onEdit:x,onDelete:m,onCreate:h}){const b=n.useMemo(()=>{const a={};return d.forEach(p=>{p.opportunityId&&(a[p.opportunityId]=(a[p.opportunityId]||0)+1)}),a},[d]);return e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50/50",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Active Opportunities"}),e.jsx(S,{onClick:h,size:"sm",children:"+ Add Opportunity"})]}),e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-gray-50 text-gray-500 text-xs uppercase font-bold",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4",children:"Title"}),e.jsx("th",{className:"px-6 py-4",children:"Type"}),e.jsx("th",{className:"px-6 py-4 text-center",children:"Applications"}),e.jsx("th",{className:"px-6 py-4",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-100",children:[r.map(a=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 font-semibold text-gray-900",children:a.title}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:e.jsx("span",{className:"bg-purple-50 text-purple-700 px-2 py-1 rounded text-xs font-bold",children:a.type.replace("_"," ")})}),e.jsx("td",{className:"px-6 py-4 text-center",children:e.jsx("span",{className:"font-bold text-wiria-blue-dark",children:b[a.id]||0})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-[10px] font-bold ${a.status==="ACTIVE"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:a.status})}),e.jsxs("td",{className:"px-6 py-4 text-right",children:[e.jsx("button",{onClick:()=>x(a),className:"text-wiria-blue-dark hover:text-blue-800 font-bold text-sm mr-4 transition-colors",children:"Edit"}),e.jsx("button",{onClick:()=>m(a.id),className:"text-red-500 hover:text-red-700 font-bold text-sm transition-colors",children:"Delete"})]})]},a.id)),r.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-400 italic",children:"No opportunities found."})})]})]})]})});function ae(t){return{PENDING:"bg-yellow-100 text-yellow-700",UNDER_REVIEW:"bg-blue-100 text-blue-700",ACCEPTED:"bg-green-100 text-green-700",REJECTED:"bg-red-100 text-red-700",SHORTLISTED:"bg-purple-100 text-purple-700",INTERVIEWED:"bg-indigo-100 text-indigo-700"}[t]||"bg-gray-100 text-gray-700"}function le({applications:t,onReview:r}){return t.length===0?e.jsx("div",{className:"p-12 text-center text-gray-400 italic",children:"No applications found in this category."}):e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-gray-50 text-gray-500 text-xs uppercase font-bold border-b border-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4",children:"Applicant"}),e.jsx("th",{className:"px-6 py-4",children:"Position"}),e.jsx("th",{className:"px-6 py-4",children:"Applied Date"}),e.jsx("th",{className:"px-6 py-4",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100 text-sm",children:t.map(d=>{var x,m;return e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsxs("td",{className:"px-6 py-4",children:[e.jsxs("div",{className:"font-bold text-gray-900",children:[d.firstName," ",d.lastName]}),e.jsx("div",{className:"text-xs text-gray-500",children:d.email})]}),e.jsx("td",{className:"px-6 py-4 font-medium text-gray-700",children:((x=d.career)==null?void 0:x.title)||((m=d.opportunity)==null?void 0:m.title)||"Unknown"}),e.jsx("td",{className:"px-6 py-4 text-gray-500",children:new Date(d.createdAt).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider ${ae(d.status)}`,children:d.status})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsx("button",{onClick:()=>r(d),className:"bg-wiria-blue-dark text-white px-4 py-1.5 rounded-lg text-xs font-bold hover:bg-blue-800 transition-all shadow-sm",children:"Review"})})]},d.id)})})]})}function me(){const[t,r]=M(),d=t.get("tab"),x=t.get("appId"),[m,h]=n.useState(()=>d==="opportunities"?"OPPORTUNITIES":d==="applications"?"APPLICATIONS":"JOBS"),[b,a]=n.useState("JOBS"),[p,y]=n.useState([]),[N,g]=n.useState([]),[u,l]=n.useState([]),[s,c]=n.useState(!0),[f,o]=n.useState(null),[D,F]=n.useState(null),[L,A]=n.useState(!1),[q,I]=n.useState(!1),[V,O]=n.useState(null),C=async()=>{c(!0);try{const[i,E,U]=await Promise.all([B(),W(),Q()]),k=P=>{if(Array.isArray(P))return P;const w=P;if(w!=null&&w.data&&Array.isArray(w.data))return w.data;const T=w==null?void 0:w.data;return T!=null&&T.data&&Array.isArray(T.data)?T.data:[]};y(k(i)),g(k(E)),l(k(U))}catch(i){console.error(i),j.error("Failed to load HR data")}finally{c(!1)}};n.useEffect(()=>{C()},[]),n.useEffect(()=>{if(x&&u.length>0&&!s){const i=u.find(E=>E.id===x);i&&(O(i),r({}))}},[x,u,s,r]);const R=i=>{h(i),r({tab:i.toLowerCase()})},$=async i=>{if(confirm("Delete this job posting?"))try{await z(i),j.success("Job posting deleted"),C()}catch{j.error("Failed to delete job posting")}},J=async i=>{if(confirm("Delete this opportunity?"))try{await Y(i),j.success("Opportunity deleted"),C()}catch{j.error("Failed to delete opportunity")}};return e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("span",{className:"text-3xl",children:"ðŸ§‘â€ðŸ’¼"}),e.jsx("h1",{className:"text-3xl font-bold text-wiria-blue-dark",children:"HR & Careers Management"})]}),e.jsx("p",{className:"text-gray-500",children:"Manage job postings, community opportunities, and applicant reviews in one place."})]}),e.jsxs("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-xl mb-8 w-fit",children:[e.jsx("button",{onClick:()=>R("JOBS"),className:`px-6 py-2.5 rounded-lg text-sm font-bold transition-all ${m==="JOBS"?"bg-white text-wiria-blue-dark shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"Job Openings"}),e.jsx("button",{onClick:()=>R("OPPORTUNITIES"),className:`px-6 py-2.5 rounded-lg text-sm font-bold transition-all ${m==="OPPORTUNITIES"?"bg-white text-wiria-blue-dark shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"Opportunities"}),e.jsxs("button",{onClick:()=>R("APPLICATIONS"),className:`px-6 py-2.5 rounded-lg text-sm font-bold transition-all ${m==="APPLICATIONS"?"bg-white text-wiria-blue-dark shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:["Applications",u.filter(i=>i.status==="PENDING").length>0&&e.jsx("span",{className:"ml-2 bg-red-500 text-white text-[10px] px-1.5 py-0.5 rounded-full",children:u.filter(i=>i.status==="PENDING").length})]})]}),s?e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-20 flex flex-col items-center justify-center",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-wiria-blue border-t-transparent rounded-full animate-spin mb-4"}),e.jsx("p",{className:"text-gray-500 font-medium",children:"Loading management portal..."})]}):e.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:[m==="JOBS"&&e.jsx(te,{careers:p,applications:u,onEdit:i=>{o(i),A(!0)},onDelete:$,onCreate:()=>{o(null),A(!0)}}),m==="OPPORTUNITIES"&&e.jsx(se,{opportunities:N,applications:u,onEdit:i=>{F(i),I(!0)},onDelete:J,onCreate:()=>{F(null),I(!0)}}),m==="APPLICATIONS"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex border-b border-gray-200 mb-6",children:[e.jsxs("button",{className:`px-6 py-3 text-sm font-bold border-b-2 transition-all ${b==="JOBS"?"border-wiria-blue-dark text-wiria-blue-dark":"border-transparent text-gray-400 hover:text-gray-600"}`,onClick:()=>a("JOBS"),children:["Job Applications (",u.filter(i=>i.careerId).length,")"]}),e.jsxs("button",{className:`px-6 py-3 text-sm font-bold border-b-2 transition-all ${b==="OPPS"?"border-wiria-blue-dark text-wiria-blue-dark":"border-transparent text-gray-400 hover:text-gray-600"}`,onClick:()=>a("OPPS"),children:["Opportunity Applications (",u.filter(i=>i.opportunityId).length,")"]})]}),e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:e.jsx(le,{applications:u.filter(i=>b==="JOBS"?i.careerId:i.opportunityId),onReview:O})})]})]}),L&&e.jsx(re,{career:f,onClose:()=>A(!1),onSuccess:()=>{A(!1),C()}}),q&&e.jsx(ie,{opportunity:D,onClose:()=>I(!1),onSuccess:()=>{I(!1),C()}}),V&&e.jsx(Z,{application:V,onClose:()=>O(null),onSuccess:()=>{O(null),C()}})]})}function re({career:t,onClose:r,onSuccess:d}){const[x,m]=n.useState((t==null?void 0:t.responsibilities)||["","",""]),[h,b]=n.useState((t==null?void 0:t.requirements)||["","",""]),[a,p]=n.useState((t==null?void 0:t.desirable)||[]),[y,N]=n.useState(!1),g=(l,s,c)=>{l(f=>{const o=[...f];return o[s]=c,o})},u=async l=>{l.preventDefault(),N(!0);const s=new FormData(l.currentTarget),c=Object.fromEntries(s.entries()),f={...c,deadline:new Date(c.deadline).toISOString(),responsibilities:x.filter(o=>o.trim()),requirements:h.filter(o=>o.trim()),desirable:a.filter(o=>o.trim())};try{t?await H(t.id,f):await _(f),j.success(t?"Updated":"Created"),d()}catch(o){const D=o instanceof Error?o.message:"Error";j.error(D)}finally{N(!1)}};return e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[60] p-4",children:e.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-5xl max-h-[90vh] flex flex-col overflow-hidden animate-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"p-8 border-b flex justify-between items-center",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:t?"Edit Job Posting":"Post New Job"}),e.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 text-4xl leading-none",children:"Ã—"})]}),e.jsx("div",{className:"p-8 overflow-y-auto flex-1 bg-gray-50/30",children:e.jsxs("form",{onSubmit:u,className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-bold text-gray-700",htmlFor:"career-title",children:"Job Title *"}),e.jsx("input",{id:"career-title",name:"title",defaultValue:t==null?void 0:t.title,className:"w-full border-gray-200 rounded-xl p-3 focus:ring-2 focus:ring-wiria-blue-dark transition-all",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-bold text-gray-700",htmlFor:"career-employmentType",children:"Employment Type *"}),e.jsxs("select",{id:"career-employmentType",name:"employmentType",defaultValue:t==null?void 0:t.employmentType,className:"w-full border-gray-200 rounded-xl p-3",required:!0,children:[e.jsx("option",{value:"FULL_TIME",children:"Full Time"}),e.jsx("option",{value:"PART_TIME",children:"Part Time"}),e.jsx("option",{value:"CONTRACT",children:"Contract"}),e.jsx("option",{value:"CONSULTANCY",children:"Consultancy"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-bold text-gray-700",htmlFor:"career-location",children:"Location *"}),e.jsx("input",{id:"career-location",name:"location",defaultValue:t==null?void 0:t.location,className:"w-full border-gray-200 rounded-xl p-3",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-bold text-gray-700",htmlFor:"career-deadline",children:"Deadline *"}),e.jsx("input",{id:"career-deadline",type:"datetime-local",name:"deadline",defaultValue:t!=null&&t.deadline?new Date(t.deadline).toISOString().slice(0,16):"",className:"w-full border-gray-200 rounded-xl p-3",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-bold text-gray-700",htmlFor:"career-salary",children:"Salary Range"}),e.jsx("input",{id:"career-salary",name:"salary",defaultValue:t==null?void 0:t.salary,className:"w-full border-gray-200 rounded-xl p-3",placeholder:"e.g. KES 50k-80k"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-bold text-gray-700",htmlFor:"career-summary",children:"Summary (Short) *"}),e.jsx("textarea",{id:"career-summary",name:"summary",defaultValue:t==null?void 0:t.summary,className:"w-full border-gray-200 rounded-xl p-3 h-20 resize-none",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-bold text-gray-700",htmlFor:"career-description",children:"Full Description *"}),e.jsx("textarea",{id:"career-description",name:"description",defaultValue:t==null?void 0:t.description,className:"w-full border-gray-200 rounded-xl p-3 h-32",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-sm font-bold text-gray-700",children:"Responsibilities *"}),x.map((l,s)=>e.jsx("input",{"aria-label":`Responsibility ${s+1}`,value:l,onChange:c=>g(m,s,c.target.value),className:"w-full border-gray-200 rounded-xl p-3 mb-2"},s))]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-sm font-bold text-gray-700",children:"Requirements *"}),h.map((l,s)=>e.jsx("input",{"aria-label":`Requirement ${s+1}`,value:l,onChange:c=>g(b,s,c.target.value),className:"w-full border-gray-200 rounded-xl p-3 mb-2"},s))]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-sm font-bold text-gray-700",children:"Desirable Skills (Optional)"}),a.map((l,s)=>e.jsx("input",{"aria-label":`Desirable skill ${s+1}`,value:l,onChange:c=>g(p,s,c.target.value),className:"w-full border-gray-200 rounded-xl p-3 mb-2"},s))]}),e.jsxs("div",{className:"flex justify-end gap-4 pt-8 border-t",children:[e.jsx(S,{type:"button",variant:"secondary",onClick:r,disabled:y,children:"Cancel"}),e.jsx(S,{type:"submit",disabled:y,children:y?"Saving...":"Save Job Posting"})]})]})})]})})}function ie({opportunity:t,onClose:r,onSuccess:d}){const[x,m]=n.useState((t==null?void 0:t.responsibilities)||["","",""]),[h,b]=n.useState((t==null?void 0:t.requirements)||["","",""]),[a,p]=n.useState((t==null?void 0:t.benefits)||[]),[y,N]=n.useState(!1),g=(l,s,c)=>{l(f=>{const o=[...f];return o[s]=c,o})},u=async l=>{l.preventDefault(),N(!0);const s=new FormData(l.currentTarget),f={...Object.fromEntries(s.entries()),responsibilities:x.filter(o=>o.trim()),requirements:h.filter(o=>o.trim()),benefits:a.filter(o=>o.trim())};try{t?await K(t.id,f):await G(f),j.success("Success"),d()}catch{j.error("Error")}finally{N(!1)}};return e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[60] p-4",children:e.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-5xl max-h-[90vh] flex flex-col overflow-hidden animate-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"p-8 border-b flex justify-between items-center",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:t?"Edit Opportunity":"New Opportunity"}),e.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 text-4xl leading-none",children:"Ã—"})]}),e.jsx("div",{className:"p-8 overflow-y-auto flex-1 bg-gray-50/30",children:e.jsxs("form",{onSubmit:u,className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-bold text-gray-700",htmlFor:"opportunity-title",children:"Title *"}),e.jsx("input",{id:"opportunity-title",name:"title",defaultValue:t==null?void 0:t.title,className:"w-full border-gray-200 rounded-xl p-3",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-bold text-gray-700",htmlFor:"opportunity-type",children:"Type *"}),e.jsxs("select",{id:"opportunity-type",name:"type",defaultValue:t==null?void 0:t.type,className:"w-full border-gray-200 rounded-xl p-3",required:!0,children:[e.jsx("option",{value:"INTERNSHIP",children:"Internship"}),e.jsx("option",{value:"VOLUNTEER",children:"Volunteer"}),e.jsx("option",{value:"FELLOWSHIP",children:"Fellowship"}),e.jsx("option",{value:"ATTACHMENT",children:"Industrial Attachment"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-bold text-gray-700",htmlFor:"opportunity-category",children:"Category *"}),e.jsx("input",{id:"opportunity-category",name:"category",defaultValue:t==null?void 0:t.category,className:"w-full border-gray-200 rounded-xl p-3",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-bold text-gray-700",htmlFor:"opportunity-location",children:"Location *"}),e.jsx("input",{id:"opportunity-location",name:"location",defaultValue:t==null?void 0:t.location,className:"w-full border-gray-200 rounded-xl p-3",required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-sm font-bold text-gray-700",children:"Responsibilities (One per line) *"}),x.map((l,s)=>e.jsx("input",{"aria-label":`Opportunity responsibility ${s+1}`,value:l,onChange:c=>g(m,s,c.target.value),className:"w-full border-gray-200 rounded-xl p-3 mb-2"},s))]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-sm font-bold text-gray-700",children:"Requirements (One per line) *"}),h.map((l,s)=>e.jsx("input",{"aria-label":`Opportunity requirement ${s+1}`,value:l,onChange:c=>g(b,s,c.target.value),className:"w-full border-gray-200 rounded-xl p-3 mb-2"},s))]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-sm font-bold text-gray-700",children:"Benefits (One per line)"}),a.map((l,s)=>e.jsx("input",{"aria-label":`Benefit ${s+1}`,value:l,onChange:c=>g(p,s,c.target.value),className:"w-full border-gray-200 rounded-xl p-3 mb-2"},s))]}),e.jsxs("div",{className:"flex justify-end gap-4 pt-8 border-t",children:[e.jsx(S,{type:"button",variant:"secondary",onClick:r,disabled:y,children:"Cancel"}),e.jsx(S,{type:"submit",disabled:y,children:y?"Saving...":"Publish Opportunity"})]})]})})]})})}export{me as default};
//# sourceMappingURL=HRManagementPage-DmqWx80F.js.map
