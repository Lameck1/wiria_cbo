{"version":3,"file":"PaymentMethodToggle-KYuo8LbY.js","sources":["../../src/features/donations/hooks/usePaymentPoller.ts","../../src/shared/types/payment.ts","../../src/shared/hooks/usePaymentFlow.ts","../../src/shared/constants/membership.ts","../../src/shared/hooks/useFeeCalculation.ts","../../src/features/donations/components/PaymentInstructions.tsx","../../src/features/donations/components/PaymentMethodToggle.tsx"],"sourcesContent":["/**\n * Payment Status Poller Hook\n * Polls payment status at regular intervals\n */\n\nimport { useEffect, useRef } from 'react';\n\nimport { TIMING } from '@/shared/constants/config';\n\ninterface UsePaymentPollerProps {\n  donationId: string | null;\n  isActive: boolean;\n  onStatusCheck: (donationId: string) => Promise<string>;\n  interval?: number;\n}\n\nexport function usePaymentPoller({\n  donationId,\n  isActive,\n  onStatusCheck,\n  interval = TIMING.PAYMENT_POLL_INTERVAL,\n}: UsePaymentPollerProps) {\n  const intervalRef = useRef<ReturnType<typeof setInterval> | null>(null);\n  const callbackRef = useRef(onStatusCheck);\n\n  useEffect(() => {\n    callbackRef.current = onStatusCheck;\n  }, [onStatusCheck]);\n\n  useEffect(() => {\n    if (!isActive || !donationId) {\n      if (intervalRef.current) {\n        clearInterval(intervalRef.current);\n        intervalRef.current = null;\n      }\n      return;\n    }\n\n    // Initial check\n    const checkStatus = async () => {\n      const callback = callbackRef.current;\n      if (!callback) {\n        return;\n      }\n\n      const status = await callback(donationId);\n\n      // Stop polling if payment is complete or failed\n      if ((status === 'COMPLETED' || status === 'FAILED') && intervalRef.current) {\n        clearInterval(intervalRef.current);\n        intervalRef.current = null;\n      }\n    };\n\n    void checkStatus();\n\n    // Set up polling interval\n    intervalRef.current = setInterval(() => void checkStatus(), interval);\n\n    // Cleanup on unmount\n    return () => {\n      if (intervalRef.current) {\n        clearInterval(intervalRef.current);\n        intervalRef.current = null;\n      }\n    };\n  }, [donationId, isActive, interval]);\n}\n","/**\n * Shared Payment Types\n * Standardized payment status and interfaces across all payment flows\n */\n\n/**\n * Standardized Payment Status Enum\n * Used consistently across donations, registrations, and renewals\n */\nexport enum PaymentStatus {\n  PENDING = 'PENDING',\n  COMPLETED = 'COMPLETED',\n  FAILED = 'FAILED',\n  CANCELLED = 'CANCELLED',\n}\n\n/**\n * Payment Method Types\n */\nexport type PaymentMethod = 'STK_PUSH' | 'MANUAL';\n\n/**\n * Generic Payment Response from API\n */\nexport interface PaymentStatusResponse {\n  status: PaymentStatus;\n  transactionId?: string;\n  message?: string;\n}\n\n/**\n * Payment Initiation Result\n */\nexport interface PaymentInitiationResult {\n  success: boolean;\n  transactionId?: string;\n  checkoutRequestId?: string;\n  message?: string;\n}\n\n/**\n * Manual Payment Verification Result\n */\nexport interface ManualPaymentVerificationResult {\n  success: boolean;\n  verified?: boolean;\n  message?: string;\n}\n","/**\n * usePaymentFlow - Shared Payment Processing Hook\n * Eliminates code duplication across donation, registration, and renewal flows\n * \n * This hook provides unified payment state management and status checking\n * for all M-Pesa STK Push and manual payment workflows.\n */\n\nimport { useState } from 'react';\n\nimport { useServices } from '@/shared/services/di';\n\nimport { PaymentStatus } from '../types/payment';\nimport { measureAsyncPerformance } from '../utils/performance';\n\nimport type {\n  ManualPaymentVerificationResult,\n  PaymentInitiationResult,\n  PaymentMethod,\n  PaymentStatusResponse,\n} from '../types/payment';\n\ninterface PaymentInitiationApiResponse {\n  checkoutRequestId?: string;\n  transactionId?: string;\n  message?: string;\n  data?: {\n    checkoutRequestId?: string;\n    transactionId?: string;\n    message?: string;\n  };\n}\n\ntype AnyPaymentStatusResponse =\n  | PaymentStatusResponse\n  | {\n    data?: {\n      status?: PaymentStatus;\n      transactionId?: string;\n      message?: string;\n    };\n  };\n\ninterface InitiationMeta {\n  requestId?: string;\n  message?: string;\n}\n\ninterface InitiationSuccessContext {\n  paymentMethod: PaymentMethod;\n  requestId?: string;\n  message?: string;\n  config: UsePaymentFlowConfig;\n  setCheckoutRequestId: (id: string | null) => void;\n  setTransactionId: (id: string | null) => void;\n  setPaymentStatus: (status: PaymentStatus | null) => void;\n  notifySuccess: (message: string) => void;\n}\n\nfunction getInitiationMeta(\n  response: PaymentInitiationApiResponse,\n  messages?: UsePaymentFlowConfig['messages']\n): InitiationMeta {\n  const requestId =\n    response.checkoutRequestId ??\n    response.transactionId ??\n    response.data?.checkoutRequestId ??\n    response.data?.transactionId;\n\n  const message =\n    response.message ??\n    response.data?.message ??\n    messages?.initiationSuccess;\n\n  return { requestId, message };\n}\n\nfunction handleInitiationSuccess({\n  paymentMethod,\n  requestId,\n  message,\n  config,\n  setCheckoutRequestId,\n  setTransactionId,\n  setPaymentStatus,\n  notifySuccess,\n}: InitiationSuccessContext): void {\n  if (paymentMethod === 'STK_PUSH' && requestId) {\n    setCheckoutRequestId(requestId);\n    setTransactionId(requestId);\n    setPaymentStatus(PaymentStatus.PENDING);\n    const successMessage =\n      config.messages?.stkPushSent ??\n      message ??\n      'STK push sent to your phone. Please complete the payment.';\n    notifySuccess(successMessage);\n    return;\n  }\n\n  if (paymentMethod === 'MANUAL') {\n    setPaymentStatus(PaymentStatus.PENDING);\n    const manualMessage =\n      config.messages?.manualPaymentSubmitted ??\n      config.messages?.initiationSuccess ??\n      'Payment submitted for verification.';\n    notifySuccess(manualMessage);\n    return;\n  }\n\n  setPaymentStatus(PaymentStatus.COMPLETED);\n  notifySuccess(message ?? 'Payment initiated successfully!');\n}\n\ninterface ApiClientLike {\n  post<TResponse>(url: string, data: unknown): Promise<TResponse>;\n  get<TResponse>(url: string): Promise<TResponse>;\n}\n\ninterface NotificationServiceLike {\n  success(message: string): void;\n  error(message: string): void;\n  warning(message: string): void;\n}\n\ninterface InitiatePaymentDependencies {\n  apiClient: ApiClientLike;\n  config: UsePaymentFlowConfig;\n  notificationService: NotificationServiceLike;\n  setIsSubmitting: (value: boolean) => void;\n  setPaymentStatus: (status: PaymentStatus | null) => void;\n  setCheckoutRequestId: (id: string | null) => void;\n  setTransactionId: (id: string | null) => void;\n}\n\nfunction createInitiatePayment({\n  apiClient,\n  config,\n  notificationService,\n  setIsSubmitting,\n  setPaymentStatus,\n  setCheckoutRequestId,\n  setTransactionId,\n}: InitiatePaymentDependencies) {\n  return async <T extends Record<string, unknown>>(\n    paymentData: T & { paymentMethod: PaymentMethod }\n  ): Promise<PaymentInitiationResult> => {\n    return measureAsyncPerformance('payment_initiation', async () => {\n      setIsSubmitting(true);\n      setPaymentStatus(null);\n\n      try {\n        const response = await apiClient.post<PaymentInitiationApiResponse>(\n          config.initiationEndpoint,\n          paymentData\n        );\n\n        const { requestId, message } = getInitiationMeta(response, config.messages);\n\n        handleInitiationSuccess({\n          paymentMethod: paymentData.paymentMethod,\n          requestId,\n          message,\n          config,\n          setCheckoutRequestId,\n          setTransactionId,\n          setPaymentStatus,\n          notifySuccess: (successMessage) => notificationService.success(successMessage),\n        });\n\n        return {\n          success: true,\n          checkoutRequestId: requestId,\n          transactionId: requestId,\n          message,\n        };\n      } catch (error) {\n        const errorMessage =\n          error instanceof Error ? error.message : 'Payment initiation failed';\n        notificationService.error(`${errorMessage}. Please try again.`);\n        return { success: false };\n      } finally {\n        setIsSubmitting(false);\n      }\n    })();\n  };\n}\n\ninterface CheckPaymentStatusDependencies {\n  apiClient: ApiClientLike;\n  config: UsePaymentFlowConfig;\n  notificationService: NotificationServiceLike;\n  setPaymentStatus: (status: PaymentStatus | null) => void;\n}\n\nfunction createCheckPaymentStatus({\n  apiClient,\n  config,\n  notificationService,\n  setPaymentStatus,\n}: CheckPaymentStatusDependencies) {\n  return async (id: string): Promise<PaymentStatus> => {\n    try {\n      const response = await apiClient.get<AnyPaymentStatusResponse>(\n        `${config.statusEndpoint}/${id}`\n      );\n\n      let status: PaymentStatus | null = null;\n\n      if ('status' in response && response.status) {\n        status = response.status;\n      } else if ('data' in response && response.data?.status) {\n        status = response.data.status;\n      }\n\n      if (!status) {\n        return PaymentStatus.PENDING;\n      }\n      setPaymentStatus(status);\n\n      switch (status) {\n        case PaymentStatus.COMPLETED: {\n          notificationService.success(\n            config.messages?.paymentCompleted ?? 'Payment completed successfully!'\n          );\n          return PaymentStatus.COMPLETED;\n        }\n        case PaymentStatus.FAILED: {\n          notificationService.error('Payment failed. Please try again.');\n          return PaymentStatus.FAILED;\n        }\n        case PaymentStatus.CANCELLED: {\n          notificationService.warning('Payment was cancelled.');\n          return PaymentStatus.CANCELLED;\n        }\n        default: {\n          return PaymentStatus.PENDING;\n        }\n      }\n    } catch {\n      return PaymentStatus.PENDING;\n    }\n  };\n}\n\ninterface VerifyManualPaymentDependencies {\n  apiClient: ApiClientLike;\n  config: UsePaymentFlowConfig;\n  notificationService: NotificationServiceLike;\n  setIsVerifying: (value: boolean) => void;\n  setIsManualPaymentVerified: (value: boolean) => void;\n  setPaymentStatus: (status: PaymentStatus | null) => void;\n}\n\nfunction createVerifyManualPayment({\n  apiClient,\n  config,\n  notificationService,\n  setIsVerifying,\n  setIsManualPaymentVerified,\n  setPaymentStatus,\n}: VerifyManualPaymentDependencies) {\n  return async (\n    phone: string,\n    amount: number,\n    reference?: string\n  ): Promise<ManualPaymentVerificationResult> => {\n    if (!config.manualVerificationEndpoint) {\n      notificationService.error('Manual payment verification not configured.');\n      return { success: false };\n    }\n\n    setIsVerifying(true);\n    setIsManualPaymentVerified(false);\n\n    try {\n      const response = await apiClient.post<{ verified: boolean; status?: string }>(\n        config.manualVerificationEndpoint,\n        {\n          phone,\n          amount,\n          accountReference: reference ?? config.flowType.toUpperCase(),\n        }\n      );\n\n      const verified = response.verified === true || response.status === 'CONFIRMED';\n\n      if (verified) {\n        setIsManualPaymentVerified(true);\n        setPaymentStatus(PaymentStatus.COMPLETED);\n        notificationService.success('Payment verified successfully!');\n        return { success: true, verified: true };\n      } else {\n        notificationService.error(\n          'Payment not found yet. Please wait a moment and try again.'\n        );\n        return { success: false, verified: false };\n      }\n    } catch {\n      notificationService.error('Verification failed. Please try again.');\n      return { success: false };\n    } finally {\n      setIsVerifying(false);\n    }\n  };\n}\n\ninterface ResetPaymentDependencies {\n  setCheckoutRequestId: (id: string | null) => void;\n  setTransactionId: (id: string | null) => void;\n  setPaymentStatus: (status: PaymentStatus | null) => void;\n  setIsSubmitting: (value: boolean) => void;\n  setIsVerifying: (value: boolean) => void;\n  setIsManualPaymentVerified: (value: boolean) => void;\n}\n\nfunction resetPaymentState({\n  setCheckoutRequestId,\n  setTransactionId,\n  setPaymentStatus,\n  setIsSubmitting,\n  setIsVerifying,\n  setIsManualPaymentVerified,\n}: ResetPaymentDependencies): void {\n  setCheckoutRequestId(null);\n  setTransactionId(null);\n  setPaymentStatus(null);\n  setIsSubmitting(false);\n  setIsVerifying(false);\n  setIsManualPaymentVerified(false);\n}\n\nexport interface UsePaymentFlowConfig {\n  /**\n   * Type of payment flow (for customized messaging)\n   */\n  flowType: 'donation' | 'registration' | 'renewal';\n\n  /**\n   * API endpoint for initiating payment\n   */\n  initiationEndpoint: string;\n\n  /**\n   * API endpoint for checking payment status\n   * Should accept an ID parameter: `${endpoint}/${id}`\n   */\n  statusEndpoint: string;\n\n  /**\n   * Optional endpoint for manual payment verification\n   */\n  manualVerificationEndpoint?: string;\n\n  /**\n   * Custom success messages (optional)\n   */\n  messages?: {\n    initiationSuccess?: string;\n    paymentCompleted?: string;\n    stkPushSent?: string;\n    manualPaymentSubmitted?: string;\n  };\n}\n\n\n\nexport function usePaymentFlow(config: UsePaymentFlowConfig) {\n  const { apiClient, notificationService } = useServices();\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [isVerifying, setIsVerifying] = useState(false);\n  const [paymentStatus, setPaymentStatus] = useState<PaymentStatus | null>(null);\n  const [checkoutRequestId, setCheckoutRequestId] = useState<string | null>(null);\n  const [transactionId, setTransactionId] = useState<string | null>(null);\n  const [isManualPaymentVerified, setIsManualPaymentVerified] = useState(false);\n\n  const initiatePayment = createInitiatePayment({\n    apiClient,\n    config,\n    notificationService,\n    setIsSubmitting,\n    setPaymentStatus,\n    setCheckoutRequestId,\n    setTransactionId,\n  });\n\n  const checkPaymentStatus = createCheckPaymentStatus({\n    apiClient,\n    config,\n    notificationService,\n    setPaymentStatus,\n  });\n\n  const verifyManualPayment = createVerifyManualPayment({\n    apiClient,\n    config,\n    notificationService,\n    setIsVerifying,\n    setIsManualPaymentVerified,\n    setPaymentStatus,\n  });\n\n  const resetPayment = () => {\n    resetPaymentState({\n      setCheckoutRequestId,\n      setTransactionId,\n      setPaymentStatus,\n      setIsSubmitting,\n      setIsVerifying,\n      setIsManualPaymentVerified,\n    });\n  };\n\n  return {\n    // State\n    isSubmitting,\n    isVerifying,\n    paymentStatus,\n    checkoutRequestId,\n    transactionId,\n    isManualPaymentVerified,\n\n    // Actions\n    initiatePayment,\n    checkPaymentStatus,\n    verifyManualPayment,\n    resetPayment,\n  };\n}\n","/**\n * Membership Fee Constants\n * Centralized source of truth for membership pricing.\n */\n\nexport const MEMBERSHIP_FEES = {\n  INDIVIDUAL: {\n    registration: 500,\n    subscription: 1000,\n  },\n  GROUP: {\n    registration: 250,\n    subscription: 500,\n  },\n} as const;\n\n/** Type for membership categories */\nexport type MembershipCategory = keyof typeof MEMBERSHIP_FEES;\n\n/** Helper to get total fee (registration + subscription) */\nexport function getTotalFee(category: MembershipCategory): number {\n  const fees = MEMBERSHIP_FEES[category];\n  return fees.registration + fees.subscription;\n}\n","/**\n * useFeeCalculation Hook\n * Centralized fee calculation for membership registration and renewal\n */\n\nimport { useMemo } from 'react';\n\nimport { MEMBERSHIP_FEES } from '@/shared/constants/membership';\n\ntype MembershipType = 'INDIVIDUAL' | 'GROUP';\n\nexport interface FeeDetail {\n  rate: number;\n  count: number;\n  subtotal: number;\n}\n\nexport interface FeeBreakdown {\n  registration: FeeDetail;\n  subscription: FeeDetail;\n  total: number;\n}\n\nexport interface RenewalFeeBreakdown {\n  renewal: FeeDetail;\n  newRegistration: FeeDetail;\n  total: number;\n}\n\ninterface UseFeeCalculationOptions {\n  membershipType: MembershipType;\n  memberCount: number;\n}\n\ninterface UseRenewalFeeOptions extends UseFeeCalculationOptions {\n  /** The previous maximum count reached to handle incremental group fees */\n  maxCount: number;\n}\n\n/**\n * Calculate fees for new membership registration\n */\nexport function useFeeCalculation({\n  membershipType,\n  memberCount,\n}: UseFeeCalculationOptions): FeeBreakdown {\n  return useMemo(() => {\n    const fees = MEMBERSHIP_FEES[membershipType];\n    const regRate = fees.registration;\n    const subRate = fees.subscription;\n    const count = membershipType === 'INDIVIDUAL' ? 1 : Math.max(1, memberCount);\n\n    const registration: FeeDetail = { rate: regRate, count, subtotal: regRate * count };\n    const subscription: FeeDetail = { rate: subRate, count, subtotal: subRate * count };\n\n    return {\n      registration,\n      subscription,\n      total: registration.subtotal + subscription.subtotal,\n    };\n  }, [membershipType, memberCount]);\n}\n\n/**\n * Calculate fees for membership renewal\n * Handles incremental registration for groups adding new members\n */\nexport function useRenewalFeeCalculation({\n  membershipType,\n  memberCount,\n  maxCount,\n}: UseRenewalFeeOptions): RenewalFeeBreakdown {\n  return useMemo(() => {\n    const fees = MEMBERSHIP_FEES[membershipType];\n    const { subscription: subRate, registration: regRate } = fees;\n\n    const renewalCount = membershipType === 'GROUP' ? Math.max(1, memberCount) : 1;\n    const newRegCount = membershipType === 'GROUP' ? Math.max(0, memberCount - maxCount) : 0;\n\n    const renewalTotal = renewalCount * subRate;\n    const regTotal = newRegCount * regRate;\n\n    const renewal: FeeDetail = { count: renewalCount, rate: subRate, subtotal: renewalTotal };\n    const newRegistration: FeeDetail = { count: newRegCount, rate: regRate, subtotal: regTotal };\n\n    return {\n      renewal,\n      newRegistration,\n      total: renewalTotal + regTotal,\n    };\n  }, [membershipType, memberCount, maxCount]);\n}\n","/**\n * Payment Instructions Component\n */\n\nimport { Card, CardBody } from '@/shared/components/ui/Card';\n\ninterface PaymentInstructionsProps {\n  paymentMethod: 'STK_PUSH' | 'MANUAL';\n  amount: number;\n  submitLabel?: string;\n  accountNumber?: string;\n}\n\nexport function PaymentInstructions({\n  paymentMethod,\n  amount,\n  submitLabel = 'Submit Donation',\n  accountNumber = 'DONATION',\n}: PaymentInstructionsProps) {\n  if (paymentMethod === 'STK_PUSH') {\n    return (\n      <Card className=\"border-2 border-blue-200 bg-blue-50\">\n        <CardBody>\n          <h3 className=\"mb-3 flex items-center gap-2 font-semibold text-wiria-blue-dark\">\n            <span className=\"text-2xl\">üì±</span>\n            M-Pesa STK Push Instructions\n          </h3>\n          <ol className=\"space-y-2 text-sm text-gray-700\">\n            <li className=\"flex items-start gap-2\">\n              <span className=\"font-semibold text-wiria-blue-dark\">1.</span>\n              <span>Enter your M-Pesa registered phone number</span>\n            </li>\n            <li className=\"flex items-start gap-2\">\n              <span className=\"font-semibold text-wiria-blue-dark\">2.</span>\n              <span>Click \"{submitLabel}\"</span>\n            </li>\n            <li className=\"flex items-start gap-2\">\n              <span className=\"font-semibold text-wiria-blue-dark\">3.</span>\n              <span>Check your phone for an M-Pesa prompt</span>\n            </li>\n            <li className=\"flex items-start gap-2\">\n              <span className=\"font-semibold text-wiria-blue-dark\">4.</span>\n              <span>Enter your M-Pesa PIN to complete the payment</span>\n            </li>\n          </ol>\n        </CardBody>\n      </Card>\n    );\n  }\n\n  return (\n    <Card className=\"border-2 border-green-200 bg-green-50\">\n      <CardBody>\n        <h3 className=\"mb-3 flex items-center gap-2 font-semibold text-wiria-blue-dark\">\n          <span className=\"text-2xl\">üè¶</span>\n          Manual Paybill Instructions\n        </h3>\n        <div className=\"space-y-3 text-sm\">\n          <div className=\"rounded-lg border border-green-200 bg-white p-3\">\n            <p className=\"mb-2 text-gray-600\">Pay via M-Pesa Paybill:</p>\n            <div className=\"grid grid-cols-2 gap-2\">\n              <div>\n                <span className=\"text-xs text-gray-500\">Business Number:</span>\n                <p className=\"text-lg font-bold text-wiria-blue-dark\">123456</p>\n              </div>\n              <div>\n                <span className=\"text-xs text-gray-500\">Account Number:</span>\n                <p className=\"text-lg font-bold text-wiria-blue-dark\">{accountNumber}</p>\n              </div>\n            </div>\n          </div>\n          <ol className=\"space-y-2 text-gray-700\">\n            <li className=\"flex items-start gap-2\">\n              <span className=\"font-semibold text-wiria-blue-dark\">1.</span>\n              <span>Go to M-Pesa menu on your phone</span>\n            </li>\n            <li className=\"flex items-start gap-2\">\n              <span className=\"font-semibold text-wiria-blue-dark\">2.</span>\n              <span>Select \"Lipa na M-Pesa\" then \"Paybill\"</span>\n            </li>\n            <li className=\"flex items-start gap-2\">\n              <span className=\"font-semibold text-wiria-blue-dark\">3.</span>\n              <span>\n                Enter Business Number: <strong>123456</strong>\n              </span>\n            </li>\n            <li className=\"flex items-start gap-2\">\n              <span className=\"font-semibold text-wiria-blue-dark\">4.</span>\n              <span>\n                Enter Account Number: <strong>{accountNumber}</strong>\n              </span>\n            </li>\n            <li className=\"flex items-start gap-2\">\n              <span className=\"font-semibold text-wiria-blue-dark\">5.</span>\n              <span>\n                Enter Amount: <strong>KES {amount.toLocaleString()}</strong>\n              </span>\n            </li>\n            <li className=\"flex items-start gap-2\">\n              <span className=\"font-semibold text-wiria-blue-dark\">6.</span>\n              <span>Enter your M-Pesa PIN and confirm</span>\n            </li>\n          </ol>\n          <p className=\"mt-3 text-xs italic text-gray-600\">\n            After payment, you'll receive an M-Pesa confirmation SMS. Your payment will be processed\n            within 24 hours.\n          </p>\n        </div>\n      </CardBody>\n    </Card>\n  );\n}\n","/**\n * Payment Method Selector Component\n */\n\nimport { motion } from 'framer-motion';\n\ninterface PaymentMethodToggleProps {\n  selected: 'STK_PUSH' | 'MANUAL';\n  onChange: (method: 'STK_PUSH' | 'MANUAL') => void;\n  disabled?: boolean;\n}\n\nexport function PaymentMethodToggle({ selected, onChange, disabled }: PaymentMethodToggleProps) {\n  return (\n    <div>\n      <span className=\"mb-4 block text-sm font-semibold text-wiria-blue-dark\">\n        Payment Method <span className=\"text-red-500\">*</span>\n      </span>\n      <div className=\"grid grid-cols-2 gap-4\">\n        <motion.button\n          type=\"button\"\n          disabled={disabled}\n          whileHover={{ y: -2 }}\n          whileTap={{ scale: 0.98 }}\n          onClick={() => onChange('STK_PUSH')}\n          className={`relative cursor-pointer rounded-2xl border-2 p-5 text-center transition-all duration-200 focus:outline-none focus:ring-4 focus:ring-wiria-yellow/50 ${\n            selected === 'STK_PUSH'\n              ? 'border-wiria-yellow bg-wiria-yellow/5 shadow-lg shadow-wiria-yellow/10'\n              : 'border-gray-100 bg-white shadow-sm hover:border-wiria-yellow/30 hover:bg-gray-50'\n          } ${disabled ? 'cursor-not-allowed opacity-50' : ''}`}\n        >\n          <div className=\"mb-3 text-4xl\">üì±</div>\n          <div className=\"font-bold text-wiria-blue-dark\">M-Pesa STK Push</div>\n          <div className=\"mt-1 text-xs font-medium text-gray-500\">Instant & Secure</div>\n\n          {selected === 'STK_PUSH' && (\n            <motion.div\n              layoutId=\"activePayment\"\n              className=\"absolute -right-2 -top-2 flex h-6 w-6 items-center justify-center rounded-full border-2 border-white bg-wiria-yellow text-xs text-white shadow-md\"\n              initial={{ scale: 0 }}\n              animate={{ scale: 1 }}\n            >\n              ‚úì\n            </motion.div>\n          )}\n        </motion.button>\n\n        <motion.button\n          type=\"button\"\n          disabled={disabled}\n          whileHover={{ y: -2 }}\n          whileTap={{ scale: 0.98 }}\n          onClick={() => onChange('MANUAL')}\n          className={`relative cursor-pointer rounded-2xl border-2 p-5 text-center transition-all duration-200 focus:outline-none focus:ring-4 focus:ring-wiria-yellow/50 ${\n            selected === 'MANUAL'\n              ? 'border-wiria-yellow bg-wiria-yellow/5 shadow-lg shadow-wiria-yellow/10'\n              : 'border-gray-100 bg-white shadow-sm hover:border-wiria-yellow/30 hover:bg-gray-50'\n          } ${disabled ? 'cursor-not-allowed opacity-50' : ''}`}\n        >\n          <div className=\"mb-3 text-4xl\">üè¶</div>\n          <div className=\"font-bold text-wiria-blue-dark\">Manual Paybill</div>\n          <div className=\"mt-1 text-xs font-medium text-gray-500\">Direct Bank/M-Pesa</div>\n\n          {selected === 'MANUAL' && (\n            <motion.div\n              layoutId=\"activePayment\"\n              className=\"absolute -right-2 -top-2 flex h-6 w-6 items-center justify-center rounded-full border-2 border-white bg-wiria-yellow text-xs text-white shadow-md\"\n              initial={{ scale: 0 }}\n              animate={{ scale: 1 }}\n            >\n              ‚úì\n            </motion.div>\n          )}\n        </motion.button>\n      </div>\n    </div>\n  );\n}\n"],"names":["usePaymentPoller","donationId","isActive","onStatusCheck","interval","TIMING","intervalRef","useRef","callbackRef","useEffect","checkStatus","callback","status","PaymentStatus","getInitiationMeta","response","messages","requestId","message","handleInitiationSuccess","paymentMethod","config","setCheckoutRequestId","setTransactionId","setPaymentStatus","notifySuccess","successMessage","manualMessage","createInitiatePayment","apiClient","notificationService","setIsSubmitting","paymentData","measureAsyncPerformance","error","errorMessage","createCheckPaymentStatus","id","createVerifyManualPayment","setIsVerifying","setIsManualPaymentVerified","phone","amount","reference","resetPaymentState","usePaymentFlow","useServices","isSubmitting","useState","isVerifying","paymentStatus","checkoutRequestId","transactionId","isManualPaymentVerified","initiatePayment","checkPaymentStatus","verifyManualPayment","MEMBERSHIP_FEES","useFeeCalculation","membershipType","memberCount","useMemo","fees","regRate","subRate","count","registration","subscription","useRenewalFeeCalculation","maxCount","renewalCount","newRegCount","renewalTotal","regTotal","PaymentInstructions","submitLabel","accountNumber","jsx","Card","CardBody","jsxs","PaymentMethodToggle","selected","onChange","disabled","motion"],"mappings":"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"}