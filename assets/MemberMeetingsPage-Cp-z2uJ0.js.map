{"version":3,"file":"MemberMeetingsPage-Cp-z2uJ0.js","sources":["../../src/features/membership/components/MeetingCard.tsx","../../src/pages/MemberMeetingsPage.tsx"],"sourcesContent":["import { memo } from 'react';\n\nimport type { Meeting } from '@/features/membership/hooks/useMemberData';\nimport { Button } from '@/shared/components/ui/Button';\n\nconst getMeetingTypeStyles = (type: string) => {\n  switch (type) {\n    case 'AGM': {\n      return 'bg-purple-100 text-purple-800';\n    }\n    case 'SPECIAL': {\n      return 'bg-red-100 text-red-800';\n    }\n    case 'TRAINING': {\n      return 'bg-green-100 text-green-800';\n    }\n    default: {\n      return 'bg-blue-100 text-blue-800';\n    }\n  }\n};\n\nconst getMeetingStatusStyles = (status: string) => {\n  switch (status) {\n    case 'UPCOMING': {\n      return 'bg-blue-50 text-blue-700';\n    }\n    case 'ONGOING': {\n      return 'bg-green-50 text-green-700';\n    }\n    case 'COMPLETED': {\n      return 'bg-gray-50 text-gray-600';\n    }\n    default: {\n      return 'bg-red-50 text-red-700';\n    }\n  }\n};\n\ninterface MeetingCardProps {\n  meeting: Meeting;\n  showRsvpButton?: boolean;\n  loadingMeetingId: string | null;\n  onRsvp: (id: string) => void;\n  onCancelRsvp: (id: string) => void;\n}\n\nexport const MeetingCard = memo(function MeetingCard({\n  meeting,\n  showRsvpButton = true,\n  loadingMeetingId,\n  onRsvp,\n  onCancelRsvp,\n}: MeetingCardProps) {\n  return (\n    <div className=\"rounded-xl border border-gray-100 bg-white p-6 shadow-md transition-shadow hover:shadow-lg\">\n      <div className=\"flex flex-col gap-4 md:flex-row md:items-start md:justify-between\">\n        <div className=\"flex-1\">\n          <div className=\"mb-2 flex items-center gap-3\">\n            <span\n              className={`rounded px-2 py-1 text-xs font-bold uppercase ${getMeetingTypeStyles(meeting.type)}`}\n            >\n              {meeting.type}\n            </span>\n            <span\n              className={`rounded px-2 py-1 text-xs font-semibold ${getMeetingStatusStyles(meeting.status)}`}\n            >\n              {meeting.status}\n            </span>\n          </div>\n          <h3 className=\"mb-2 text-lg font-bold text-wiria-blue-dark\">{meeting.title}</h3>\n          {meeting.description && (\n            <p className=\"mb-3 text-sm text-gray-600\">{meeting.description}</p>\n          )}\n          <div className=\"flex flex-wrap gap-4 text-sm text-gray-500\">\n            <div className=\"flex items-center gap-1\">\n              <span>üìÖ</span>\n              <span>{new Date(meeting.date).toLocaleDateString()}</span>\n            </div>\n            <div className=\"flex items-center gap-1\">\n              <span>‚è∞</span>\n              <span>{meeting.time}</span>\n            </div>\n            <div className=\"flex items-center gap-1\">\n              <span>üìç</span>\n              <span>{meeting.location}</span>\n            </div>\n            {meeting.attendeesCount !== undefined && (\n              <div className=\"flex items-center gap-1\">\n                <span>üë•</span>\n                <span>\n                  {meeting.attendeesCount}\n                  {meeting.capacity ? ` / ${meeting.capacity}` : ''} attending\n                </span>\n              </div>\n            )}\n          </div>\n        </div>\n        {showRsvpButton && meeting.status === 'UPCOMING' && (\n          <div className=\"flex-shrink-0\">\n            {meeting.isRsvpd ? (\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={() => onCancelRsvp(meeting.id)}\n                isLoading={loadingMeetingId === meeting.id}\n              >\n                Cancel RSVP\n              </Button>\n            ) : (\n              <Button\n                variant={\n                  meeting.capacity && (meeting.attendeesCount ?? 0) >= meeting.capacity\n                    ? 'outline'\n                    : 'primary'\n                }\n                size=\"sm\"\n                onClick={() => onRsvp(meeting.id)}\n                isLoading={loadingMeetingId === meeting.id}\n                disabled={\n                  meeting.capacity ? (meeting.attendeesCount ?? 0) >= meeting.capacity : false\n                }\n              >\n                {meeting.capacity && (meeting.attendeesCount ?? 0) >= meeting.capacity\n                  ? 'Fully Booked'\n                  : 'RSVP Now'}\n              </Button>\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n});\n","/**\n * Member Meetings Page\n * View and RSVP to meetings\n */\n\nimport { useEffect, useState, useCallback } from 'react';\n\nimport { MeetingCard } from '@/features/membership/components/MeetingCard';\nimport { PortalLayout } from '@/features/membership/components/PortalLayout';\nimport { useMemberData } from '@/features/membership/hooks/useMemberData';\nimport { Card, CardBody } from '@/shared/components/ui/Card';\nimport { Spinner } from '@/shared/components/ui/Spinner';\nimport { notificationService } from '@/shared/services/notification/notificationService';\n\ntype Tab = 'my-meetings' | 'available-meetings';\n\nconst MY_MEETINGS_TAB: Tab = 'my-meetings';\nconst AVAILABLE_MEETINGS_TAB: Tab = 'available-meetings';\n\nfunction MemberMeetingsPage() {\n  const {\n    meetings,\n    availableMeetings,\n    isLoading,\n    fetchMeetings,\n    fetchAvailableMeetings,\n    rsvpToMeeting,\n    cancelRsvp,\n  } = useMemberData();\n\n  const [activeTab, setActiveTab] = useState<Tab>(MY_MEETINGS_TAB);\n  const [loadingMeetingId, setLoadingMeetingId] = useState<string | null>(null);\n\n  useEffect(() => {\n    void fetchMeetings();\n    void fetchAvailableMeetings();\n  }, [fetchMeetings, fetchAvailableMeetings]);\n\n  const handleRsvp = useCallback(\n    async (meetingId: string) => {\n      setLoadingMeetingId(meetingId);\n      try {\n        await rsvpToMeeting(meetingId);\n        notificationService.success(\"Successfully RSVP'd to meeting!\");\n      } catch {\n        notificationService.error('Failed to RSVP. Please try again.');\n      } finally {\n        setLoadingMeetingId(null);\n      }\n    },\n    [rsvpToMeeting]\n  );\n\n  const handleCancelRsvp = useCallback(\n    async (meetingId: string) => {\n      setLoadingMeetingId(meetingId);\n      try {\n        await cancelRsvp(meetingId);\n        notificationService.success('RSVP cancelled');\n      } catch {\n        notificationService.error('Failed to cancel RSVP. Please try again.');\n      } finally {\n        setLoadingMeetingId(null);\n      }\n    },\n    [cancelRsvp]\n  );\n\n  const noMeetingsMessage =\n    activeTab === MY_MEETINGS_TAB\n      ? \"You haven't RSVP'd to any meetings yet\"\n      : 'No available meetings at this time';\n\n  const tabButtonBaseClass = 'border-b-2 px-6 pb-4 pt-4 text-sm font-bold transition-colors';\n\n  const currentMeetings = activeTab === MY_MEETINGS_TAB ? meetings : availableMeetings;\n\n  if (isLoading && meetings.length === 0) {\n    return (\n      <PortalLayout title=\"Meetings & Events\">\n        <div className=\"flex items-center justify-center py-20\">\n          <Spinner size=\"lg\" />\n        </div>\n      </PortalLayout>\n    );\n  }\n\n  return (\n    <PortalLayout\n      title=\"Meetings & Events\"\n      subtitle=\"View upcoming events, RSVP, and manage your schedule\"\n    >\n      {/* Tabs */}\n      <Card className=\"mb-0 rounded-b-none border-b-0\">\n        <CardBody className=\"px-0 py-0\">\n          <div className=\"flex border-b border-gray-200\">\n            <button\n              onClick={() => {\n                setActiveTab(MY_MEETINGS_TAB);\n              }}\n              className={`${tabButtonBaseClass} ${\n                activeTab === MY_MEETINGS_TAB\n                  ? 'border-wiria-blue-dark text-wiria-blue-dark'\n                  : 'border-transparent text-gray-500 hover:text-gray-700'\n              }`}\n            >\n              My Meetings\n              {meetings.length > 0 && (\n                <span\n                  className={`ml-2 rounded-full px-2 py-0.5 text-xs ${\n                    activeTab === MY_MEETINGS_TAB\n                      ? 'bg-wiria-blue-dark text-white'\n                      : 'bg-gray-200 text-gray-700'\n                  }`}\n                >\n                  {meetings.length}\n                </span>\n              )}\n            </button>\n            <button\n              onClick={() => {\n                setActiveTab(AVAILABLE_MEETINGS_TAB);\n              }}\n              className={`${tabButtonBaseClass} ${\n                activeTab === AVAILABLE_MEETINGS_TAB\n                  ? 'border-wiria-blue-dark text-wiria-blue-dark'\n                  : 'border-transparent text-gray-500 hover:text-gray-700'\n              }`}\n            >\n              Available Meetings\n              {availableMeetings.length > 0 && (\n                <span\n                  className={`ml-2 rounded-full px-2 py-0.5 text-xs ${\n                    activeTab === AVAILABLE_MEETINGS_TAB\n                      ? 'bg-wiria-blue-dark text-white'\n                      : 'bg-gray-200 text-gray-700'\n                  }`}\n                >\n                  {availableMeetings.length}\n                </span>\n              )}\n            </button>\n          </div>\n        </CardBody>\n      </Card>\n\n      {/* Content */}\n      <Card className=\"rounded-t-none border-t-0\">\n        <CardBody className=\"min-h-[400px]\">\n          {currentMeetings.length === 0 ? (\n            <div className=\"py-12 text-center\">\n              <div className=\"mb-4 text-6xl\">üìÖ</div>\n              <p className=\"text-gray-500\">{noMeetingsMessage}</p>\n            </div>\n          ) : (\n            <div className=\"space-y-4\">\n              {currentMeetings.map((meeting) => (\n                <MeetingCard\n                  key={meeting.id}\n                  meeting={meeting}\n                  showRsvpButton={activeTab === 'available-meetings'}\n                  loadingMeetingId={loadingMeetingId}\n                  onRsvp={(meetingId) => {\n                    void handleRsvp(meetingId);\n                  }}\n                  onCancelRsvp={(meetingId) => {\n                    void handleCancelRsvp(meetingId);\n                  }}\n                />\n              ))}\n            </div>\n          )}\n        </CardBody>\n      </Card>\n    </PortalLayout>\n  );\n}\n\nexport default MemberMeetingsPage;\n"],"names":["getMeetingTypeStyles","type","getMeetingStatusStyles","status","MeetingCard","memo","meeting","showRsvpButton","loadingMeetingId","onRsvp","onCancelRsvp","jsxs","jsx","Button","MY_MEETINGS_TAB","AVAILABLE_MEETINGS_TAB","MemberMeetingsPage","meetings","availableMeetings","isLoading","fetchMeetings","fetchAvailableMeetings","rsvpToMeeting","cancelRsvp","useMemberData","activeTab","setActiveTab","useState","setLoadingMeetingId","useEffect","handleRsvp","useCallback","meetingId","notificationService","handleCancelRsvp","noMeetingsMessage","tabButtonBaseClass","currentMeetings","PortalLayout","Spinner","Card","CardBody"],"mappings":"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"}