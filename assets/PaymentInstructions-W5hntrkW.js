import{r as d}from"./react-vendor-CXp26_Hx.js";import{j as e}from"./query-vendor-CM55eWOT.js";import{m as o}from"./animation-vendor-Bcu85ETC.js";import{C as m,a as h}from"./Card-C-jJKiAv.js";function y({donationId:s,isActive:t,onStatusCheck:r,interval:l=5e3}){const a=d.useRef(null);d.useEffect(()=>{if(!t||!s){a.current&&(clearInterval(a.current),a.current=null);return}const i=async()=>{const n=await r(s);(n==="COMPLETED"||n==="FAILED")&&a.current&&(clearInterval(a.current),a.current=null)};return i(),a.current=setInterval(i,l),()=>{a.current&&(clearInterval(a.current),a.current=null)}},[s,t,r,l])}const b={INDIVIDUAL:{registration:500,subscription:1e3},GROUP:{registration:250,subscription:500}};function P({membershipType:s,memberCount:t}){return d.useMemo(()=>{const r=b[s],l=r.registration,a=r.subscription,i=s==="INDIVIDUAL"?1:Math.max(1,t),n={rate:l,count:i,subtotal:l*i},c={rate:a,count:i,subtotal:a*i};return{registration:n,subscription:c,total:n.subtotal+c.subtotal}},[s,t])}function v({membershipType:s,memberCount:t,maxCount:r}){return d.useMemo(()=>{const l=b[s],{subscription:a,registration:i}=l,n=s==="GROUP"?Math.max(1,t):1,c=s==="GROUP"?Math.max(0,t-r):0,x=n*a,u=c*i;return{renewal:{count:n,rate:a,subtotal:x},newRegistration:{count:c,rate:i,subtotal:u},total:x+u}},[s,t,r])}function M({selected:s,onChange:t,disabled:r}){return e.jsxs("div",{children:[e.jsxs("label",{className:"mb-4 block text-sm font-semibold text-wiria-blue-dark",children:["Payment Method ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs(o.button,{type:"button",whileHover:{y:-2},whileTap:{scale:.98},onClick:()=>t("STK_PUSH"),disabled:r,className:`relative rounded-2xl border-2 p-5 text-center transition-all duration-200 ${s==="STK_PUSH"?"border-wiria-yellow bg-wiria-yellow/5 shadow-lg shadow-wiria-yellow/10 ring-2 ring-wiria-yellow/20":"border-gray-100 bg-white shadow-sm hover:border-wiria-yellow/30 hover:bg-gray-50"} disabled:cursor-not-allowed disabled:opacity-50`,children:[e.jsx("div",{className:"mb-3 text-4xl",children:"üì±"}),e.jsx("div",{className:"font-bold text-wiria-blue-dark",children:"M-Pesa STK Push"}),e.jsx("div",{className:"mt-1 text-xs font-medium text-gray-500",children:"Instant & Secure"}),s==="STK_PUSH"&&e.jsx(o.div,{layoutId:"activePayment",className:"absolute -right-2 -top-2 flex h-6 w-6 items-center justify-center rounded-full border-2 border-white bg-wiria-yellow text-xs text-white shadow-md",initial:{scale:0},animate:{scale:1},children:"‚úì"})]}),e.jsxs(o.button,{type:"button",whileHover:{y:-2},whileTap:{scale:.98},onClick:()=>t("MANUAL"),disabled:r,className:`relative rounded-2xl border-2 p-5 text-center transition-all duration-200 ${s==="MANUAL"?"border-wiria-yellow bg-wiria-yellow/5 shadow-lg shadow-wiria-yellow/10 ring-2 ring-wiria-yellow/20":"border-gray-100 bg-white shadow-sm hover:border-wiria-yellow/30 hover:bg-gray-50"} disabled:cursor-not-allowed disabled:opacity-50`,children:[e.jsx("div",{className:"mb-3 text-4xl",children:"üè¶"}),e.jsx("div",{className:"font-bold text-wiria-blue-dark",children:"Manual Paybill"}),e.jsx("div",{className:"mt-1 text-xs font-medium text-gray-500",children:"Direct Bank/M-Pesa"}),s==="MANUAL"&&e.jsx(o.div,{layoutId:"activePayment",className:"absolute -right-2 -top-2 flex h-6 w-6 items-center justify-center rounded-full border-2 border-white bg-wiria-yellow text-xs text-white shadow-md",initial:{scale:0},animate:{scale:1},children:"‚úì"})]})]})]})}function k({paymentMethod:s,amount:t,submitLabel:r="Submit Donation",accountNumber:l="DONATION"}){return s==="STK_PUSH"?e.jsx(m,{className:"border-2 border-blue-200 bg-blue-50",children:e.jsxs(h,{children:[e.jsxs("h3",{className:"mb-3 flex items-center gap-2 font-semibold text-wiria-blue-dark",children:[e.jsx("span",{className:"text-2xl",children:"üì±"}),"M-Pesa STK Push Instructions"]}),e.jsxs("ol",{className:"space-y-2 text-sm text-gray-700",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-semibold text-wiria-blue-dark",children:"1."}),e.jsx("span",{children:"Enter your M-Pesa registered phone number"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-semibold text-wiria-blue-dark",children:"2."}),e.jsxs("span",{children:['Click "',r,'"']})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-semibold text-wiria-blue-dark",children:"3."}),e.jsx("span",{children:"Check your phone for an M-Pesa prompt"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-semibold text-wiria-blue-dark",children:"4."}),e.jsx("span",{children:"Enter your M-Pesa PIN to complete the payment"})]})]})]})}):e.jsx(m,{className:"border-2 border-green-200 bg-green-50",children:e.jsxs(h,{children:[e.jsxs("h3",{className:"mb-3 flex items-center gap-2 font-semibold text-wiria-blue-dark",children:[e.jsx("span",{className:"text-2xl",children:"üè¶"}),"Manual Paybill Instructions"]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"rounded-lg border border-green-200 bg-white p-3",children:[e.jsx("p",{className:"mb-2 text-gray-600",children:"Pay via M-Pesa Paybill:"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Business Number:"}),e.jsx("p",{className:"text-lg font-bold text-wiria-blue-dark",children:"123456"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Account Number:"}),e.jsx("p",{className:"text-lg font-bold text-wiria-blue-dark",children:l})]})]})]}),e.jsxs("ol",{className:"space-y-2 text-gray-700",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-semibold text-wiria-blue-dark",children:"1."}),e.jsx("span",{children:"Go to M-Pesa menu on your phone"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-semibold text-wiria-blue-dark",children:"2."}),e.jsx("span",{children:'Select "Lipa na M-Pesa" then "Paybill"'})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-semibold text-wiria-blue-dark",children:"3."}),e.jsxs("span",{children:["Enter Business Number: ",e.jsx("strong",{children:"123456"})]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-semibold text-wiria-blue-dark",children:"4."}),e.jsxs("span",{children:["Enter Account Number: ",e.jsx("strong",{children:l})]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-semibold text-wiria-blue-dark",children:"5."}),e.jsxs("span",{children:["Enter Amount: ",e.jsxs("strong",{children:["KES ",t.toLocaleString()]})]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-semibold text-wiria-blue-dark",children:"6."}),e.jsx("span",{children:"Enter your M-Pesa PIN and confirm"})]})]}),e.jsx("p",{className:"mt-3 text-xs italic text-gray-600",children:"After payment, you'll receive an M-Pesa confirmation SMS. Your payment will be processed within 24 hours."})]})]})})}export{M as P,k as a,y as b,v as c,P as u};
//# sourceMappingURL=PaymentInstructions-W5hntrkW.js.map
