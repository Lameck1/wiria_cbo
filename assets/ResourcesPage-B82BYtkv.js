import{j as e,a as u,u as C}from"./query-vendor-DeB3i2OK.js";import{m,A as f}from"./animation-vendor-JsFu8W7l.js";import{M as L}from"./Modal-D-omMokM.js";import"./partners-G2kxi8Bb.js";import{a as D}from"./index-8OXY4Dao.js";import{P as M}from"./PageHero-bNpYePpB.js";import{S}from"./Seo-DaEvJ-Yn.js";import{a as I}from"./react-vendor-D3fc32Hw.js";import"./helpers-CdcGZezW.js";const R=[{id:"static-tender-1",refNo:"WIRIA/TENDER/2025/001",title:"Supply of Medical Equipment and Supplies",category:"Procurement",estimatedValue:"KES 2,500,000",deadline:"2025-12-31",publishDate:"2025-11-15",description:"WIRIA CBO seeks qualified suppliers to provide medical equipment and supplies for our health programs.",eligibility:["Registered business with valid KRA PIN certificate","Experience in medical supplies provision (minimum 2 years)","Valid licenses from Pharmacy and Poisons Board"],requiredDocuments:["Company registration certificate","KRA PIN and Tax Compliance Certificate","Pharmacy and Poisons Board license","Detailed price quotation"],submissionMethod:"Physical submission and email",submissionAddress:"WIRIA CBO Offices, Mwangaza Center, Homa Bay Town",submissionEmail:"wiriacbo@gmail.com",contactPerson:"Procurement Officer",contactPhone:"+254 705 929 293",downloadUrl:"",status:"OPEN",createdAt:"2025-11-15T00:00:00Z",updatedAt:"2025-11-15T00:00:00Z"},{id:"static-tender-2",refNo:"WIRIA/TENDER/2025/002",title:"Consultancy Services - M&E System Development",category:"Consultancy",estimatedValue:"KES 800,000",deadline:"2025-12-25",publishDate:"2025-11-20",description:"WIRIA seeks an experienced consultant to develop a comprehensive Monitoring and Evaluation system.",eligibility:["Master's degree in M&E, Statistics, or related field","Minimum 5 years experience in M&E systems design","Previous work with NGOs/CBOs in Kenya"],requiredDocuments:["Technical proposal (methodology and workplan)","Financial proposal","CV with academic certificates","Portfolio of previous M&E projects"],submissionMethod:"Email submission only",submissionAddress:"Not applicable",submissionEmail:"wiriacbo@gmail.com",contactPerson:"Programs Manager",contactPhone:"+254 705 929 293",downloadUrl:"",status:"OPEN",createdAt:"2025-11-20T00:00:00Z",updatedAt:"2025-11-20T00:00:00Z"},{id:"static-tender-3",refNo:"WIRIA/TENDER/2025/003",title:"Construction of Community Resource Center",category:"Construction",estimatedValue:"KES 5,000,000",deadline:"2026-01-15",publishDate:"2025-11-25",description:"WIRIA invites qualified contractors to bid for the construction of a multi-purpose community resource center.",eligibility:["Valid NCA registration (minimum Category 4)","Experience in similar projects (minimum 3 completed)","Financial capacity (annual turnover min. KES 10M)"],requiredDocuments:["NCA registration certificate","Company registration documents","KRA PIN and Tax Compliance","Detailed bill of quantities and pricing"],submissionMethod:"Physical submission in sealed envelope",submissionAddress:"WIRIA CBO Offices, Mwangaza Center, Homa Bay Town - Tender Box",submissionEmail:"wiriacbo@gmail.com",contactPerson:"Projects Coordinator",contactPhone:"+254 705 929 293",downloadUrl:"",status:"OPEN",createdAt:"2025-11-25T00:00:00Z",updatedAt:"2025-11-25T00:00:00Z"}],x="2024-01-01T00:00:00Z",B=[{id:"static-resource-1",title:"WIRIA Constitution",description:"The foundational legal document outlining our governance and operational framework.",category:"GOVERNANCE",fileType:"PDF",fileSize:"2.4 MB",downloadUrl:null,summary:"This constitution establishes WIRIA as a Community-Based Organization.",keyPoints:["Organizational structure","Membership eligibility","Financial management"],isPublic:!0,downloads:0,uploadedAt:x,createdAt:x,updatedAt:x},{id:"static-resource-2",title:"Strategic Plan 2024-2029",description:"Our roadmap for the next five years.",category:"STRATEGIC",fileType:"PDF",fileSize:"5.2 MB",downloadUrl:null,summary:"Five-year strategic plan outlining WIRIA vision for expanding programs.",keyPoints:["Expand HIV/TB/Malaria prevention","Strengthen SGBV response","Economic empowerment"],isPublic:!0,downloads:0,uploadedAt:x,createdAt:x,updatedAt:x},{id:"static-resource-3",title:"Annual Audited Accounts 2024",description:"Our most recent financial statements, independently audited.",category:"FINANCIAL",fileType:"PDF",fileSize:"3.1 MB",downloadUrl:null,summary:"Independently audited financial statements for fiscal year 2024.",keyPoints:["Total revenue: KES 12.5 million","Program expenditure: 78%","Clean audit opinion"],isPublic:!0,downloads:0,uploadedAt:x,createdAt:x,updatedAt:x},{id:"static-resource-4",title:"Safeguarding Policy (PSEAH)",description:"Our commitment to protecting vulnerable persons from exploitation.",category:"POLICIES",fileType:"PDF",fileSize:"1.8 MB",downloadUrl:"/documents/safeguarding-policy.pdf",summary:"Comprehensive policy on Protection from Sexual Exploitation, Abuse, and Harassment.",keyPoints:["Zero-tolerance approach","Clear reporting mechanisms","Survivor-centered response"],isPublic:!0,downloads:0,uploadedAt:x,createdAt:x,updatedAt:x},{id:"static-resource-5",title:"Gender Equality Policy",description:"Our framework for promoting gender equality.",category:"POLICIES",fileType:"PDF",fileSize:"2.2 MB",downloadUrl:"/documents/gender-equality-policy.pdf",summary:"WIRIA commitment to mainstreaming gender across all programs.",keyPoints:["Gender-responsive design","Equal opportunities","Gender-disaggregated data"],isPublic:!0,downloads:0,uploadedAt:x,createdAt:x,updatedAt:x},{id:"static-resource-6",title:"M&E Framework 2024",description:"Our monitoring and evaluation framework.",category:"STRATEGIC",fileType:"PDF",fileSize:"3.5 MB",downloadUrl:"/documents/me-framework-2024.pdf",summary:"Framework outlining indicators, data collection methods, and reporting procedures.",keyPoints:["Program-specific indicators","Data collection protocols","Reporting schedules"],isPublic:!0,downloads:0,uploadedAt:x,createdAt:x,updatedAt:x}];function F(){return"http://localhost:5001/api".replace("/api","")}function y(s){return s?s.startsWith("http://")||s.startsWith("https://")?s:`${F()}${s}`:""}function w(s){return!!(s&&s.trim().length>0)}const O={GOVERNANCE:"ðŸ“œ",STRATEGIC:"ðŸŽ¯",FINANCIAL:"ðŸ’°",POLICIES:"ðŸ“‹",REPORTS:"ðŸ“Š",OTHER:"ðŸ“„"},V={GOVERNANCE:"bg-purple-100 text-purple-700",STRATEGIC:"bg-blue-100 text-blue-700",FINANCIAL:"bg-green-100 text-green-700",POLICIES:"bg-amber-100 text-amber-700",REPORTS:"bg-rose-100 text-rose-700",OTHER:"bg-gray-100 text-gray-700"};function W({document:s,onClick:a,index:t=0}){const r=O[s.category]??"ðŸ“„",i=V[s.category]??"bg-gray-100 text-gray-700",d=new Date(s.uploadedAt||s.createdAt).toLocaleDateString("en-GB",{month:"short",year:"numeric"}),l=w(s.downloadUrl),c=h=>{if(h.stopPropagation(),!l)return;const o=y(s.downloadUrl);window.open(o,"_blank")},g=h=>{(h.key==="Enter"||h.key===" ")&&(h.preventDefault(),a())};return e.jsxs(m.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:t*.08,duration:.4},whileHover:{y:-4,transition:{duration:.2}},onClick:a,onKeyDown:g,tabIndex:0,role:"button",className:"document-card group relative cursor-pointer overflow-hidden rounded-xl border border-gray-200 bg-white p-6 transition-shadow hover:border-wiria-blue-dark/20 hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-wiria-blue-dark focus:ring-offset-2",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-wiria-blue-dark/5 to-transparent opacity-0 transition-opacity duration-300 group-hover:opacity-100"}),e.jsxs("div",{className:"relative z-10 mb-4 flex items-start gap-4",children:[e.jsx(m.div,{className:"text-4xl",whileHover:{scale:1.1,rotate:5},transition:{duration:.2},children:r}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[e.jsx("span",{className:`inline-block rounded-full px-2 py-1 text-xs font-semibold ${i}`,children:s.category}),e.jsxs("span",{className:"text-xs text-gray-400",children:["Updated ",d]})]}),e.jsx("h3",{className:"line-clamp-2 text-lg font-bold text-wiria-blue-dark transition-colors group-hover:text-wiria-yellow",children:s.title})]})]}),e.jsx("p",{className:"relative z-10 mb-4 line-clamp-2 text-sm text-gray-600",children:s.summary}),s.keyPoints&&s.keyPoints.length>0&&e.jsx("ul",{className:"relative z-10 mb-4 space-y-1 text-xs text-gray-500",children:s.keyPoints.slice(0,2).map((h,o)=>e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"h-1.5 w-1.5 flex-shrink-0 rounded-full bg-wiria-yellow"}),e.jsx("span",{className:"line-clamp-1",children:h})]},o))}),e.jsxs("div",{className:"relative z-10 flex items-center justify-between border-t border-gray-100 pt-4",children:[e.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500",children:[e.jsx("span",{className:"rounded bg-gray-100 px-2 py-1 font-medium",children:s.fileType}),e.jsx("span",{children:s.fileSize})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(m.button,{onClick:c,whileHover:l?{scale:1.1}:{},whileTap:l?{scale:.95}:{},disabled:!l,className:`flex h-8 w-8 items-center justify-center rounded-full transition-colors ${l?"cursor-pointer bg-wiria-blue-dark/10 text-wiria-blue-dark hover:bg-wiria-blue-dark hover:text-white":"cursor-not-allowed bg-gray-100 text-gray-400"}`,title:l?"Quick Download":"Document not uploaded yet",children:e.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})}),e.jsxs("span",{className:"flex items-center gap-1 text-sm font-semibold text-wiria-blue-dark transition-colors group-hover:text-wiria-yellow",children:["Details",e.jsx("svg",{className:"h-4 w-4 transform transition-transform group-hover:translate-x-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})]})}function b(){return e.jsxs("div",{className:"animate-pulse rounded-xl border border-gray-200 bg-white p-6",children:[e.jsxs("div",{className:"mb-4 flex items-start gap-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-xl bg-gray-200"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"mb-2 h-5 w-20 rounded-full bg-gray-200"}),e.jsx("div",{className:"h-6 w-3/4 rounded bg-gray-200"})]})]}),e.jsxs("div",{className:"mb-4 space-y-2",children:[e.jsx("div",{className:"h-4 w-full rounded bg-gray-200"}),e.jsx("div",{className:"h-4 w-2/3 rounded bg-gray-200"})]}),e.jsxs("div",{className:"mb-4 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-gray-200"}),e.jsx("div",{className:"h-3 w-1/2 rounded bg-gray-200"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-gray-200"}),e.jsx("div",{className:"h-3 w-2/3 rounded bg-gray-200"})]})]}),e.jsxs("div",{className:"flex items-center justify-between border-t border-gray-100 pt-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"h-6 w-12 rounded bg-gray-200"}),e.jsx("div",{className:"h-6 w-16 rounded bg-gray-200"})]}),e.jsx("div",{className:"h-5 w-24 rounded bg-gray-200"})]})]})}const z=({document:s,formattedDate:a,onClose:t})=>e.jsxs("div",{className:"relative flex-shrink-0 bg-gradient-to-r from-wiria-blue-dark to-blue-700 p-6 text-white",children:[e.jsx("button",{onClick:t,className:"absolute right-6 top-6 flex h-10 w-10 items-center justify-center rounded-full bg-white/10 text-white transition-colors hover:bg-white/20","aria-label":"Close modal",children:e.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("span",{className:"mb-3 inline-block rounded-full bg-white/20 px-3 py-1 text-sm font-medium backdrop-blur-sm",children:s.category}),e.jsx("h2",{className:"pr-12 text-2xl font-bold",children:s.title}),e.jsxs("div",{className:"mt-2 flex items-center gap-3 text-sm text-white/80",children:[e.jsx("span",{children:s.fileType}),e.jsx("span",{children:"â€¢"}),e.jsx("span",{children:s.fileSize}),e.jsx("span",{children:"â€¢"}),e.jsxs("span",{children:["Updated ",a]})]})]}),U=({isPDF:s,hasDocument:a,fullUrl:t,title:r})=>{const[i,n]=u.useState(!1),[d,l]=u.useState(!0);return s&&a?e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-50 p-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"h-5 w-5 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z",clipRule:"evenodd"})}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"PDF Document"})]}),e.jsx("button",{onClick:()=>n(!i),className:"flex items-center gap-2 text-sm font-semibold text-wiria-blue-dark transition-colors hover:text-wiria-yellow",children:i?e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}),"Hide Preview"]}):e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"Preview PDF"]})})]}),e.jsx(f,{children:i&&e.jsxs(m.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:400},exit:{opacity:0,height:0},transition:{duration:.3},className:"relative mt-4 overflow-hidden rounded-lg border border-gray-200",children:[d&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto mb-3 h-10 w-10 animate-spin rounded-full border-4 border-wiria-blue-dark/20 border-t-wiria-blue-dark"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Loading preview..."})]})}),e.jsx("iframe",{src:`${t}#view=FitH`,className:"h-full w-full",title:`Preview of ${r}`,onLoad:()=>l(!1)})]})})]}):null},H=({document:s})=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"mb-2 font-semibold text-gray-700",children:"Description"}),e.jsx("p",{className:"text-gray-600",children:s.description})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"mb-2 font-semibold text-gray-700",children:"Summary"}),e.jsx("p",{className:"text-gray-600",children:s.summary})]}),s.keyPoints&&s.keyPoints.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"mb-2 font-semibold text-gray-700",children:"Key Points"}),e.jsx("ul",{className:"space-y-2",children:s.keyPoints.map((a,t)=>e.jsxs(m.li,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:t*.1},className:"flex items-start gap-3 text-gray-600",children:[e.jsx("svg",{className:"mt-0.5 h-5 w-5 flex-shrink-0 text-wiria-yellow",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),a]},t))})]})]}),$=({hasDocument:s,onDownload:a,onClose:t})=>e.jsxs("div",{className:"flex flex-col gap-3 border-t px-6 py-6 sm:flex-row",children:[s?e.jsxs(m.button,{onClick:a,whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex flex-1 items-center justify-center gap-2 rounded-full bg-wiria-blue-dark px-6 py-3 font-bold text-white transition-colors hover:bg-wiria-yellow",children:[e.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Download Document"]}):e.jsxs("div",{className:"flex flex-1 cursor-not-allowed items-center justify-center gap-2 rounded-full bg-gray-100 px-6 py-3 font-semibold text-gray-500",children:[e.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"No File Available"]}),e.jsx("button",{onClick:t,className:"flex-1 rounded-full bg-gray-200 px-6 py-3 font-bold text-gray-700 transition-colors hover:bg-gray-300",children:"Close"})]});function G({document:s,isOpen:a,onClose:t}){if(!a||!s)return null;const r=s.fileType?.toUpperCase()==="PDF",i=w(s.downloadUrl),n=y(s.downloadUrl),d=()=>{i&&window.open(n,"_blank")},c=new Date(s.uploadedAt||s.createdAt).toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"});return e.jsxs(L,{isOpen:a,onClose:t,size:"3xl",noPadding:!0,children:[e.jsx(z,{document:s,formattedDate:c,onClose:t}),e.jsxs("div",{className:"p-6",children:[e.jsx(U,{isPDF:r,hasDocument:i,fullUrl:n,title:s.title}),!i&&e.jsxs("div",{className:"mb-6 flex items-center gap-3 rounded-lg border border-yellow-200 bg-yellow-50 p-4",children:[e.jsx("svg",{className:"h-6 w-6 flex-shrink-0 text-yellow-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-yellow-800",children:"Document Pending Upload"}),e.jsx("p",{className:"text-sm text-yellow-600",children:"The file for this document has not been uploaded yet."})]})]}),e.jsx(H,{document:s})]}),e.jsx($,{hasDocument:i,onDownload:d,onClose:t})]})}async function q(){const s=await fetch("/api/resources");if(!s.ok)throw new Error("Failed to fetch resources");return(await s.json()).data?.data||[]}function P(){const{isBackendConnected:s,isChecking:a}=D();return C({queryKey:["resources",s],queryFn:()=>s?q():Promise.resolve(B),staleTime:300*1e3,enabled:!a})}const K=[{key:"ALL",label:"All"},{key:"GOVERNANCE",label:"Governance"},{key:"STRATEGIC",label:"Strategic"},{key:"FINANCIAL",label:"Financial"},{key:"POLICIES",label:"Policies"}];function Z(){const{data:s=[],isLoading:a,isError:t}=P(),[r,i]=u.useState(null),[n,d]=u.useState("ALL"),l=u.useMemo(()=>n==="ALL"?s:s.filter(o=>o.category===n),[s,n]),c=u.useMemo(()=>{const o={ALL:s.length};return s.forEach(p=>{o[p.category]=(o[p.category]??0)+1}),o},[s]),g=u.useCallback(o=>{i(o)},[]),h=u.useCallback(()=>{i(null)},[]);return e.jsxs(e.Fragment,{children:[e.jsx("section",{id:"documents",className:"scroll-mt-20 py-16",children:e.jsxs("div",{className:"container mx-auto max-w-5xl px-4 lg:px-6",children:[e.jsxs(m.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"mb-8 text-center",children:[e.jsx("h2",{className:"mb-4 text-3xl font-bold text-wiria-blue-dark",children:"Document Repository"}),e.jsx("div",{className:"mx-auto h-1 w-24 rounded-full bg-gradient-to-r from-wiria-yellow to-wiria-green-light"})]}),e.jsx("p",{className:"mx-auto mb-8 max-w-3xl text-center text-gray-600",children:"In our commitment to transparency and accountability, we make our key organizational documents available to the public."}),e.jsx(m.div,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"mb-8 flex flex-wrap justify-center gap-2",children:K.map(o=>e.jsxs("button",{onClick:()=>d(o.key),className:`rounded-full px-4 py-2 text-sm font-semibold transition-all ${n===o.key?"bg-wiria-blue-dark text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[o.label,(c[o.key]??0)>0&&e.jsx("span",{className:`ml-1.5 rounded-full px-1.5 py-0.5 text-xs ${n===o.key?"bg-white/20":"bg-gray-300"}`,children:c[o.key]??0})]},o.key))}),e.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:a?e.jsxs(e.Fragment,{children:[e.jsx(b,{}),e.jsx(b,{}),e.jsx(b,{}),e.jsx(b,{})]}):t?e.jsxs(m.div,{initial:{opacity:0},animate:{opacity:1},className:"col-span-2 rounded-xl border border-red-200 bg-red-50 p-8 text-center",children:[e.jsx("div",{className:"mb-4 text-5xl",children:"ðŸ˜”"}),e.jsx("p",{className:"mb-2 font-semibold text-red-600",children:"Failed to load documents"}),e.jsx("p",{className:"text-sm text-red-500",children:"Please refresh the page or try again later."})]}):l.length===0?e.jsxs(m.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"col-span-2 rounded-xl border-2 border-dashed border-gray-200 bg-gray-50 p-12 text-center",children:[e.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-gray-100",children:e.jsx("svg",{className:"h-8 w-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsx("p",{className:"mb-2 font-semibold text-gray-600",children:"No documents in this category"}),e.jsx("p",{className:"mb-4 text-sm text-gray-500",children:"Try selecting a different category or check back later."}),e.jsx("button",{onClick:()=>d("ALL"),className:"font-semibold text-wiria-blue-dark transition-colors hover:text-wiria-yellow",children:"View all documents â†’"})]}):e.jsx(f,{mode:"popLayout",children:l.map((o,p)=>e.jsx(W,{document:o,index:p,onClick:()=>g(o)},o.id))})})]})}),e.jsx(G,{document:r,isOpen:!!r,onClose:h})]})}function A(s){const a=new Date,r=new Date(s).getTime()-a.getTime();if(r<=0)return{days:0,hours:0,isExpired:!0,isUrgent:!1};const i=Math.floor(r/(1e3*60*60*24)),n=Math.floor(r%(1e3*60*60*24)/(1e3*60*60)),d=i<=7;return{days:i,hours:n,isExpired:!1,isUrgent:d}}function T(s,a,t){return t||s==="CLOSED"?{text:"Closed",bgClass:"bg-gray-100 text-gray-600",dotClass:"bg-gray-400"}:a?{text:"Closing Soon",bgClass:"bg-red-100 text-red-600",dotClass:"bg-red-500 animate-pulse"}:s==="OPEN"?{text:"Open",bgClass:"bg-green-100 text-green-600",dotClass:"bg-green-600"}:{text:s,bgClass:"bg-gray-100 text-gray-600",dotClass:"bg-gray-400"}}function Y({tender:s,onClick:a,index:t=0}){const{days:r,hours:i,isExpired:n,isUrgent:d}=A(s.deadline),l=T(s.status,d,n),c=new Date(s.deadline);return e.jsxs(m.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:t*.1,duration:.4},whileHover:{y:-4,transition:{duration:.2}},className:"rounded-xl border border-gray-100 bg-white p-5 shadow-md transition-shadow hover:shadow-xl",children:[e.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[e.jsx("span",{className:"rounded bg-wiria-blue-dark/10 px-2 py-1 font-mono text-xs text-wiria-blue-dark",children:s.refNo}),e.jsxs("span",{className:`flex items-center gap-1.5 rounded px-2 py-1 text-xs font-semibold ${l.bgClass}`,children:[e.jsx("span",{className:`h-2 w-2 rounded-full ${l.dotClass}`}),l.text]})]}),e.jsx("h3",{className:"mb-2 line-clamp-2 text-lg font-bold text-wiria-blue-dark",children:s.title}),e.jsxs("div",{className:"mb-3 flex flex-wrap gap-2 text-sm text-gray-500",children:[e.jsx("span",{className:"rounded bg-gray-100 px-2 py-1",children:s.category}),e.jsx("span",{className:"font-semibold text-wiria-blue-dark",children:s.estimatedValue})]}),!n&&e.jsxs("div",{className:`mb-3 flex items-center gap-2 rounded-lg p-2 ${d?"bg-red-50":"bg-blue-50"}`,children:[e.jsx("svg",{className:`h-5 w-5 ${d?"text-red-500":"text-blue-500"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{className:`text-sm font-semibold ${d?"text-red-600":"text-blue-600"}`,children:r>0?`${r}d ${i}h remaining`:`${i} hours remaining`})]}),e.jsxs("p",{className:"mb-3 text-sm text-gray-600",children:[e.jsx("span",{className:"font-semibold",children:"Deadline:"})," ",c.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})]}),e.jsx("div",{className:"mb-4",children:s.downloadUrl?e.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded bg-green-100 px-2 py-1 text-xs font-semibold text-green-700",children:[e.jsx("svg",{className:"h-3.5 w-3.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Document Ready"]}):e.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded bg-yellow-100 px-2 py-1 text-xs font-semibold text-yellow-700",children:[e.jsx("svg",{className:"h-3.5 w-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"No Document Yet"]})}),e.jsxs(m.button,{onClick:a,whileHover:{scale:1.02},whileTap:{scale:.98},disabled:n,className:`flex w-full items-center justify-center gap-2 rounded-lg px-4 py-2.5 font-semibold transition-colors ${n?"cursor-not-allowed bg-gray-200 text-gray-500":"bg-wiria-blue-dark text-white hover:bg-wiria-yellow"}`,children:[n?"Tender Closed":"View Details",!n&&e.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})}function v(){return e.jsxs("div",{className:"animate-pulse rounded-xl border border-gray-100 bg-white p-5 shadow-md",children:[e.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[e.jsx("div",{className:"h-5 w-24 rounded bg-gray-200"}),e.jsx("div",{className:"h-5 w-16 rounded bg-gray-200"})]}),e.jsx("div",{className:"mb-2 h-6 w-3/4 rounded bg-gray-200"}),e.jsxs("div",{className:"mb-3 flex gap-2",children:[e.jsx("div",{className:"h-6 w-20 rounded bg-gray-200"}),e.jsx("div",{className:"h-6 w-24 rounded bg-gray-200"})]}),e.jsx("div",{className:"mb-4 h-4 w-40 rounded bg-gray-200"}),e.jsx("div",{className:"h-10 w-full rounded-lg bg-gray-200"})]})}function N(){return e.jsxs("tr",{className:"animate-pulse",children:[e.jsx("td",{className:"px-4 py-4",children:e.jsx("div",{className:"h-5 w-28 rounded bg-gray-200"})}),e.jsxs("td",{className:"px-4 py-4",children:[e.jsx("div",{className:"mb-1 h-5 w-48 rounded bg-gray-200"}),e.jsx("div",{className:"h-4 w-32 rounded bg-gray-200"})]}),e.jsxs("td",{className:"px-4 py-4",children:[e.jsx("div",{className:"mb-1 h-5 w-24 rounded bg-gray-200"}),e.jsx("div",{className:"h-4 w-20 rounded bg-gray-200"})]}),e.jsx("td",{className:"px-4 py-4 text-center",children:e.jsx("div",{className:"mx-auto h-8 w-24 rounded-lg bg-gray-200"})})]})}const Q=({hasDocument:s,onDownload:a,onClose:t})=>e.jsxs("div",{className:"flex flex-col gap-3 border-t p-6 sm:flex-row",children:[s?e.jsxs("button",{onClick:a,className:"flex flex-1 items-center justify-center gap-2 rounded-full bg-wiria-blue-dark px-6 py-3 font-bold text-white transition-colors hover:bg-wiria-yellow",children:[e.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Download Tender Documents"]}):e.jsxs("div",{className:"flex flex-1 cursor-not-allowed items-center justify-center gap-2 rounded-full bg-gray-100 px-6 py-3 font-semibold text-gray-500",children:[e.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"No Document Uploaded Yet"]}),e.jsx("button",{onClick:t,className:"flex-1 rounded-full bg-gray-200 px-6 py-3 font-bold text-gray-700 transition-colors hover:bg-gray-300",children:"Close"})]}),_=({tender:s,deadlineDate:a})=>e.jsxs("div",{className:"grid grid-cols-2 gap-4 rounded-lg bg-gray-50 p-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-gray-500",children:"Category"}),e.jsx("p",{className:"font-semibold text-gray-700",children:s.category})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-gray-500",children:"Estimated Value"}),e.jsx("p",{className:"font-semibold text-gray-700",children:s.estimatedValue})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-gray-500",children:"Deadline"}),e.jsx("p",{className:"font-semibold text-red-600",children:a.toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-gray-500",children:"Status"}),e.jsx("span",{className:`inline-block rounded px-2 py-1 text-xs font-semibold ${s.status==="OPEN"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:s.status})]})]}),J=({isPDF:s,hasDocument:a,showPreview:t,setShowPreview:r,previewLoading:i,setPreviewLoading:n,fullUrl:d,tenderTitle:l})=>!s||!a?null:e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-50 p-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"h-5 w-5 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z",clipRule:"evenodd"})}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Tender Document (PDF)"})]}),e.jsx("button",{onClick:()=>r(!t),className:"flex items-center gap-2 text-sm font-semibold text-wiria-blue-dark transition-colors hover:text-wiria-yellow",children:t?e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268-2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}),"Hide Preview"]}):e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268-2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"Preview PDF"]})})]}),e.jsx(f,{children:t&&e.jsxs(m.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:400},exit:{opacity:0,height:0},transition:{duration:.3},className:"relative mt-4 overflow-hidden rounded-lg border border-gray-200",children:[i&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto mb-3 h-10 w-10 animate-spin rounded-full border-4 border-wiria-blue-dark/20 border-t-wiria-blue-dark"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Loading preview..."})]})}),e.jsx("iframe",{src:`${d}#view=FitH`,className:"h-full w-full",title:`Preview of ${l}`,onLoad:()=>n(!1)})]})})]}),X=({tender:s})=>e.jsxs("div",{className:"space-y-3 rounded-lg bg-wiria-blue-dark/5 p-4",children:[e.jsx("h4",{className:"font-semibold text-wiria-blue-dark",children:"Submission Information"}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Method:"})," ",s.submissionMethod]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Address:"})," ",s.submissionAddress]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Email:"})," ",e.jsx("a",{href:`mailto:${s.submissionEmail}`,className:"text-wiria-blue-dark hover:underline",children:s.submissionEmail})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Contact:"})," ",s.contactPerson," (",s.contactPhone,")"]})]})]});function ee({tender:s,isOpen:a,onClose:t}){const[r,i]=u.useState(!1),[n,d]=u.useState(!0);if(!a||!s)return null;const l=!0,c=w(s.downloadUrl),g=y(s.downloadUrl),h=()=>{c&&window.open(y(s.downloadUrl),"_blank")},o=new Date(s.deadline);return e.jsxs(L,{isOpen:a,onClose:t,size:"3xl",noPadding:!0,children:[e.jsxs("div",{className:"relative flex-shrink-0 bg-gradient-to-r from-wiria-blue-dark to-blue-700 p-6 text-white",children:[e.jsx("button",{onClick:t,className:"absolute right-6 top-6 flex h-10 w-10 items-center justify-center rounded-full bg-white/10 text-white transition-colors hover:bg-white/20","aria-label":"Close modal",children:e.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("span",{className:"mb-3 inline-block rounded-full bg-white/20 px-3 py-1 font-mono text-xs backdrop-blur-sm",children:s.refNo}),e.jsx("h2",{className:"pr-12 text-2xl font-bold",children:s.title}),e.jsxs("div",{className:"mt-2 flex items-center gap-3 text-sm text-white/80",children:[e.jsx("span",{children:s.category}),e.jsx("span",{children:"â€¢"}),e.jsx("span",{className:s.status==="OPEN"?"text-green-300":"text-gray-300",children:s.status})]})]}),e.jsxs("div",{className:"p-6",children:[e.jsx(J,{isPDF:l,hasDocument:c,showPreview:r,setShowPreview:i,previewLoading:n,setPreviewLoading:d,fullUrl:g,tenderTitle:s.title}),!c&&e.jsxs("div",{className:"mb-6 flex items-center gap-3 rounded-lg border border-yellow-200 bg-yellow-50 p-4",children:[e.jsx("svg",{className:"h-6 w-6 flex-shrink-0 text-yellow-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-yellow-800",children:"Document Pending Upload"}),e.jsx("p",{className:"text-sm text-yellow-600",children:"The file for this tender has not been uploaded yet."})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(_,{tender:s,deadlineDate:o}),e.jsxs("div",{children:[e.jsx("h4",{className:"mb-2 font-semibold text-gray-700",children:"Description"}),e.jsx("p",{className:"text-gray-600",children:s.description})]}),s.eligibility&&s.eligibility.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"mb-2 font-semibold text-gray-700",children:"Eligibility Requirements"}),e.jsx("ul",{className:"space-y-2",children:s.eligibility.map((p,j)=>e.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-600",children:[e.jsx("svg",{className:"mt-0.5 h-5 w-5 flex-shrink-0 text-wiria-yellow",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),p]},j))})]}),s.requiredDocuments&&s.requiredDocuments.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"mb-2 font-semibold text-gray-700",children:"Required Documents"}),e.jsx("ul",{className:"space-y-2",children:s.requiredDocuments.map((p,j)=>e.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-600",children:[e.jsx("svg",{className:"mt-0.5 h-5 w-5 flex-shrink-0 text-wiria-blue-dark",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),p]},j))})]}),e.jsx(X,{tender:s})]})]}),e.jsx(Q,{hasDocument:c,onDownload:h,onClose:t})]})}async function se(){const s=await fetch("/api/tenders");if(!s.ok)throw new Error("Failed to fetch tenders");return(await s.json()).data?.data||[]}function E(){const{isBackendConnected:s,isChecking:a}=D();return C({queryKey:["tenders",s],queryFn:()=>s?se():Promise.resolve(R),staleTime:300*1e3,enabled:!a})}const te=()=>e.jsxs(m.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"mb-10 text-center",children:[e.jsx("h2",{className:"mb-4 text-2xl font-bold text-wiria-blue-dark md:text-3xl",children:"Active Tenders"}),e.jsx("div",{className:"mx-auto h-1 w-24 rounded-full bg-gradient-to-r from-wiria-yellow to-wiria-green-light"})]}),ae=()=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-4 lg:hidden",children:[e.jsx(v,{}),e.jsx(v,{})]}),e.jsx("div",{className:"hidden overflow-x-auto rounded-lg shadow-md lg:block",children:e.jsxs("table",{className:"min-w-full bg-white",children:[e.jsx("thead",{className:"bg-wiria-blue-dark text-white",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold uppercase",children:"Ref No."}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold uppercase",children:"Description"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold uppercase",children:"Deadline"}),e.jsx("th",{className:"px-4 py-3 text-center text-sm font-semibold uppercase",children:"Actions"})]})}),e.jsxs("tbody",{children:[e.jsx(N,{}),e.jsx(N,{})]})]})})]}),re=()=>e.jsxs(m.div,{initial:{opacity:0},animate:{opacity:1},className:"rounded-xl border border-red-200 bg-red-50 p-8 text-center",children:[e.jsx("div",{className:"mb-4 text-5xl",children:"ðŸ˜”"}),e.jsx("p",{className:"mb-2 font-semibold text-red-600",children:"Failed to load tenders"}),e.jsx("p",{className:"text-sm text-red-500",children:"Please refresh the page or try again later."})]}),ie=()=>e.jsxs(m.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"rounded-xl border-2 border-dashed border-gray-200 bg-white p-12 text-center",children:[e.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-gray-100",children:e.jsx("svg",{className:"h-8 w-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),e.jsx("p",{className:"mb-2 font-semibold text-gray-600",children:"No Active Tenders"}),e.jsx("p",{className:"mb-4 text-sm text-gray-500",children:"There are currently no open tenders. New opportunities are posted regularly."}),e.jsxs("a",{href:"mailto:wiriacbo@gmail.com?subject=Tender%20Inquiry",className:"inline-flex items-center gap-2 font-semibold text-wiria-blue-dark transition-colors hover:text-wiria-yellow",children:[e.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"Get notified about new tenders"]})]}),ne=({openTenders:s,onTenderClick:a})=>e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-4 lg:hidden",children:e.jsx(f,{mode:"popLayout",children:s.map((t,r)=>e.jsx(Y,{tender:t,index:r,onClick:()=>a(t)},t.id))})}),e.jsx(m.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"hidden overflow-x-auto rounded-lg shadow-md lg:block",children:e.jsxs("table",{className:"min-w-full bg-white",children:[e.jsx("thead",{className:"bg-wiria-blue-dark text-white",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold uppercase",children:"Ref No."}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold uppercase",children:"Description"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold uppercase",children:"Deadline"}),e.jsx("th",{className:"px-4 py-3 text-center text-sm font-semibold uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100 text-gray-700",children:s.map(t=>{const{days:r,hours:i,isUrgent:n,isExpired:d}=A(t.deadline),l=T(t.status,n,d),c=new Date(t.deadline);return e.jsxs("tr",{className:"transition-colors hover:bg-gray-50",children:[e.jsxs("td",{className:"px-4 py-4",children:[e.jsx("span",{className:"font-mono text-sm text-wiria-blue-dark",children:t.refNo}),e.jsx("div",{className:"mt-1",children:e.jsxs("span",{className:`inline-flex items-center gap-1 rounded px-2 py-0.5 text-xs font-semibold ${l.bgClass}`,children:[e.jsx("span",{className:`h-1.5 w-1.5 rounded-full ${l.dotClass}`}),l.text]})})]}),e.jsxs("td",{className:"px-4 py-4",children:[e.jsx("p",{className:"font-semibold text-wiria-blue-dark",children:t.title}),e.jsx("p",{className:"line-clamp-1 text-sm text-gray-500",children:t.description})]}),e.jsxs("td",{className:"px-4 py-4",children:[e.jsx("p",{className:"font-semibold text-gray-700",children:c.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})}),!d&&e.jsxs("div",{className:`mt-1 flex items-center gap-1 text-xs font-semibold ${n?"text-red-600":"text-blue-600"}`,children:[e.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),r>0?`${r}d ${i}h`:`${i}h`]})]}),e.jsx("td",{className:"px-4 py-4 text-center",children:e.jsx("button",{onClick:()=>a(t),className:"rounded-lg bg-wiria-blue-dark px-4 py-2 text-sm font-semibold text-white transition-colors hover:bg-wiria-yellow",children:"View Details"})})]},t.id)})})]})})]});function le(){const{data:s=[],isLoading:a,isError:t}=E(),[r,i]=u.useState(null),n=s.filter(c=>c.status==="OPEN"),d=u.useCallback(c=>{i(c)},[]),l=u.useCallback(()=>{i(null)},[]);return e.jsxs(e.Fragment,{children:[e.jsx("section",{id:"tenders",className:"scroll-mt-20 bg-gray-50 py-16",children:e.jsxs("div",{className:"container mx-auto max-w-5xl px-4 lg:px-6",children:[e.jsx(te,{}),a?e.jsx(ae,{}):t?e.jsx(re,{}):n.length===0?e.jsx(ie,{}):e.jsx(ne,{openTenders:n,onTenderClick:d})]})}),e.jsx(ee,{tender:r,isOpen:!!r,onClose:l})]})}const k=s=>{document.getElementById(s)?.scrollIntoView({behavior:"smooth"})};function oe(){const{data:s=[]}=P(),{data:a=[]}=E(),t=s.length,r=a.filter(i=>i.status==="OPEN").length;return e.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mt-8 flex flex-wrap justify-center gap-4",children:[e.jsxs("button",{onClick:()=>k("documents"),className:"group flex items-center gap-3 rounded-full border border-white/20 bg-white/10 px-5 py-3 backdrop-blur-sm transition-all hover:bg-white/20",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-wiria-yellow/20",children:e.jsx("svg",{className:"h-5 w-5 text-wiria-yellow",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:t}),e.jsx("div",{className:"text-xs text-white/70",children:"Documents"})]}),e.jsx("svg",{className:"h-4 w-4 text-white/50 transition-all group-hover:translate-y-1 group-hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),e.jsx("div",{className:"hidden items-center text-2xl text-white/30 sm:flex",children:"â€¢"}),e.jsxs("button",{onClick:()=>k("tenders"),className:"group flex items-center gap-3 rounded-full border border-white/20 bg-white/10 px-5 py-3 backdrop-blur-sm transition-all hover:bg-white/20",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-green-500/20",children:e.jsx("svg",{className:"h-5 w-5 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:r}),e.jsx("div",{className:"text-xs text-white/70",children:"Active Tenders"})]}),e.jsx("svg",{className:"h-4 w-4 text-white/50 transition-all group-hover:translate-y-1 group-hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]})}function ye(){const s=I();return u.useEffect(()=>{if(!s.hash)return;const a=setTimeout(()=>{const t=s.hash.slice(1),r=document.getElementById(t);r&&r.scrollIntoView({behavior:"smooth",block:"start"})},100);return()=>clearTimeout(a)},[s.hash]),e.jsxs("main",{children:[e.jsx(S,{title:"Resources & Transparency",description:"Access WIRIA CBO's key documents, reports, and procurement notices.",keywords:"Resources, Documents, Reports, Tenders, Transparency",breadcrumbs:[{name:"Home",item:"/"},{name:"Resources",item:"/resources"}]}),e.jsx(M,{badge:"Documents & Reports",title:"Resources & Transparency",subtitle:"Access our key documents and procurement notices",backgroundImage:"/images/resources-hero.png",children:e.jsx(oe,{})}),e.jsx(Z,{}),e.jsx(le,{})]})}export{ye as default};
//# sourceMappingURL=ResourcesPage-B82BYtkv.js.map
