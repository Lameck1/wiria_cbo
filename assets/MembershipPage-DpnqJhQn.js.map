{"version":3,"file":"MembershipPage-DpnqJhQn.js","sources":["../../src/features/membership/hooks/useRegistration.ts","../../src/pages/membership/components/Hero.tsx","../../src/pages/membership/components/OfflineCard.tsx","../../src/pages/membership/components/SuccessCard.tsx","../../src/pages/membership/components/PendingCard.tsx","../../src/pages/membership/components/TypeToggle.tsx","../../src/pages/membership/components/GroupSection.tsx","../../src/pages/membership/components/PersonalSection.tsx","../../src/pages/membership/components/ContactSection.tsx","../../src/pages/membership/components/FeeSection.tsx","../../src/pages/membership/components/ConsentSection.tsx","../../src/pages/MembershipPage.tsx"],"sourcesContent":["/**\n * useRegistration Hook\n */\n\nimport { useState } from 'react';\nimport { apiClient } from '@/shared/services/api/client';\nimport { notificationService } from '@/shared/services/notification/notificationService';\nimport { API_ENDPOINTS } from '@/shared/services/api/endpoints';\nimport { RegistrationFormData, RegistrationResponse } from '../types';\nimport { PaymentStatusResponse } from '@/features/donations/types';\n\nexport function useRegistration() {\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [memberId, setMemberId] = useState<string | null>(null);\n  const [membershipNumber, setMembershipNumber] = useState<string | null>(null);\n  const [checkoutRequestId, setCheckoutRequestId] = useState<string | null>(null);\n  const [paymentStatus, setPaymentStatus] = useState<\n    'PENDING' | 'COMPLETED' | 'FAILED' | 'CANCELLED' | null\n  >(null);\n\n  const submitRegistration = async (data: RegistrationFormData) => {\n    setIsSubmitting(true);\n    setPaymentStatus(null);\n\n    try {\n      const response = await apiClient.post<RegistrationResponse>(\n        API_ENDPOINTS.MEMBERS_REGISTER,\n        data\n      );\n\n      const { member, checkoutRequestId: reqId, message } = response.data;\n\n      setMemberId(member.id);\n      setMembershipNumber(member.membershipNumber);\n\n      if (data.paymentMethod === 'STK_PUSH' && reqId) {\n        setCheckoutRequestId(reqId);\n        setPaymentStatus('PENDING');\n        notificationService.info('STK push sent to your phone. Please complete the payment.');\n      } else {\n        notificationService.success(message || 'Registration successful!');\n      }\n\n      return { success: true, memberId: member.id, membershipNumber: member.membershipNumber };\n    } catch (_error) {\n      notificationService.error('Registration failed. Please try again.');\n      return { success: false };\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const checkPaymentStatus = async (memberIdToCheck: string) => {\n    try {\n      const response = await apiClient.get<PaymentStatusResponse>(\n        `${API_ENDPOINTS.PAYMENTS_STATUS}/${memberIdToCheck}`\n      );\n\n      const { status } = response.data;\n      setPaymentStatus(status);\n\n      if (status === 'COMPLETED') {\n        notificationService.success('Payment completed! Your membership is now active.');\n        return 'COMPLETED';\n      } else if (status === 'FAILED') {\n        notificationService.error('Payment failed. Please try again.');\n        return 'FAILED';\n      }\n\n      return status;\n    } catch (_error) {\n      return 'PENDING';\n    }\n  };\n\n  const resetRegistration = () => {\n    setMemberId(null);\n    setMembershipNumber(null);\n    setCheckoutRequestId(null);\n    setPaymentStatus(null);\n    setIsSubmitting(false);\n  };\n\n  return {\n    submitRegistration,\n    checkPaymentStatus,\n    resetRegistration,\n    isSubmitting,\n    memberId,\n    membershipNumber,\n    checkoutRequestId,\n    paymentStatus,\n  };\n}\n","import { memo } from 'react';\nimport { motion } from 'framer-motion';\n\nexport const MembershipHero = memo(function MembershipHero() {\n    return (\n        <section className=\"relative overflow-hidden bg-gradient-to-br from-wiria-blue-dark to-blue-900 py-20 text-white\">\n            <div className=\"absolute inset-0 opacity-10\">\n                <div className=\"absolute left-0 top-0 h-64 w-64 -translate-x-1/2 -translate-y-1/2 rounded-full bg-wiria-yellow blur-3xl\" />\n                <div className=\"absolute bottom-0 right-0 h-96 w-96 translate-x-1/2 translate-y-1/2 rounded-full bg-blue-400 blur-3xl\" />\n            </div>\n            <div className=\"container relative z-10 mx-auto px-4 text-center\">\n                <motion.h1\n                    initial={{ opacity: 0, y: 20 }}\n                    animate={{ opacity: 1, y: 0 }}\n                    className=\"mb-4 text-4xl font-bold md:text-5xl\"\n                >\n                    Become a Member\n                </motion.h1>\n                <motion.p\n                    initial={{ opacity: 0, y: 20 }}\n                    animate={{ opacity: 1, y: 0 }}\n                    transition={{ delay: 0.1 }}\n                    className=\"mx-auto max-w-2xl text-xl text-gray-200\"\n                >\n                    Join WIRIA CBO and be part of positive change in our community\n                </motion.p>\n            </div>\n        </section>\n    );\n});\n","import { memo } from 'react';\nimport { motion } from 'framer-motion';\nimport { Link } from 'react-router-dom';\nimport { Card, CardBody } from '@/shared/components/ui/Card';\nimport { Button } from '@/shared/components/ui/Button';\n\nexport const OfflineInfoCard = memo(function OfflineInfoCard() {\n    return (\n        <motion.div initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }}>\n            <Card className=\"mb-8 overflow-hidden border-2 border-wiria-yellow bg-white shadow-xl\">\n                <div className=\"h-2 bg-gradient-to-r from-wiria-yellow to-amber-500\" />\n                <CardBody>\n                    <div className=\"py-8 text-center\">\n                        <div className=\"mb-4 text-6xl\">ðŸ‘‹</div>\n                        <h2 className=\"mb-4 text-3xl font-bold text-wiria-blue-dark\">Membership Information</h2>\n                        <p className=\"mx-auto mb-6 max-w-xl text-gray-700\">\n                            Thank you for your interest in joining WIRIA CBO! Our online registration system is\n                            currently being set up. Please check back soon or contact us directly to become a\n                            member.\n                        </p>\n                        <div className=\"mx-auto mb-6 max-w-md rounded-xl bg-gray-50 p-6\">\n                            <h3 className=\"mb-3 font-bold text-gray-900\">Membership Fees</h3>\n                            <div className=\"space-y-2 text-sm text-gray-600\">\n                                <div className=\"flex justify-between\">\n                                    <span>Individual Registration:</span>\n                                    <span className=\"font-semibold\">KES 500</span>\n                                </div>\n                                <div className=\"flex justify-between\">\n                                    <span>Individual Subscription:</span>\n                                    <span className=\"font-semibold\">KES 1,000</span>\n                                </div>\n                                <div className=\"flex justify-between\">\n                                    <span>Group Registration (per member):</span>\n                                    <span className=\"font-semibold\">KES 250</span>\n                                </div>\n                                <div className=\"flex justify-between\">\n                                    <span>Group Subscription (per member):</span>\n                                    <span className=\"font-semibold\">KES 500</span>\n                                </div>\n                            </div>\n                        </div>\n                        <Link to=\"/contact\">\n                            <Button size=\"lg\" className=\"px-10\">\n                                Contact Us to Register\n                            </Button>\n                        </Link>\n                    </div>\n                </CardBody>\n            </Card>\n        </motion.div>\n    );\n});\n","import { memo } from 'react';\nimport { motion } from 'framer-motion';\nimport { Link } from 'react-router-dom';\nimport { Card, CardBody } from '@/shared/components/ui/Card';\nimport { Button } from '@/shared/components/ui/Button';\n\ninterface RegistrationSuccessProps {\n    membershipNumber: string | null;\n    onStartOver: () => void;\n}\n\nexport const RegistrationSuccess = memo(function RegistrationSuccess({\n    membershipNumber,\n    onStartOver,\n}: RegistrationSuccessProps) {\n    return (\n        <motion.div initial={{ scale: 0.9, opacity: 0 }} animate={{ scale: 1, opacity: 1 }}>\n            <Card className=\"mb-8 overflow-hidden border-2 border-green-500 bg-white shadow-xl shadow-green-100\">\n                <div className=\"h-2 bg-green-500\" />\n                <CardBody>\n                    <div className=\"py-8 text-center\">\n                        <motion.div\n                            initial={{ scale: 0 }}\n                            animate={{ scale: 1 }}\n                            transition={{ type: 'spring', stiffness: 260, damping: 20 }}\n                            className=\"mb-4 text-6xl\"\n                        >\n                            ðŸŽ‰\n                        </motion.div>\n                        <h2 className=\"mb-4 text-3xl font-bold text-green-800\">Welcome to WIRIA CBO!</h2>\n                        <p className=\"mb-2 text-green-700\">Your membership has been successfully activated.</p>\n                        <p className=\"mb-6 inline-block rounded-lg border border-green-100 bg-green-50 px-8 py-3 text-lg font-semibold text-green-800\">\n                            Membership Number: <span className=\"ml-2 font-mono text-2xl\">{membershipNumber}</span>\n                        </p>\n                        <div className=\"flex flex-col justify-center gap-4 sm:flex-row\">\n                            <Link to=\"/member-login\">\n                                <Button size=\"lg\" className=\"px-10\">\n                                    Login to Member Portal\n                                </Button>\n                            </Link>\n                            <Button variant=\"outline\" onClick={onStartOver} size=\"lg\">\n                                Register Another Member\n                            </Button>\n                        </div>\n                    </div>\n                </CardBody>\n            </Card>\n        </motion.div>\n    );\n});\n","import { memo } from 'react';\nimport { motion } from 'framer-motion';\nimport { Card, CardBody } from '@/shared/components/ui/Card';\nimport { Spinner } from '@/shared/components/ui/Spinner';\n\nexport const PendingPaymentCard = memo(function PendingPaymentCard() {\n    return (\n        <motion.div initial={{ y: 20, opacity: 0 }} animate={{ y: 0, opacity: 1 }}>\n            <Card className=\"mb-8 border-2 border-blue-500 bg-white\">\n                <CardBody>\n                    <div className=\"py-6 text-center\">\n                        <Spinner size=\"lg\" className=\"mx-auto mb-4 border-blue-500\" />\n                        <h3 className=\"mb-2 text-xl font-bold text-wiria-blue-dark\">Waiting for Payment</h3>\n                        <p className=\"mb-4 text-gray-700\">\n                            Please check your phone and complete the M-Pesa payment.\n                        </p>\n                        <div className=\"inline-block animate-pulse rounded-md bg-blue-50 p-3 text-sm text-blue-800\">\n                            We're checking your payment status...\n                        </div>\n                    </div>\n                </CardBody>\n            </Card>\n        </motion.div>\n    );\n});\n","import { memo } from 'react';\n\ninterface MembershipTypeToggleProps {\n    value: 'INDIVIDUAL' | 'GROUP';\n    onChange: (value: 'INDIVIDUAL' | 'GROUP') => void;\n    isDisabled?: boolean;\n}\n\nexport const MembershipTypeToggle = memo(function MembershipTypeToggle({\n    value,\n    onChange,\n    isDisabled,\n}: MembershipTypeToggleProps) {\n    return (\n        <div className=\"flex w-fit rounded-xl bg-gray-100 p-1\">\n            <button\n                type=\"button\"\n                disabled={isDisabled}\n                onClick={() => onChange('INDIVIDUAL')}\n                className={`rounded-lg px-4 py-2 text-sm font-semibold transition-all duration-200 ${value === 'INDIVIDUAL'\n                        ? 'bg-white text-wiria-blue-dark shadow-sm'\n                        : 'text-gray-500 hover:text-gray-700'\n                    }`}\n            >\n                Individual\n            </button>\n            <button\n                type=\"button\"\n                disabled={isDisabled}\n                onClick={() => onChange('GROUP')}\n                className={`rounded-lg px-4 py-2 text-sm font-semibold transition-all duration-200 ${value === 'GROUP'\n                        ? 'bg-white text-wiria-blue-dark shadow-sm'\n                        : 'text-gray-500 hover:text-gray-700'\n                    }`}\n            >\n                Group\n            </button>\n        </div>\n    );\n});\n","import { memo } from 'react';\nimport { motion } from 'framer-motion';\nimport { FormField } from '@/shared/components/ui/form';\n\ninterface GroupRegistrationSectionProps {\n    isDisabled: boolean;\n}\n\nexport const GroupRegistrationSection = memo(function GroupRegistrationSection({\n    isDisabled,\n}: GroupRegistrationSectionProps) {\n    return (\n        <motion.div\n            key=\"group-fields\"\n            initial={{ height: 0, opacity: 0 }}\n            animate={{ height: 'auto', opacity: 1 }}\n            exit={{ height: 0, opacity: 0 }}\n            className=\"space-y-4 overflow-hidden border-b border-gray-100 pb-6\"\n        >\n            <div className=\"mb-4 flex items-center gap-3 rounded-xl bg-blue-50 p-4\">\n                <div className=\"rounded-lg bg-blue-100 p-2 text-blue-600\">\n                    <svg className=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                        <path\n                            strokeLinecap=\"round\"\n                            strokeLinejoin=\"round\"\n                            strokeWidth={2}\n                            d=\"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z\"\n                        />\n                    </svg>\n                </div>\n                <p className=\"text-sm text-blue-800\">\n                    Group registration allows for discounted collective renewals and centralized management.\n                </p>\n            </div>\n            <div className=\"grid grid-cols-1 gap-6 md:grid-cols-2\">\n                <FormField\n                    name=\"groupName\"\n                    label=\"Group Name\"\n                    placeholder=\"e.g. Unity Youth Group\"\n                    disabled={isDisabled}\n                />\n                <FormField\n                    name=\"memberCount\"\n                    type=\"number\"\n                    label=\"Initial Member Count\"\n                    disabled={isDisabled}\n                />\n            </div>\n        </motion.div>\n    );\n});\n","import { memo } from 'react';\nimport { FormField, FormSelectField } from '@/shared/components/ui/form';\n\ninterface PersonalInfoSectionProps {\n    isDisabled: boolean;\n    membershipType: 'INDIVIDUAL' | 'GROUP';\n}\n\nexport const PersonalInfoSection = memo(function PersonalInfoSection({\n    isDisabled,\n    membershipType,\n}: PersonalInfoSectionProps) {\n    return (\n        <div>\n            <h3 className=\"mb-6 flex items-center gap-2 text-lg font-bold text-gray-900\">\n                <span className=\"flex h-8 w-8 items-center justify-center rounded-full bg-wiria-blue-dark text-sm font-bold text-white\">\n                    1\n                </span>\n                {membershipType === 'GROUP'\n                    ? 'Primary Contact / Representative Information'\n                    : 'Personal Information'}\n            </h3>\n            <div className=\"grid grid-cols-1 gap-6 md:grid-cols-2\">\n                <FormField\n                    name=\"firstName\"\n                    label=\"First Name\"\n                    disabled={isDisabled}\n                />\n                <FormField\n                    name=\"lastName\"\n                    label=\"Last Name\"\n                    disabled={isDisabled}\n                />\n                <FormField\n                    name=\"dateOfBirth\"\n                    type=\"date\"\n                    label={membershipType === 'INDIVIDUAL' ? 'Date of Birth *' : 'Date of Birth'}\n                    disabled={isDisabled}\n                />\n                <FormSelectField\n                    name=\"gender\"\n                    label={membershipType === 'INDIVIDUAL' ? 'Gender *' : 'Gender'}\n                    disabled={isDisabled}\n                    options={[\n                        { value: 'MALE', label: 'Male' },\n                        { value: 'FEMALE', label: 'Female' },\n                        { value: 'OTHER', label: 'Other' },\n                    ]}\n                />\n                <FormField\n                    name=\"nationalId\"\n                    label={\n                        membershipType === 'GROUP'\n                            ? 'Group Registration Number (if applicable)'\n                            : 'National ID Number *'\n                    }\n                    disabled={isDisabled}\n                />\n            </div>\n        </div>\n    );\n});\n","import { memo } from 'react';\nimport { FormField } from '@/shared/components/ui/form';\n\ninterface ContactLocationSectionProps {\n    isDisabled: boolean;\n}\n\nexport const ContactLocationSection = memo(function ContactLocationSection({\n    isDisabled,\n}: ContactLocationSectionProps) {\n    return (\n        <div>\n            <h3 className=\"mb-6 flex items-center gap-2 text-lg font-bold text-gray-900\">\n                <span className=\"flex h-8 w-8 items-center justify-center rounded-full bg-wiria-blue-dark text-sm font-bold text-white\">\n                    2\n                </span>\n                Contact & Location\n            </h3>\n            <div className=\"grid grid-cols-1 gap-6 md:grid-cols-2\">\n                <FormField\n                    name=\"email\"\n                    type=\"email\"\n                    label=\"Email Address\"\n                    disabled={isDisabled}\n                />\n                <FormField\n                    name=\"phoneNumber\"\n                    label=\"Phone Number\"\n                    placeholder=\"0712345678\"\n                    description=\"Your M-Pesa registered number\"\n                    disabled={isDisabled}\n                />\n                <FormField\n                    name=\"county\"\n                    label=\"County\"\n                    disabled={isDisabled}\n                />\n                <FormField\n                    name=\"subCounty\"\n                    label=\"Sub-County\"\n                    disabled={isDisabled}\n                />\n                <FormField\n                    name=\"ward\"\n                    label=\"Ward\"\n                    disabled={isDisabled}\n                />\n                <FormField\n                    name=\"village\"\n                    label=\"Village\"\n                    disabled={isDisabled}\n                />\n            </div>\n        </div>\n    );\n});\n","import { memo } from 'react';\nimport { motion } from 'framer-motion';\nimport { PaymentMethodToggle } from '@/features/donations/components/PaymentMethodToggle';\nimport { PaymentInstructions } from '@/features/donations/components/PaymentInstructions';\n\ninterface FeeBreakdown {\n    registration: { rate: number; count: number; subtotal: number };\n    subscription: { rate: number; count: number; subtotal: number };\n    total: number;\n}\n\ninterface FeeBreakdownSectionProps {\n    feeBreakdown: FeeBreakdown;\n    totalFee: number;\n    paymentMethod: 'STK_PUSH' | 'MANUAL';\n    onPaymentMethodChange: (method: 'STK_PUSH' | 'MANUAL') => void;\n    isDisabled: boolean;\n}\n\nexport const FeeBreakdownSection = memo(function FeeBreakdownSection({\n    feeBreakdown,\n    totalFee,\n    paymentMethod,\n    onPaymentMethodChange,\n    isDisabled,\n}: FeeBreakdownSectionProps) {\n    return (\n        <div className=\"rounded-2xl border border-gray-100 bg-gray-50 p-6\">\n            <h3 className=\"mb-6 flex items-center gap-2 text-lg font-bold text-gray-900\">\n                <svg\n                    className=\"h-5 w-5 text-wiria-blue-dark\"\n                    fill=\"none\"\n                    viewBox=\"0 0 24 24\"\n                    stroke=\"currentColor\"\n                >\n                    <path\n                        strokeLinecap=\"round\"\n                        strokeLinejoin=\"round\"\n                        strokeWidth={2}\n                        d=\"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z\"\n                    />\n                </svg>\n                Fee Breakdown\n            </h3>\n\n            <div className=\"mb-8 space-y-4\">\n                <div className=\"flex items-center justify-between border-b border-dashed border-gray-200 py-2\">\n                    <div className=\"text-gray-600\">\n                        <span className=\"font-medium text-gray-900\">Registration Fee</span>\n                        <p className=\"text-xs text-gray-500\">\n                            {feeBreakdown.registration.count}{' '}\n                            {feeBreakdown.registration.count === 1 ? 'member' : 'members'} Ã— KES{' '}\n                            {feeBreakdown.registration.rate.toLocaleString()}\n                        </p>\n                    </div>\n                    <span className=\"font-semibold text-gray-900\">\n                        KES {feeBreakdown.registration.subtotal.toLocaleString()}\n                    </span>\n                </div>\n\n                <div className=\"flex items-center justify-between border-b border-dashed border-gray-200 py-2\">\n                    <div className=\"text-gray-600\">\n                        <span className=\"font-medium text-gray-900\">Subscription Fee</span>\n                        <p className=\"text-xs text-gray-500\">\n                            {feeBreakdown.subscription.count}{' '}\n                            {feeBreakdown.subscription.count === 1 ? 'member' : 'members'} Ã— KES{' '}\n                            {feeBreakdown.subscription.rate.toLocaleString()}\n                        </p>\n                    </div>\n                    <span className=\"font-semibold text-gray-900\">\n                        KES {feeBreakdown.subscription.subtotal.toLocaleString()}\n                    </span>\n                </div>\n\n                <div className=\"flex items-center justify-between pt-2\">\n                    <span className=\"text-lg font-bold text-gray-900\">Total Amount</span>\n                    <motion.span\n                        key={totalFee}\n                        initial={{ scale: 1.1, color: '#1e40af' }}\n                        animate={{ scale: 1, color: '#1e3a8a' }}\n                        className=\"font-mono text-2xl font-bold text-wiria-blue-dark\"\n                    >\n                        KES {totalFee.toLocaleString()}\n                    </motion.span>\n                </div>\n            </div>\n\n            <div className=\"mb-6\">\n                <PaymentMethodToggle\n                    selected={paymentMethod}\n                    onChange={onPaymentMethodChange}\n                    disabled={isDisabled}\n                />\n            </div>\n\n            <PaymentInstructions\n                paymentMethod={paymentMethod}\n                amount={totalFee}\n                submitLabel=\"Complete Registration\"\n                accountNumber=\"MEMBERSHIP\"\n            />\n        </div>\n    );\n});\n","import { memo } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useFormContext } from 'react-hook-form';\n\ninterface ConsentCheckboxesProps {\n    isDisabled: boolean;\n}\n\nexport const ConsentCheckboxes = memo(function ConsentCheckboxes({\n    isDisabled,\n}: ConsentCheckboxesProps) {\n    const { register, formState: { errors } } = useFormContext();\n\n    return (\n        <div className=\"space-y-3 rounded-xl border border-gray-100 p-4\">\n            <div className=\"flex items-start gap-3\">\n                <input\n                    type=\"checkbox\"\n                    id=\"agreedToTerms\"\n                    {...register('agreedToTerms')}\n                    disabled={isDisabled}\n                    className=\"mt-1 h-5 w-5 rounded border-gray-300 text-wiria-blue-dark focus:ring-wiria-blue-dark\"\n                />\n                <label htmlFor=\"agreedToTerms\" className=\"text-sm leading-tight text-gray-700\">\n                    I agree to the{' '}\n                    <Link to=\"/safeguarding\" className=\"font-semibold text-wiria-blue-dark hover:underline\">\n                        terms and conditions\n                    </Link>\n                    <span className=\"text-red-500\">*</span>\n                </label>\n            </div>\n            {errors['agreedToTerms'] && (\n                <p className=\"pl-8 text-sm text-red-600\">{(errors['agreedToTerms']?.message as string)}</p>\n            )}\n\n            <div className=\"flex items-start gap-3\">\n                <input\n                    type=\"checkbox\"\n                    id=\"consentToDataProcessing\"\n                    {...register('consentToDataProcessing')}\n                    disabled={isDisabled}\n                    className=\"mt-1 h-5 w-5 rounded border-gray-300 text-wiria-blue-dark focus:ring-wiria-blue-dark\"\n                />\n                <label htmlFor=\"consentToDataProcessing\" className=\"text-sm leading-tight text-gray-700\">\n                    I consent to the processing of my personal data according to the privacy policy\n                    <span className=\"text-red-500\">*</span>\n                </label>\n            </div>\n            {errors['consentToDataProcessing'] && (\n                <p className=\"pl-8 text-sm text-red-600\">{(errors['consentToDataProcessing']?.message as string)}</p>\n            )}\n        </div>\n    );\n});\n","import { Card, CardBody } from '@/shared/components/ui/Card';\nimport { Button } from '@/shared/components/ui/Button';\nimport { useRegistration } from '@/features/membership/hooks/useRegistration';\nimport { usePaymentPoller } from '@/features/donations/hooks/usePaymentPoller';\nimport { useForm, FormProvider } from 'react-hook-form';\nimport { zodResolver } from '@hookform/resolvers/zod';\nimport { registrationSchema, RegistrationFormSchema } from '@/features/membership/validation';\nimport { formatPhoneNumber } from '@/shared/utils/helpers';\nimport { useFeeCalculation } from '@/shared/hooks/useFeeCalculation';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useAuth } from '@/features/auth/context/AuthContext';\nimport { useBackendStatus } from '@/shared/services/backendStatus';\nimport { UserRole } from '@/shared/types';\nimport { useEffect } from 'react';\nimport { AnimatePresence } from 'framer-motion';\n\nimport {\n  MembershipHero,\n  OfflineInfoCard,\n  RegistrationSuccess,\n  PendingPaymentCard,\n  FeeBreakdownSection,\n  ConsentCheckboxes,\n  MembershipTypeToggle,\n  GroupRegistrationSection,\n  PersonalInfoSection,\n  ContactLocationSection,\n} from './membership/components';\n\nfunction MembershipPage() {\n  const { user, isAuthenticated } = useAuth();\n  const { isBackendConnected } = useBackendStatus();\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    if (isAuthenticated && user?.role === UserRole.MEMBER) {\n      navigate('/member-portal', { replace: true });\n    }\n  }, [isAuthenticated, user, navigate]);\n\n  const methods = useForm<RegistrationFormSchema>({\n    resolver: zodResolver(registrationSchema),\n    defaultValues: {\n      membershipType: 'INDIVIDUAL',\n      memberCount: 1,\n      firstName: '',\n      lastName: '',\n      email: '',\n      phoneNumber: '',\n      nationalId: '',\n      county: '',\n      subCounty: '',\n      ward: '',\n      village: '',\n      agreedToTerms: false,\n      consentToDataProcessing: false,\n      paymentMethod: 'STK_PUSH',\n      gender: undefined,\n    },\n  });\n\n  const { handleSubmit, watch, setValue } = methods;\n\n  const membershipType = watch('membershipType');\n  const memberCount = watch('memberCount') || 1;\n\n  const feeBreakdown = useFeeCalculation({\n    membershipType,\n    memberCount,\n  });\n\n  const totalFee = feeBreakdown.total;\n\n  useEffect(() => {\n    setValue('membershipFee', totalFee);\n  }, [totalFee, setValue]);\n\n  const {\n    submitRegistration,\n    checkPaymentStatus,\n    resetRegistration,\n    isSubmitting,\n    memberId,\n    membershipNumber,\n    paymentStatus,\n  } = useRegistration();\n\n  const paymentMethod = watch('paymentMethod');\n\n  // Poll payment status for STK Push\n  usePaymentPoller({\n    donationId: memberId,\n    isActive: paymentStatus === 'PENDING' && paymentMethod === 'STK_PUSH',\n    onStatusCheck: checkPaymentStatus,\n  });\n\n  const onSubmit = async (data: RegistrationFormSchema) => {\n    const formattedData = {\n      ...data,\n      phoneNumber: formatPhoneNumber(data.phoneNumber),\n    };\n    await submitRegistration(formattedData);\n  };\n\n  const handleStartOver = () => {\n    resetRegistration();\n    window.location.reload();\n  };\n\n  const isFormDisabled = isSubmitting || paymentStatus === 'PENDING';\n\n  return (\n    <FormProvider {...methods}>\n      <MembershipHero />\n\n      <section className=\"py-16\">\n        <div className=\"container mx-auto px-4\">\n          <div className=\"mx-auto max-w-3xl\">\n            {/* Backend Offline - Show Info Only */}\n            {!isBackendConnected && <OfflineInfoCard />}\n\n            {/* Backend Online - Show Registration Form */}\n            {isBackendConnected && (\n              <>\n                {/* Success State */}\n                {paymentStatus === 'COMPLETED' && (\n                  <RegistrationSuccess\n                    membershipNumber={membershipNumber}\n                    onStartOver={handleStartOver}\n                  />\n                )}\n\n                {/* Pending Payment */}\n                {paymentStatus === 'PENDING' && paymentMethod === 'STK_PUSH' && (\n                  <PendingPaymentCard />\n                )}\n\n                {/* Registration Form */}\n                {paymentStatus !== 'COMPLETED' && (\n                  <Card className=\"border-none shadow-2xl\">\n                    <CardBody className=\"p-8\">\n                      <div className=\"mb-8 flex flex-col justify-between gap-4 md:flex-row md:items-center\">\n                        <h2 className=\"text-2xl font-bold text-wiria-blue-dark\">\n                          Membership Registration\n                        </h2>\n\n                        <MembershipTypeToggle\n                          value={membershipType}\n                          onChange={(val) => setValue('membershipType', val)}\n                          isDisabled={isFormDisabled}\n                        />\n                      </div>\n\n                      <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-8\">\n                        <AnimatePresence mode=\"wait\">\n                          {membershipType === 'GROUP' && (\n                            <GroupRegistrationSection\n                              isDisabled={isFormDisabled}\n                            />\n                          )}\n                        </AnimatePresence>\n\n                        <PersonalInfoSection\n                          isDisabled={isFormDisabled}\n                          membershipType={membershipType}\n                        />\n\n                        <ContactLocationSection\n                          isDisabled={isFormDisabled}\n                        />\n\n                        {/* Payment Section */}\n                        <FeeBreakdownSection\n                          feeBreakdown={feeBreakdown}\n                          totalFee={totalFee}\n                          paymentMethod={paymentMethod}\n                          onPaymentMethodChange={(method: 'STK_PUSH' | 'MANUAL') =>\n                            setValue('paymentMethod', method)\n                          }\n                          isDisabled={isFormDisabled}\n                        />\n\n                        {/* Consent */}\n                        <ConsentCheckboxes\n                          isDisabled={isFormDisabled}\n                        />\n\n                        {/* Submit */}\n                        <Button\n                          type=\"submit\"\n                          fullWidth\n                          size=\"lg\"\n                          isLoading={isSubmitting}\n                          disabled={paymentStatus === 'PENDING'}\n                          className=\"h-14 text-lg shadow-lg transition-all hover:shadow-xl\"\n                        >\n                          {isSubmitting\n                            ? 'Processing...'\n                            : paymentStatus === 'PENDING'\n                              ? 'Payment Pending...'\n                              : 'Complete Registration'}\n                        </Button>\n\n                        <p className=\"text-center text-sm text-gray-600\">\n                          Already a member?{' '}\n                          <Link\n                            to=\"/member-login\"\n                            className=\"font-bold text-wiria-blue-dark hover:underline\"\n                          >\n                            Login here\n                          </Link>\n                        </p>\n                      </form>\n                    </CardBody>\n                  </Card>\n                )}\n              </>\n            )}\n          </div>\n        </div>\n      </section>\n    </FormProvider>\n  );\n}\n\nexport default MembershipPage;\n"],"names":["useRegistration","isSubmitting","setIsSubmitting","useState","memberId","setMemberId","membershipNumber","setMembershipNumber","checkoutRequestId","setCheckoutRequestId","paymentStatus","setPaymentStatus","data","response","apiClient","API_ENDPOINTS","member","reqId","message","notificationService","memberIdToCheck","status","MembershipHero","memo","jsxs","jsx","motion","OfflineInfoCard","Card","CardBody","Link","Button","RegistrationSuccess","onStartOver","PendingPaymentCard","Spinner","MembershipTypeToggle","value","onChange","isDisabled","GroupRegistrationSection","FormField","PersonalInfoSection","membershipType","FormSelectField","ContactLocationSection","FeeBreakdownSection","feeBreakdown","totalFee","paymentMethod","onPaymentMethodChange","PaymentMethodToggle","PaymentInstructions","ConsentCheckboxes","register","errors","useFormContext","_a","_b","MembershipPage","user","isAuthenticated","useAuth","isBackendConnected","useBackendStatus","navigate","useNavigate","useEffect","UserRole","methods","useForm","zodResolver","registrationSchema","handleSubmit","watch","setValue","memberCount","useFeeCalculation","submitRegistration","checkPaymentStatus","resetRegistration","usePaymentPoller","onSubmit","formattedData","formatPhoneNumber","handleStartOver","isFormDisabled","FormProvider","Fragment","val","AnimatePresence","method"],"mappings":"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"}