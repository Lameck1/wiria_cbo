import{j as e}from"./query-vendor-DD8i-cqI.js";import{u as z,A as P,n as L,e as D,L as H}from"./index-82T4QowL.js";import{r as c}from"./react-vendor-CPrm261X.js";import{m as t,A as R}from"./animation-vendor-DKvKsx_2.js";const B="http://localhost:5001/api";function F(){const[n,m]=c.useState(!1),[i,x]=c.useState(!1),[a,o]=c.useState(null),[l,p]=c.useState(null),[k,f]=c.useState(null),{isBackendConnected:y}=z();return{submitReport:async(d,j)=>{m(!0),o(null);try{if(y)try{const h=new FormData;Object.entries(d).forEach(([E,C])=>{C!==void 0&&C!==""&&h.append(E,String(C))}),j&&h.append("evidence",j);const N=await fetch(`${B}${P.SAFEGUARDING_SUBMIT}`,{method:"POST",body:h});if(!N.ok)throw new Error("Failed to submit report");const I=await N.json();return o(I.data.referenceNumber),L.success("Report submitted successfully. Please save your reference number."),!0}catch(h){return console.warn("[useSafeguardingReport] Primary API failed, attempting EmailJS fallback...",h),await D.sendSafeguardingReport(d),L.success("Your report has been submitted directly to our safeguarding team via our offline channel."),!0}else return await D.sendSafeguardingReport(d),console.log("[useSafeguardingReport] Fallback to EmailJS successful"),L.success("Your report has been submitted directly to our safeguarding team via our offline channel."),!0}catch(h){return console.error("[useSafeguardingReport] Report submission failed:",h),L.error("Failed to submit report. Please try again or contact us directly."),!1}finally{m(!1)}},lookupStatus:async(d,j)=>{x(!0),p(null),f(null);try{const h=await fetch(`${B}${P.SAFEGUARDING_LOOKUP}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({referenceNumber:d,email:j||void 0})});if(!h.ok)throw new Error("Report not found");const N=await h.json();return p(N.data),!0}catch{return f("Report not found. Please check your reference number."),!1}finally{x(!1)}},isSubmitting:n,isLookingUp:i,submittedReference:a,lookupResult:l,lookupError:k,resetSubmission:()=>{o(null)},resetLookup:()=>{p(null),f(null)}}}const X=[{value:"CHILD_PROTECTION",label:"Child Protection",icon:"ðŸ§’"},{value:"SEXUAL_EXPLOITATION",label:"Sexual Exploitation",icon:"âš ï¸"},{value:"HARASSMENT",label:"Harassment",icon:"ðŸ˜°"},{value:"DISCRIMINATION",label:"Discrimination",icon:"ðŸš«"},{value:"FRAUD",label:"Financial Misconduct",icon:"ðŸ’°"},{value:"OTHER",label:"Other Concern",icon:"ðŸ“‹"}],U=[{value:"Witness",label:"Witness"},{value:"Victim",label:"Victim/Survivor"},{value:"Parent/Guardian",label:"Parent/Guardian"},{value:"Staff",label:"Staff Member"},{value:"Volunteer",label:"Volunteer"},{value:"Community Member",label:"Community Member"},{value:"Other",label:"Other"}],O={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.1}}},b={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4}}};function G(){const[n,m]=c.useState("reporter"),[i,x]=c.useState(!1),[a,o]=c.useState({reporterName:"",reporterEmail:"",reporterPhone:"",reporterRelation:"",category:"",incidentDate:"",location:"",personsInvolved:"",description:""}),[l,p]=c.useState(null),[k,f]=c.useState(!1),y=c.useRef(null),{submitReport:w,isSubmitting:s,submittedReference:u,resetSubmission:A}=F(),d=r=>{o(S=>({...S,[r.target.name]:r.target.value}))},j=r=>{o(S=>({...S,category:r}))},h=r=>{r.target.files&&r.target.files[0]&&p(r.target.files[0])},N=()=>{p(null)},I=()=>{m("details")},E=()=>{m("reporter")},C=async r=>{r.preventDefault();const S={isAnonymous:i,category:a.category,description:a.description,...a.incidentDate&&{incidentDate:a.incidentDate},...a.location&&{location:a.location},...a.personsInvolved&&{personsInvolved:a.personsInvolved},...!i&&{reporterName:a.reporterName||void 0,reporterEmail:a.reporterEmail||void 0,reporterPhone:a.reporterPhone||void 0,reporterRelation:a.reporterRelation||void 0}};await w(S,l||void 0)&&f(!0)},V=()=>{A(),f(!1),o({reporterName:"",reporterEmail:"",reporterPhone:"",reporterRelation:"",category:"",incidentDate:"",location:"",personsInvolved:"",description:""}),p(null),x(!1),m("reporter")},T=n==="reporter"?50:100;if(u||k)return e.jsxs(t.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-12",children:[e.jsx(t.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,delay:.2},className:"w-24 h-24 bg-gradient-to-br from-green-100 to-green-200 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg",children:e.jsx(t.svg,{initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:1},transition:{duration:.5,delay:.4},className:"w-12 h-12 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx(t.path,{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),e.jsx(t.h3,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},className:"text-2xl font-bold text-gray-800 mb-2",children:"Report Submitted Successfully"}),e.jsx(t.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"text-gray-600 mb-6",children:"Thank you for bringing this to our attention."}),e.jsxs(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"bg-gradient-to-br from-gray-100 to-gray-50 p-6 rounded-xl inline-block shadow-inner",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Your Reference Number:"}),e.jsx("p",{className:"text-3xl font-bold text-slate-700 tracking-wider",children:u})]}),e.jsx(t.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"text-sm text-gray-500 mt-4",children:"Please save this reference number to check the status of your report."}),e.jsxs(t.button,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.9},onClick:V,className:"mt-6 text-wiria-blue-dark hover:text-wiria-yellow font-medium transition-colors inline-flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Submit Another Report"]})]});const v="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-slate-500 focus:border-slate-500 transition-all duration-200 disabled:bg-gray-50 disabled:cursor-not-allowed",g="block text-sm font-medium text-gray-700 mb-1";return e.jsxs("form",{id:"safeguarding-form",ref:y,className:"space-y-6",onSubmit:C,children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:`text-sm font-medium ${n==="reporter"?"text-slate-700":"text-gray-400"}`,children:"1. Reporter Info"}),e.jsx("span",{className:`text-sm font-medium ${n==="details"?"text-slate-700":"text-gray-400"}`,children:"2. Concern Details"})]}),e.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx(t.div,{className:"h-full bg-gradient-to-r from-slate-600 to-slate-700 rounded-full",initial:{width:"50%"},animate:{width:`${T}%`},transition:{duration:.3}})})]}),e.jsxs(R,{mode:"wait",children:[n==="reporter"&&e.jsxs(t.div,{variants:O,initial:"hidden",animate:"visible",exit:{opacity:0,x:-20},className:"space-y-6",children:[e.jsxs(t.div,{variants:b,className:"bg-gradient-to-br from-gray-50 to-gray-100 p-5 rounded-xl border border-gray-200",children:[e.jsxs("label",{className:"flex items-start cursor-pointer",children:[e.jsx("input",{type:"checkbox",id:"isAnonymous",checked:i,onChange:r=>x(r.target.checked),className:"w-5 h-5 mt-0.5 text-slate-600 rounded border-gray-300 focus:ring-slate-500"}),e.jsxs("span",{className:"ml-3 flex-1",children:[e.jsxs("span",{className:"font-semibold text-gray-800 flex items-center gap-2",children:["Report Anonymously",i&&e.jsxs(t.span,{initial:{scale:0},animate:{scale:1},className:"inline-flex items-center gap-1 px-2 py-0.5 bg-green-100 text-green-700 text-xs font-medium rounded-full",children:[e.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})}),"Protected"]})]}),e.jsx("span",{className:"block text-sm text-gray-500 mt-1",children:"Your identity will not be recorded. However, we won't be able to contact you for follow-up."})]})]}),e.jsx(R,{children:i&&e.jsx(t.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4 p-3 bg-green-50 rounded-lg border border-green-200",children:e.jsxs("p",{className:"text-sm text-green-700 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),e.jsxs("span",{children:[e.jsx("strong",{children:"Your identity is protected."})," No personal data will be stored with this report."]})]})})})]}),e.jsx(R,{children:!i&&e.jsxs(t.div,{variants:b,initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-4 border-l-4 border-wiria-blue-dark pl-4",children:[e.jsx("h3",{className:"font-semibold text-wiria-blue-dark",children:"Your Information"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"reporterName",className:g,children:"Your Name"}),e.jsx("input",{type:"text",id:"reporterName",name:"reporterName",value:a.reporterName,onChange:d,disabled:s,className:v,placeholder:"Enter your name"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"reporterEmail",className:g,children:"Your Email"}),e.jsx("input",{type:"email",id:"reporterEmail",name:"reporterEmail",value:a.reporterEmail,onChange:d,disabled:s,className:v,placeholder:"email@example.com"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"reporterPhone",className:g,children:"Phone (Optional)"}),e.jsx("input",{type:"tel",id:"reporterPhone",name:"reporterPhone",value:a.reporterPhone,onChange:d,disabled:s,className:v,placeholder:"+254 7XX XXX XXX"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"reporterRelation",className:g,children:"Your Relation"}),e.jsxs("select",{id:"reporterRelation",name:"reporterRelation",value:a.reporterRelation,onChange:d,disabled:s,className:v,children:[e.jsx("option",{value:"",children:"Select..."}),U.map(r=>e.jsx("option",{value:r.value,children:r.label},r.value))]})]})]})]})}),e.jsx(t.div,{variants:b,children:e.jsxs("button",{type:"button",onClick:I,className:"w-full py-3.5 px-6 bg-gradient-to-r from-slate-600 to-slate-700 text-white font-bold rounded-xl shadow-lg hover:shadow-xl transition-all flex items-center justify-center gap-2",children:["Continue to Concern Details",e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})})]},"reporter"),n==="details"&&e.jsxs(t.div,{variants:O,initial:"hidden",animate:"visible",exit:{opacity:0,x:20},className:"space-y-6",children:[e.jsxs(t.div,{variants:b,children:[e.jsxs("label",{className:g,children:["Category of Concern ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 mt-2",children:X.map(r=>e.jsxs("button",{type:"button",onClick:()=>j(r.value),disabled:s,className:`p-3 rounded-xl border-2 text-left transition-all ${a.category===r.value?"border-slate-600 bg-slate-50 shadow-md":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"} disabled:opacity-50`,children:[e.jsx("span",{className:"text-xl",children:r.icon}),e.jsx("span",{className:`block text-sm mt-1 font-medium ${a.category===r.value?"text-slate-700":"text-gray-600"}`,children:r.label})]},r.value))})]}),e.jsxs(t.div,{variants:b,className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"incidentDate",className:g,children:"When did this occur?"}),e.jsx("input",{type:"date",id:"incidentDate",name:"incidentDate",value:a.incidentDate,onChange:d,disabled:s,className:v})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"location",className:g,children:"Where did this happen?"}),e.jsx("input",{type:"text",id:"location",name:"location",value:a.location,onChange:d,disabled:s,className:v,placeholder:"Location or area"})]})]}),e.jsxs(t.div,{variants:b,children:[e.jsx("label",{htmlFor:"personsInvolved",className:g,children:"Person(s) Involved"}),e.jsx("textarea",{id:"personsInvolved",name:"personsInvolved",rows:2,value:a.personsInvolved,onChange:d,disabled:s,className:v,placeholder:"Names or descriptions of people involved"})]}),e.jsxs(t.div,{variants:b,children:[e.jsxs("label",{htmlFor:"description",className:g,children:["Description ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{id:"description",name:"description",rows:5,value:a.description,onChange:d,required:!0,minLength:20,disabled:s,className:v,placeholder:"Please describe what happened in detail..."}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Minimum 20 characters required"})]}),e.jsxs(t.div,{variants:b,children:[e.jsx("label",{className:g,children:"Supporting Evidence (Optional)"}),l?e.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 rounded-lg border border-green-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-green-800",children:l.name}),e.jsxs("p",{className:"text-sm text-green-600",children:[(l.size/1024).toFixed(1)," KB"]})]})]}),e.jsx("button",{type:"button",onClick:N,className:"p-2 text-red-500 hover:bg-red-100 rounded-full transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}):e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"file",id:"evidence",onChange:h,disabled:s,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",accept:"image/*,.pdf,.doc,.docx"}),e.jsxs("div",{className:"p-6 border-2 border-dashed border-gray-300 rounded-xl text-center hover:border-slate-400 hover:bg-gray-50 transition-all",children:[e.jsx("svg",{className:"w-10 h-10 text-gray-400 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Click or drag file to upload"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Images, PDF, Word (Max 10MB)"})]})]})]}),e.jsx(t.div,{variants:b,className:"pt-4 sticky bottom-4 lg:static z-10",children:e.jsxs("div",{className:"flex gap-3 bg-white/90 backdrop-blur-sm p-2 -m-2 rounded-xl lg:bg-transparent lg:p-0 lg:m-0",children:[e.jsxs("button",{type:"button",onClick:E,className:"flex-1 py-3.5 px-4 bg-white border-2 border-gray-300 text-gray-700 font-semibold rounded-xl hover:bg-gray-50 transition-all flex items-center justify-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back"]}),e.jsx("button",{type:"submit",disabled:s||!a.category||!a.description,className:"flex-[2] py-3.5 px-6 bg-gradient-to-r from-slate-600 to-slate-700 text-white font-bold rounded-xl shadow-lg hover:shadow-xl transition-all flex items-center justify-center gap-2 disabled:opacity-60 disabled:cursor-not-allowed",children:s?e.jsxs(e.Fragment,{children:[e.jsxs(t.svg,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Submitting..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),"Submit Report"]})})]})})]},"details")]})]})}const Y={PENDING:{bg:"bg-amber-100",text:"text-amber-800",icon:"â³",label:"Pending Review"},UNDER_REVIEW:{bg:"bg-blue-100",text:"text-blue-800",icon:"ðŸ‘ï¸",label:"Under Review"},INVESTIGATING:{bg:"bg-purple-100",text:"text-purple-800",icon:"ðŸ”",label:"Investigating"},RESOLVED:{bg:"bg-green-100",text:"text-green-800",icon:"âœ“",label:"Resolved"},CLOSED:{bg:"bg-gray-200",text:"text-gray-800",icon:"ðŸ”’",label:"Closed"}};function _(){const[n,m]=c.useState(""),[i,x]=c.useState(""),{lookupStatus:a,isLookingUp:o,lookupResult:l,lookupError:p,resetLookup:k}=F(),f=async u=>{u.preventDefault(),await a(n,i||void 0)},y=()=>{k(),m(""),x("")},w=u=>new Date(u).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}),s=l?Y[l.status]:null;return e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg p-6 border border-gray-100",children:[e.jsxs("h3",{className:"text-xl font-bold text-wiria-blue-dark mb-4 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),"Check Report Status"]}),e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"lookupReference",className:"block text-sm font-medium text-gray-700 mb-1",children:"Reference Number"}),e.jsx("input",{type:"text",id:"lookupReference",value:n,onChange:u=>m(u.target.value),required:!0,disabled:o,className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-wiria-blue-dark focus:border-wiria-blue-dark disabled:bg-gray-50 transition-all",placeholder:"SGR-2025-XXXXXX"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"lookupEmail",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email (if provided)"}),e.jsx("input",{type:"email",id:"lookupEmail",value:i,onChange:u=>x(u.target.value),disabled:o,className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-wiria-blue-dark focus:border-wiria-blue-dark disabled:bg-gray-50 transition-all",placeholder:"Optional - for verification"})]}),e.jsx("button",{type:"submit",disabled:o||!n,className:"w-full bg-wiria-blue-dark hover:bg-blue-900 text-white font-semibold py-3 px-4 rounded-lg transition-all disabled:opacity-60 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:o?e.jsxs(e.Fragment,{children:[e.jsxs(t.svg,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Checking..."]}):"Check Status"})]}),e.jsxs(R,{children:[l&&s&&e.jsxs(t.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.95},className:"mt-4 p-4 bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Status:"}),e.jsxs(t.div,{initial:{scale:.8},animate:{scale:1},transition:{type:"spring",stiffness:300},className:`inline-flex items-center gap-2 px-4 py-2 rounded-full ${s.bg} ${s.text} font-bold`,children:[e.jsx("span",{className:"text-lg",children:s.icon}),e.jsx("span",{children:s.label})]}),e.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200 text-sm text-gray-500 space-y-1",children:[e.jsxs("p",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 4h10M5 11h14M5 15h14M5 19h14"})}),"Submitted: ",w(l.createdAt)]}),l.updatedAt!==l.createdAt&&e.jsxs("p",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Updated: ",w(l.updatedAt)]})]}),e.jsxs("button",{onClick:y,className:"mt-4 text-sm text-wiria-blue-dark hover:text-wiria-yellow font-medium transition-colors flex items-center gap-1",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Check Another Report"]})]}),p&&e.jsxs(t.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0},className:"mt-4 p-4 bg-red-50 rounded-xl border border-red-100",children:[e.jsxs("p",{className:"text-red-600 text-sm flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),p]}),e.jsx("button",{onClick:y,className:"mt-2 text-sm text-red-700 hover:text-red-800 font-medium",children:"Try Again"})]})]})]})}function $(){return e.jsx("section",{className:"py-8 bg-gray-50",children:e.jsxs("div",{className:"container mx-auto px-4 lg:px-6 space-y-4",children:[e.jsxs(t.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"relative p-6 rounded-lg bg-gradient-to-r from-yellow-50 to-amber-50 border-l-4 border-amber-500 overflow-hidden",children:[e.jsx(t.div,{animate:{opacity:[.3,.6,.3],scale:[1,1.02,1]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},className:"absolute inset-0 bg-gradient-to-r from-amber-200/30 to-yellow-200/30 pointer-events-none"}),e.jsxs("div",{className:"flex items-start relative z-10",children:[e.jsx(t.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0,repeatDelay:3},children:e.jsx("svg",{className:"w-6 h-6 text-amber-600 mr-3 flex-shrink-0 mt-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-amber-800 mb-1",children:"Immediate Danger?"}),e.jsx("p",{className:"text-amber-700",children:"If someone is in immediate danger, please contact local emergency services first (Police: 999/112, or Child Helpline: 116)."})]})]})]}),e.jsx(t.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"p-6 rounded-lg bg-gradient-to-r from-slate-50 to-slate-100 border-l-4 border-slate-500",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("svg",{className:"w-6 h-6 text-slate-600 mr-3 flex-shrink-0 mt-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-slate-800 mb-1",children:"Confidentiality Notice"}),e.jsx("p",{className:"text-slate-600",children:"All reports are treated with the utmost confidentiality. You can choose to report anonymously. Only designated safeguarding officers have access to this information."})]})]})})]})})}function q(){const n=["Your report is received and logged securely","A safeguarding officer reviews within 24-48 hours","Investigation is conducted as appropriate","Action is taken and you may be notified of outcome"];return e.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-2xl p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-wiria-blue-dark mb-4",children:"What Happens Next?"}),e.jsx("ol",{className:"space-y-4",children:n.map((m,i)=>e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"w-6 h-6 bg-red-600 text-white rounded-full flex items-center justify-center text-sm font-bold flex-shrink-0",children:i+1}),e.jsx("span",{className:"text-gray-700",children:m})]},i))})]})}function J(){return e.jsxs("div",{className:"bg-red-50 rounded-2xl p-6 border border-red-100",children:[e.jsx("h3",{className:"text-xl font-bold text-red-800 mb-4",children:"Prefer to Speak Directly?"}),e.jsx("p",{className:"text-red-700 mb-4",children:"You can contact our Safeguarding Team directly:"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("p",{className:"flex items-center gap-2 text-gray-700",children:[e.jsx("svg",{className:"w-5 h-5 text-red-600 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),e.jsx("a",{href:"mailto:safeguarding@wiria.org",className:"hover:text-red-600 transition-colors",children:"safeguarding@wiria.org"})]}),e.jsxs("p",{className:"flex items-center gap-2 text-gray-700",children:[e.jsx("svg",{className:"w-5 h-5 text-red-600 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),e.jsx("a",{href:"tel:+254700000000",className:"hover:text-red-600 transition-colors",children:"+254 700 000 000"})]})]})]})}const K={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.15,delayChildren:.2}}},W={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}};function M({title:n,icon:m,children:i,defaultOpen:x=!1}){const[a,o]=c.useState(x);return e.jsxs("div",{className:"lg:contents",children:[e.jsxs("div",{className:"lg:hidden bg-white rounded-xl shadow-md border border-gray-100 overflow-hidden",children:[e.jsxs("button",{onClick:()=>o(!a),className:"w-full px-5 py-4 flex items-center justify-between text-left",children:[e.jsxs("span",{className:"flex items-center gap-3 font-semibold text-wiria-blue-dark",children:[m,n]}),e.jsx(t.svg,{animate:{rotate:a?180:0},className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),e.jsx(t.div,{initial:!1,animate:{height:a?"auto":0},className:"overflow-hidden",children:e.jsx("div",{className:"px-5 pb-5",children:i})})]}),e.jsx("div",{className:"hidden lg:block",children:i})]})}function re(){return e.jsx(H,{children:e.jsxs("main",{children:[e.jsxs("section",{className:"relative bg-gradient-to-br from-slate-700 via-slate-800 to-slate-900 py-24 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 opacity-10",children:e.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[e.jsx("pattern",{id:"shield-pattern",x:"0",y:"0",width:"20",height:"20",patternUnits:"userSpaceOnUse",children:e.jsx("path",{d:"M10 2 L18 6 L18 14 L10 20 L2 14 L2 6 Z",fill:"none",stroke:"currentColor",strokeWidth:"0.5"})}),e.jsx("rect",{width:"100%",height:"100%",fill:"url(#shield-pattern)"})]})}),e.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-amber-500/10 rounded-full blur-3xl pointer-events-none"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-blue-500/10 rounded-full blur-3xl pointer-events-none"}),e.jsx("div",{className:"container mx-auto px-4 lg:px-6 relative z-10",children:e.jsxs(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-4xl mx-auto text-center text-white",children:[e.jsxs(t.span,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},className:"inline-flex items-center gap-2 px-4 py-1.5 bg-white/10 text-white rounded-full text-sm font-medium mb-6 backdrop-blur-sm border border-white/20",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),"Confidential Reporting"]}),e.jsx(t.h1,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-4xl md:text-5xl lg:text-6xl font-bold mb-6",children:"Report a Safeguarding Concern"}),e.jsx(t.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"text-lg md:text-xl text-slate-300 max-w-2xl mx-auto",children:"Your safety matters. Report concerns confidentially and we will investigate promptly."})]})}),e.jsx("div",{className:"absolute bottom-0 left-0 w-full h-20 bg-gradient-to-t from-gray-50 to-transparent"})]}),e.jsx($,{}),e.jsx("section",{className:"py-16 bg-gradient-to-b from-gray-50 to-white",children:e.jsx("div",{className:"container mx-auto px-4 lg:px-6",children:e.jsxs(t.div,{variants:K,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-50px"},className:"grid lg:grid-cols-3 gap-8 lg:gap-12",children:[e.jsx(t.div,{variants:W,className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl p-6 md:p-8 border border-gray-100/50 relative overflow-hidden",children:[e.jsx("div",{className:"absolute -top-20 -right-20 w-40 h-40 bg-gradient-to-br from-slate-200/30 to-blue-200/30 rounded-full blur-3xl pointer-events-none"}),e.jsx(t.h2,{initial:{opacity:0,y:-10},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-2xl md:text-3xl font-bold text-wiria-blue-dark mb-2 relative",children:"Submit a Report"}),e.jsx(t.div,{initial:{scaleX:0},whileInView:{scaleX:1},viewport:{once:!0},transition:{delay:.2,duration:.5},className:"w-20 h-1 bg-gradient-to-r from-slate-600 to-slate-400 rounded-full mb-6 origin-left"}),e.jsx("p",{className:"text-gray-600 mb-8",children:"Please provide as much detail as possible. All fields marked with * are required."}),e.jsx(G,{})]})}),e.jsxs(t.div,{variants:W,className:"space-y-4 lg:space-y-6",children:[e.jsx(M,{title:"Check Report Status",icon:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),defaultOpen:!1,children:e.jsx(_,{})}),e.jsx(M,{title:"What Happens Next?",icon:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),defaultOpen:!1,children:e.jsx(q,{})}),e.jsx(M,{title:"Direct Contact",icon:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),defaultOpen:!1,children:e.jsx(J,{})})]})]})})})]})})}export{re as default};
//# sourceMappingURL=SafeguardingPage-C6L5awvm.js.map
