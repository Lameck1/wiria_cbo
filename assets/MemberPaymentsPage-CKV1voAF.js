import{j as e}from"./query-vendor-DD8i-cqI.js";import{r as o}from"./react-vendor-CPrm261X.js";import{u as m,P as i}from"./useMemberData-CyhqK0kd.js";import{C as a,a as r,b as h}from"./Card-cNb7e57y.js";import{S as j}from"./Spinner-Dno8ytLy.js";import"./index-82T4QowL.js";import"./animation-vendor-DKvKsx_2.js";function w(){const{payments:t,isLoading:c,totalPayments:d,pendingPayments:n,fetchPayments:l}=m();o.useEffect(()=>{l()},[l]);const x=s=>{switch(s){case"COMPLETED":return"bg-green-100 text-green-800";case"PENDING":return"bg-yellow-100 text-yellow-800";case"FAILED":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return c&&t.length===0?e.jsx(i,{title:"Payment History",children:e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsx(j,{size:"lg"})})}):e.jsx(i,{title:"Payment History",subtitle:"View all your payment transactions",children:e.jsxs("div",{className:"max-w-5xl",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[e.jsx(a,{children:e.jsxs(r,{children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Total Paid"}),e.jsxs("p",{className:"text-2xl font-bold text-wiria-blue-dark",children:["KES ",d.toLocaleString()]})]})}),e.jsx(a,{children:e.jsxs(r,{children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Total Transactions"}),e.jsx("p",{className:"text-2xl font-bold text-wiria-blue-dark",children:t.length})]})}),e.jsx(a,{children:e.jsxs(r,{children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Pending Payments"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:n})]})})]}),e.jsxs(a,{children:[e.jsx(h,{children:e.jsx("h2",{className:"text-xl font-bold text-wiria-blue-dark",children:"Transaction History"})}),e.jsx(r,{children:t.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-6xl mb-4",children:"üí≥"}),e.jsx("p",{className:"text-gray-500",children:"No payment records found"})]}):e.jsx("div",{className:"space-y-4",children:t.map(s=>e.jsx("div",{className:"p-4 bg-gray-50 rounded-xl hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-wiria-blue-dark/10 flex items-center justify-center text-xl",children:s.type==="REGISTRATION"?"üìù":s.type==="RENEWAL"?"üîÑ":"‚ù§Ô∏è"}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-semibold text-gray-800 capitalize",children:[s.type.toLowerCase().replace("_"," ")," Payment"]}),e.jsxs("p",{className:"text-sm text-gray-500",children:[new Date(s.createdAt).toLocaleDateString()," ‚Ä¢"," ",s.method==="STK_PUSH"?"M-Pesa STK Push":"Manual"]}),s.mpesaReceiptNumber&&e.jsxs("p",{className:"text-xs text-gray-400",children:["Receipt: ",s.mpesaReceiptNumber]})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold uppercase ${x(s.status)}`,children:s.status}),e.jsxs("p",{className:"text-xl font-bold text-wiria-blue-dark",children:["KES ",s.amount.toLocaleString()]})]})]})},s.id))})})]})]})})}export{w as default};
//# sourceMappingURL=MemberPaymentsPage-CKV1voAF.js.map
