import{a as w,j as e}from"./query-vendor-DeB3i2OK.js";import{L as o}from"./react-vendor-D3fc32Hw.js";import{u as v,P as h}from"./useMemberData-Bk18ALG8.js";import{B as b}from"./Button-DJTJFzQ2.js";import{C as l,a as r,b as g}from"./Card-DSTnzHyU.js";import{S as C}from"./Spinner-iBcup-Oy.js";import"./index-8OXY4Dao.js";import"./animation-vendor-JsFu8W7l.js";import"./endpoints-Cofiu-EW.js";import"./helpers-CdcGZezW.js";const M=({profile:s,statusText:t,statusTextColor:i,statusColor:a})=>e.jsx(l,{children:e.jsxs(r,{children:[e.jsxs("div",{className:"mb-4 flex items-center gap-4",children:[e.jsxs("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-wiria-blue-dark text-2xl font-bold text-white",children:[s?.firstName?.[0],s?.lastName?.[0]]}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold text-wiria-blue-dark",children:[s?.firstName," ",s?.lastName]}),e.jsx("p",{className:"text-sm text-gray-500",children:s?.email})]})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Member ID:"}),e.jsx("span",{className:"font-semibold text-gray-800",children:s?.memberNumber??"--"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Status:"}),e.jsx("span",{className:`rounded px-2 py-0.5 text-xs font-bold uppercase ${i} ${a}`,children:t})]})]}),e.jsx(o,{to:"/member-profile",children:e.jsx(b,{className:"mt-4 w-full",variant:"primary",children:"View Profile"})})]})}),S=({isExpired:s,daysUntilExpiry:t,joinedAt:i})=>e.jsx(l,{className:`bg-gradient-to-br from-wiria-blue-dark to-blue-900 text-white ${s?"ring-2 ring-red-500":""}`,children:e.jsxs(r,{children:[e.jsx("h3",{className:"mb-2 text-lg font-bold",children:"Membership"}),e.jsx("p",{className:"mb-4 text-sm text-blue-100",children:s?"Your membership has expired":t===null?"Checking status...":`Expires in ${t} days`}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"mb-1 flex justify-between text-xs",children:[e.jsx("span",{children:"Joined"}),e.jsx("span",{children:i?new Date(i).toLocaleDateString():"--"})]})}),e.jsx(o,{to:"/member-renewal",children:e.jsx(b,{className:"w-full bg-wiria-yellow font-bold text-white shadow-lg transition-all hover:scale-105",children:"Renew Membership"})})]})}),j=({title:s,value:t,subtitle:i,icon:a,iconBgColor:c,iconColor:d})=>e.jsx(l,{children:e.jsxs(r,{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-sm text-gray-500",children:s}),e.jsx("p",{className:"text-2xl font-bold text-wiria-blue-dark",children:t}),e.jsx("p",{className:"text-xs text-gray-500",children:i})]}),e.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-xl ${c} text-2xl ${d}`,children:a})]})}),k=({meetings:s})=>e.jsxs(l,{children:[e.jsx(g,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-bold text-wiria-blue-dark",children:"Upcoming Meetings"}),e.jsx(o,{to:"/member-meetings",className:"text-sm text-wiria-blue-dark hover:text-wiria-yellow",children:"View All â†’"})]})}),e.jsx(r,{children:e.jsx("div",{className:"space-y-3",children:s.length===0?e.jsx("p",{className:"text-sm italic text-gray-500",children:"No upcoming meetings"}):s.slice(0,3).map(t=>e.jsx("div",{className:"rounded-lg bg-gray-50 p-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-800",children:t.title}),e.jsxs("p",{className:"text-xs text-gray-500",children:[new Date(t.date).toLocaleDateString()," at ",t.time]})]}),e.jsx("span",{className:"rounded bg-blue-100 px-2 py-1 text-xs text-blue-800",children:t.type})]})},t.id))})})]}),L=({activity:s})=>e.jsxs(l,{children:[e.jsx(g,{children:e.jsx("h3",{className:"text-xl font-bold text-wiria-blue-dark",children:"Recent Activity"})}),e.jsx(r,{children:e.jsx("div",{className:"space-y-3",children:s.length===0?e.jsx("p",{className:"text-sm italic text-gray-500",children:"No recent activity"}):s.slice(0,5).map(t=>e.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[e.jsx("div",{className:"mt-2 h-2 w-2 rounded-full bg-wiria-blue-dark"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-800",children:t.description}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(t.createdAt).toLocaleDateString()})]})]},t.id))})})]});function V(){const{profile:s,payments:t,meetings:i,activity:a,isLoading:c,totalPayments:d,upcomingMeetings:p,daysUntilExpiry:u,isExpired:n,isExpiringSoon:x,fetchAll:m}=v();if(w.useEffect(()=>{m()},[m]),c&&!s)return e.jsx(h,{title:"Member Portal",subtitle:"Loading your dashboard...",children:e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsx(C,{size:"lg"})})});const N=n?"border-red-200 bg-red-50":x?"border-yellow-200 bg-yellow-50":"border-green-200 bg-green-50",f=n?"Expired":x?"Expiring Soon":s?.status??"Active",y=n?"text-red-700":x?"text-yellow-700":"text-green-700";return e.jsxs(h,{title:"Welcome Back!",subtitle:"Here's what's happening with your membership",children:[e.jsxs("div",{className:"mb-8 grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:[e.jsx(M,{profile:s,statusText:f,statusTextColor:y,statusColor:N}),e.jsx(S,{isExpired:n,daysUntilExpiry:u,joinedAt:s?.joinedAt}),e.jsx(j,{title:"Total Payments",value:`KES ${d.toLocaleString()}`,subtitle:`${t.length} transactions`,icon:"ðŸ’³",iconBgColor:"bg-green-100",iconColor:"text-green-600"}),e.jsx(j,{title:"Upcoming Meetings",value:p,subtitle:"This month",icon:"ðŸ“…",iconBgColor:"bg-blue-100",iconColor:"text-blue-600"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[e.jsx(k,{meetings:i}),e.jsx(L,{activity:a})]})]})}export{V as default};
//# sourceMappingURL=MemberPortalPage-wAvR3D5P.js.map
