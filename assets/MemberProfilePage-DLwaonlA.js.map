{"version":3,"file":"MemberProfilePage-DLwaonlA.js","sources":["../../src/pages/MemberProfilePage.tsx"],"sourcesContent":["/**\n * Member Profile Page\n * View and edit member profile information\n */\n\nimport { useEffect, useState } from 'react';\nimport { PortalLayout } from '@/features/membership/components/PortalLayout';\nimport { useMemberData, MemberProfile } from '@/features/membership/hooks/useMemberData';\nimport { Button } from '@/shared/components/ui/Button';\nimport { Input } from '@/shared/components/ui/Input';\nimport { Spinner } from '@/shared/components/ui/Spinner';\nimport { notificationService } from '@/shared/services/notification/notificationService';\n\nfunction MemberProfilePage() {\n    const { profile, isLoading, fetchProfile, updateProfile } = useMemberData();\n    const [isEditing, setIsEditing] = useState(false);\n    const [isSaving, setIsSaving] = useState(false);\n    const [formData, setFormData] = useState<Partial<MemberProfile>>({});\n\n    useEffect(() => {\n        fetchProfile();\n    }, [fetchProfile]);\n\n    useEffect(() => {\n        if (profile) {\n            setFormData({\n                firstName: profile.firstName,\n                lastName: profile.lastName,\n                phone: profile.phone,\n                occupation: profile.occupation,\n                address: profile.address,\n                county: profile.county,\n                subcounty: profile.subcounty,\n                ward: profile.ward,\n                interests: profile.interests,\n                skills: profile.skills,\n            });\n        }\n    }, [profile]);\n\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        const { name, value } = e.target;\n        setFormData(prev => ({ ...prev, [name]: value }));\n    };\n\n    const handleSubmit = async (e: React.FormEvent) => {\n        e.preventDefault();\n        setIsSaving(true);\n        try {\n            await updateProfile(formData);\n            notificationService.success('Profile updated successfully');\n            setIsEditing(false);\n        } catch {\n            notificationService.error('Failed to update profile');\n        } finally {\n            setIsSaving(false);\n        }\n    };\n\n    if (isLoading && !profile) {\n        return (\n            <PortalLayout title=\"Member Profile\">\n                <div className=\"flex items-center justify-center py-20\">\n                    <Spinner size=\"lg\" />\n                </div>\n            </PortalLayout>\n        );\n    }\n\n    const ProfileField = ({ label, value }: { label: string; value?: string | string[] }) => (\n        <div className=\"p-4 bg-gray-50 rounded-xl\">\n            <p className=\"text-xs text-gray-500 uppercase font-bold mb-1\">{label}</p>\n            <p className=\"text-lg font-semibold text-gray-800\">\n                {Array.isArray(value) ? value.join(', ') : value || '--'}\n            </p>\n        </div>\n    );\n\n    return (\n        <PortalLayout title=\"Member Profile\" subtitle=\"View and manage your profile information\">\n            <div className=\"max-w-4xl\">\n                <div className=\"bg-white p-8 rounded-2xl shadow-xl relative overflow-hidden\">\n                    {/* Decorative border top */}\n                    <div className=\"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-wiria-blue-dark via-wiria-yellow to-wiria-green-light\" />\n\n                    {/* View Mode */}\n                    {!isEditing && (\n                        <div id=\"profile-view\">\n                            <div className=\"flex justify-between items-center mb-6\">\n                                <h2 className=\"text-2xl font-bold text-wiria-blue-dark\">Profile Information</h2>\n                                <Button onClick={() => setIsEditing(true)}>Edit Profile</Button>\n                            </div>\n\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                                <ProfileField label=\"Full Name\" value={`${profile?.firstName} ${profile?.lastName}`} />\n                                <ProfileField label=\"Email Address\" value={profile?.email} />\n                                <ProfileField label=\"Phone Number\" value={profile?.phone} />\n                                <ProfileField label=\"National ID\" value={profile?.nationalId} />\n                                <ProfileField label=\"Occupation\" value={profile?.occupation} />\n                                <ProfileField label=\"Address\" value={profile?.address} />\n                                <ProfileField label=\"County\" value={profile?.county} />\n                                <ProfileField label=\"Sub-County\" value={profile?.subcounty} />\n                                <ProfileField label=\"Ward\" value={profile?.ward} />\n                                <div className=\"md:col-span-2\">\n                                    <ProfileField label=\"Interests\" value={profile?.interests} />\n                                </div>\n                                <div className=\"md:col-span-2\">\n                                    <ProfileField label=\"Skills\" value={profile?.skills} />\n                                </div>\n                            </div>\n                        </div>\n                    )}\n\n                    {/* Edit Mode */}\n                    {isEditing && (\n                        <form onSubmit={handleSubmit} className=\"mt-4\">\n                            <h2 className=\"text-2xl font-bold text-wiria-blue-dark mb-6 text-center\">\n                                Edit Member Profile\n                            </h2>\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                                <Input\n                                    label=\"First Name\"\n                                    name=\"firstName\"\n                                    value={formData.firstName || ''}\n                                    onChange={handleChange}\n                                    required\n                                />\n                                <Input\n                                    label=\"Last Name\"\n                                    name=\"lastName\"\n                                    value={formData.lastName || ''}\n                                    onChange={handleChange}\n                                    required\n                                />\n                                <Input\n                                    label=\"Phone\"\n                                    name=\"phone\"\n                                    value={formData.phone || ''}\n                                    onChange={handleChange}\n                                />\n                                <Input\n                                    label=\"Occupation\"\n                                    name=\"occupation\"\n                                    value={formData.occupation || ''}\n                                    onChange={handleChange}\n                                />\n                                <div className=\"md:col-span-2\">\n                                    <Input\n                                        label=\"Address\"\n                                        name=\"address\"\n                                        value={formData.address || ''}\n                                        onChange={handleChange}\n                                    />\n                                </div>\n                                <Input\n                                    label=\"County\"\n                                    name=\"county\"\n                                    value={formData.county || ''}\n                                    onChange={handleChange}\n                                />\n                                <Input\n                                    label=\"Sub-County\"\n                                    name=\"subcounty\"\n                                    value={formData.subcounty || ''}\n                                    onChange={handleChange}\n                                />\n                                <Input\n                                    label=\"Ward\"\n                                    name=\"ward\"\n                                    value={formData.ward || ''}\n                                    onChange={handleChange}\n                                />\n                                <div className=\"md:col-span-2\">\n                                    <Input\n                                        label=\"Interests (comma separated)\"\n                                        name=\"interests\"\n                                        value={Array.isArray(formData.interests) ? formData.interests.join(', ') : ''}\n                                        onChange={(e) => setFormData(prev => ({\n                                            ...prev,\n                                            interests: e.target.value.split(',').map(s => s.trim())\n                                        }))}\n                                    />\n                                </div>\n                                <div className=\"md:col-span-2\">\n                                    <Input\n                                        label=\"Skills (comma separated)\"\n                                        name=\"skills\"\n                                        value={Array.isArray(formData.skills) ? formData.skills.join(', ') : ''}\n                                        onChange={(e) => setFormData(prev => ({\n                                            ...prev,\n                                            skills: e.target.value.split(',').map(s => s.trim())\n                                        }))}\n                                    />\n                                </div>\n                            </div>\n                            <div className=\"flex gap-4 mt-8\">\n                                <Button\n                                    type=\"submit\"\n                                    className=\"flex-1\"\n                                    variant=\"primary\"\n                                    isLoading={isSaving}\n                                >\n                                    Save Changes\n                                </Button>\n                                <Button\n                                    type=\"button\"\n                                    className=\"flex-1\"\n                                    variant=\"outline\"\n                                    onClick={() => setIsEditing(false)}\n                                >\n                                    Cancel\n                                </Button>\n                            </div>\n                        </form>\n                    )}\n                </div>\n            </div>\n        </PortalLayout>\n    );\n}\n\nexport default MemberProfilePage;\n"],"names":["MemberProfilePage","profile","isLoading","fetchProfile","updateProfile","useMemberData","isEditing","setIsEditing","useState","isSaving","setIsSaving","formData","setFormData","useEffect","handleChange","e","name","value","prev","handleSubmit","notificationService","jsx","PortalLayout","Spinner","ProfileField","label","jsxs","Button","Input","s"],"mappings":"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"}