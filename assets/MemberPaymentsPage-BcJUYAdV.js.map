{"version":3,"file":"MemberPaymentsPage-BcJUYAdV.js","sources":["../../src/pages/MemberPaymentsPage.tsx"],"sourcesContent":["import { useEffect } from 'react';\n\nimport { PortalLayout } from '@/features/membership/components/PortalLayout';\nimport { useMemberData } from '@/features/membership/hooks/useMemberData';\nimport { Card, CardBody, CardHeader } from '@/shared/components/ui/Card';\nimport { Spinner } from '@/shared/components/ui/Spinner';\nimport { StatusBadge } from '@/shared/components/ui/StatusBadge';\n\nfunction MemberPaymentsPage() {\n  const { payments, isLoading, totalPayments, pendingPayments, fetchPayments } = useMemberData();\n\n  useEffect(() => {\n    void fetchPayments();\n  }, [fetchPayments]);\n\n  if (isLoading && payments.length === 0) {\n    return (\n      <PortalLayout title=\"Payment History\">\n        <div className=\"flex items-center justify-center py-20\">\n          <Spinner size=\"lg\" />\n        </div>\n      </PortalLayout>\n    );\n  }\n\n  return (\n    <PortalLayout title=\"Payment History\" subtitle=\"View all your payment transactions\">\n      <div className=\"max-w-5xl\">\n        {/* Summary Statistics */}\n        <div className=\"mb-8 grid grid-cols-1 gap-4 md:grid-cols-3\">\n          <Card className=\"border-none shadow-sm\">\n            <CardBody className=\"p-6\">\n              <p className=\"mb-1 text-xs font-bold uppercase tracking-wider text-gray-500\">\n                Total Paid\n              </p>\n              <p className=\"text-3xl font-bold text-wiria-blue-dark\">\n                KES {totalPayments.toLocaleString()}\n              </p>\n            </CardBody>\n          </Card>\n          <Card className=\"border-none shadow-sm\">\n            <CardBody className=\"p-6\">\n              <p className=\"mb-1 text-xs font-bold uppercase tracking-wider text-gray-500\">\n                Total Transactions\n              </p>\n              <p className=\"text-3xl font-bold text-wiria-blue-dark\">{payments.length}</p>\n            </CardBody>\n          </Card>\n          <Card className=\"border-none shadow-sm\">\n            <CardBody className=\"p-6\">\n              <p className=\"mb-1 text-xs font-bold uppercase tracking-wider text-gray-500\">\n                Pending Payments\n              </p>\n              <p className=\"text-3xl font-bold text-yellow-600\">{pendingPayments}</p>\n            </CardBody>\n          </Card>\n        </div>\n\n        {/* Payments List */}\n        <Card className=\"border-none shadow-sm\">\n          <CardHeader className=\"border-b bg-gray-50/50 p-6\">\n            <h2 className=\"text-xl font-bold text-wiria-blue-dark\">Transaction History</h2>\n          </CardHeader>\n          <CardBody className=\"p-0\">\n            {payments.length === 0 ? (\n              <div className=\"py-20 text-center\">\n                <div className=\"mb-6 text-6xl opacity-20\">üí≥</div>\n                <p className=\"text-gray-500\">No payment records found</p>\n              </div>\n            ) : (\n              <div className=\"divide-y\">\n                {payments.map((payment) => (\n                  <div key={payment.id} className=\"p-6 transition-colors hover:bg-gray-50/80\">\n                    <div className=\"flex flex-col gap-6 md:flex-row md:items-center md:justify-between\">\n                      <div className=\"flex items-start gap-4\">\n                        <div className=\"flex h-14 w-14 shrink-0 items-center justify-center rounded-2xl bg-wiria-blue-dark/5 text-2xl shadow-inner\">\n                          {payment.type === 'REGISTRATION'\n                            ? 'üìù'\n                            : payment.type === 'RENEWAL'\n                              ? 'üîÑ'\n                              : '‚ù§Ô∏è'}\n                        </div>\n                        <div className=\"space-y-1\">\n                          <p className=\"text-lg font-bold capitalize leading-tight text-gray-900\">\n                            {payment.type.toLowerCase().replace('_', ' ')} Payment\n                          </p>\n                          <p className=\"text-sm text-gray-500\">\n                            {new Date(payment.createdAt).toLocaleDateString('en-KE', {\n                              day: 'numeric',\n                              month: 'long',\n                              year: 'numeric',\n                            })}{' '}\n                            ‚Ä¢ {payment.method === 'STK_PUSH' ? 'M-Pesa STK Push' : 'Manual Deposit'}\n                          </p>\n                          {payment.mpesaReceiptNumber && (\n                            <p className=\"inline-flex rounded-lg bg-gray-100 px-2 py-0.5 font-mono text-xs text-gray-600\">\n                              Receipt: {payment.mpesaReceiptNumber}\n                            </p>\n                          )}\n                        </div>\n                      </div>\n                      <div className=\"flex flex-row items-center justify-between gap-6 md:flex-col md:items-end md:justify-center md:gap-2\">\n                        <StatusBadge status={payment.status} />\n                        <p className=\"text-2xl font-bold text-wiria-blue-dark\">\n                          KES {payment.amount.toLocaleString()}\n                        </p>\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </CardBody>\n        </Card>\n      </div>\n    </PortalLayout>\n  );\n}\n\nexport default MemberPaymentsPage;\n"],"names":["MemberPaymentsPage","payments","isLoading","totalPayments","pendingPayments","fetchPayments","useMemberData","useEffect","jsx","PortalLayout","Spinner","jsxs","Card","CardBody","CardHeader","payment","StatusBadge"],"mappings":"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"}